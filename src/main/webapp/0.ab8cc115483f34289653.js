(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+gcA":function(e,t){e.exports=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}},"0BRo":function(e,t,a){var i=a("1s4d");e.exports=function(e,t,a){var n,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;a<e.length;){if(0===(o=e[a])&&1/o===n)return a;a+=1}return-1}if(t!=t){for(;a<e.length;){if("number"==typeof(o=e[a])&&o!=o)return a;a+=1}return-1}return e.indexOf(t,a);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,a);case"object":if(null===t)return e.indexOf(t,a)}for(;a<e.length;){if(i(e[a],t))return a;a+=1}return-1}},"1s4d":function(e,t,a){var i=a("Wnyi"),n=a("zgIM");e.exports=i(function(e,t){return n(e,t,[],[])})},"7e6P":function(e,t,a){var i=a("cOqj"),n=a("Av+g"),o=a("l7rt"),r=!{toString:null}.propertyIsEnumerable("toString"),l=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),c=function(e,t){for(var a=0;a<e.length;){if(e[a]===t)return!0;a+=1}return!1},d="function"!=typeof Object.keys||s?function(e){if(Object(e)!==e)return[];var t,a,i=[],d=s&&o(e);for(t in e)!n(t,e)||d&&"length"===t||(i[i.length]=t);if(r)for(a=l.length-1;a>=0;)n(t=l[a],e)&&!c(i,t)&&(i[i.length]=t),a-=1;return i}:function(e){return Object(e)!==e?[]:Object.keys(e)};e.exports=i(d)},NBrB:function(e,t){e.exports=function(e,t,a){for(var i=0,n=a.length;i<n;){if(e(t,a[i]))return!0;i+=1}return!1}},P9nH:function(e,t,a){e.exports=a("cOqj")(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)})},RtCu:function(e,t,a){var i=a("qxG/");e.exports=a("Wnyi")(function(e,t){for(var a=[],n=0,o=e.length;n<o;)i(e[n],t)||i(e[n],a)||(a[a.length]=e[n]),n+=1;return a})},iJhd:function(e,t,a){e.exports=a("Wnyi")(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t})},l7rt:function(e,t,a){var i=a("Av+g"),n=Object.prototype.toString;e.exports=function(){return"[object Arguments]"===n.call(arguments)?function(e){return"[object Arguments]"===n.call(e)}:function(e){return i("callee",e)}}},"qxG/":function(e,t,a){var i=a("0BRo");e.exports=function(e,t){return i(t,e,0)>=0}},"y+Kn":function(e,t,a){"use strict";a.r(t);var i={};a.d(i,"paletteColors",function(){return k}),a.d(i,"bgColor",function(){return A}),a.d(i,"bgAngle",function(){return E}),a.d(i,"bgRatio",function(){return T}),a.d(i,"bgAlpha",function(){return I}),a.d(i,"canvasBgColor",function(){return P}),a.d(i,"canvasBgAngle",function(){return _}),a.d(i,"canvasBgAlpha",function(){return D}),a.d(i,"canvasBgRatio",function(){return B}),a.d(i,"canvasBorderColor",function(){return M}),a.d(i,"canvasBorderAlpha",function(){return R}),a.d(i,"showShadow",function(){return V}),a.d(i,"divLineColor",function(){return G}),a.d(i,"divLineAlpha",function(){return N}),a.d(i,"altHGridColor",function(){return z}),a.d(i,"altHGridAlpha",function(){return W}),a.d(i,"altVGridColor",function(){return H}),a.d(i,"altVGridAlpha",function(){return Q}),a.d(i,"anchorBgColor",function(){return Y}),a.d(i,"toolTipBgColor",function(){return K}),a.d(i,"toolTipBorderColor",function(){return X}),a.d(i,"baseFontColor",function(){return Z}),a.d(i,"borderColor",function(){return U}),a.d(i,"borderAlpha",function(){return $}),a.d(i,"legendBgColor",function(){return q}),a.d(i,"legendBorderColor",function(){return J}),a.d(i,"plotGradientColor",function(){return ee}),a.d(i,"plotBorderColor",function(){return te}),a.d(i,"plotFillColor",function(){return ae}),a.d(i,"bgColor3D",function(){return ie}),a.d(i,"bgAlpha3D",function(){return ne}),a.d(i,"bgAngle3D",function(){return oe}),a.d(i,"bgRatio3D",function(){return re}),a.d(i,"canvasBgColor3D",function(){return le}),a.d(i,"canvasBaseColor3D",function(){return se}),a.d(i,"divLineColor3D",function(){return ce}),a.d(i,"divLineAlpha3D",function(){return de}),a.d(i,"legendBgColor3D",function(){return ge}),a.d(i,"legendBorderColor3D",function(){return he}),a.d(i,"toolTipbgColor3D",function(){return pe}),a.d(i,"toolTipBorderColor3D",function(){return ue}),a.d(i,"baseFontColor3D",function(){return me}),a.d(i,"anchorBgColor3D",function(){return be});var n=a("3qKe"),o=a("Irj7"),r=a("Awrb"),l=a("v66I"),s=a("qRpk");let c=Math.max,d=r.Ua.miterStr,g=r.Ua.noneStr,h=r.Ua.ROUND,p=function(e,t,a){return a.getFromEnv("animationManager").setAnimation({el:"group",attr:{name:e},container:t,component:a,label:"group"})};Object(s.a)({name:"canvasAnimation",type:"animationRule",extension:{"initial.canvas.canvas":function(){return{"rect.appearing":()=>[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"initial"}],"*":null}},"update.canvas.canvas":{"rect.updating":[{slot:"middle"}]}}});var u=class extends o.a{constructor(){super();let e=this;e.config={},e.config.axes=e.config.axes||[],e.setLinkedItem("axes",[]),e.setLinkedItem("primaryAxis",{}),e.addToEnv("canvasConfig",this.config)}getName(){return"canvas"}getType(){return"canvas"}createGroup(){var e=this,t=e.getFromEnv("chart"),a=t.getChildContainer(),i=t.getContainer("parentgroup"),n=e.getEffectiveDimensions(),o=e.getFromEnv("chart-attrib"),l=Object(r.Sa)(o.areaovercolumns,1),s=e.getChildContainer("axisReferenceVisualsFloor"),c=e.getChildContainer("axisReferenceVisualsBottom"),d=e.getChildContainer("axisReferenceVisualsMiddle"),g=e.getChildContainer("axisReferenceVisualsTop"),h=e.getChildContainer("axisReferenceVisualsCeil"),u=e.getChildContainer("areaGroup"),m=e.getChildContainer("areaShadowGroup"),b=e.getChildContainer("columnGroup"),f=e.getChildContainer("columnShadowGroup"),v=a.plotGroup,x=[n.left,n.top,n.width,n.height].toString();e.getContainer("canvasGroup")||e.addContainer("canvasGroup",p("canvas",i,e)).insertAfter(a.backgroundGroup),c||(c=e.addChildContainer("axisReferenceVisualsBottom",p("axisReferenceVisualsBottom",i,e)).insertAfter(a.axisBottomGroup)),s||(s=e.addChildContainer("axisReferenceVisualsFloor",p("axisReferenceVisualsFloor",i,e)).insertAfter(a.axisBottomGroup)),s.attr({"clip-rect":x}),e.getChildContainer("crossline")||e.addChildContainer("crossline",p("crossline",i,e)).insertBefore(a.plotGroup),e.getChildContainer("crosslineBottom")||e.addChildContainer("crosslineBottom",p("crosslineBottom",i,e)).insertBefore(a.plotGroup),e.getChildContainer("crosslineTop")||e.addChildContainer("crosslineTop",p("crosslineTop",i,e)).insertBefore(a.abovePlotGroup),e.getChildContainer("datalabelsGroup")||e.addChildContainer("datalabelsGroup",p("canvasdatalabel",t.getChildContainer("datalabelsGroup"),e)),d||(d=e.addChildContainer("axisReferenceVisualsMiddle",p("axisReferenceVisualsMiddle",i,e)).insertBefore(a.plotGroup)),d.attr({"clip-rect":x}),g||(g=e.addChildContainer("axisReferenceVisualsTop",p("axisReferenceVisualsTop",i,e)).insertBefore(a.datalabelsGroup)),e.getChildContainer("quadrantGroup")||e.addChildContainer("quadrantGroup",p("quadrant",i,e)).insertAfter(d),h||e.addChildContainer("axisReferenceVisualsCeil",p("axisReferenceVisualsCeil",i,e)).insertBefore(a.datalabelsGroup),e.getChildContainer("sumLabelsLayer")||e.addChildContainer("sumLabelsLayer",a.sumLabelsLayer),f||(f=e.addChildContainer("columnShadowGroup",p("column-shadow-group",v,e))),b||(b=e.addChildContainer("columnGroup",p("column",v,e))),m||(m=e.addChildContainer("areaShadowGroup",p("area-shadow-group",v,e))),u||(u=e.addChildContainer("areaGroup",p("area",v,e))),l?(f.insertBefore(m),b.insertBefore(m)):(m.insertBefore(f),u.insertBefore(f)),e.getChildContainer("lineShadowGroup")||e.addChildContainer("lineShadowGroup",p("line-shadow-group",v,e)),e.getChildContainer("lineGroup")||e.addChildContainer("lineGroup",p("line",v,e)),e.getChildContainer("defaultShadowGroup")||e.addChildContainer("defaultShadowGroup",p("default-shadow-group",v,e)),e.getChildContainer("defaultGroup")||e.addChildContainer("defaultGroup",p("default",v,e))}isWithinCanvas(e,t){let a=this.config,i=a.canvasLeft,n=a.canvasTop;return e>=i&&e<=i+a.canvasWidth&&t>=n&&t<=n+a.canvasHeight}setCanvasPadding(){var e,t=this.config;e=this.getCanvasPadding(),t.canvasPaddingLeft=c(t.canvasPaddingLeft,e.paddingLeft||0),t.canvasPaddingRight=c(t.canvasPaddingRight,e.paddingRight||0),t.canvasPaddingTop=c(t.canvasPaddingTop,e.paddingTop||0),t.canvasPaddingBottom=c(t.canvasPaddingBottom,e.paddingBottom||0)}getEffectiveDimensions(){let e=this.config;return{left:e.canvasLeft,top:e.canvasTop,width:e.canvasWidth,height:e.canvasHeight,paddingLeft:e.canvasPaddingLeft,paddingTop:e.canvasPaddingTop,paddingRight:e.canvasPaddingRight,paddingBottom:e.canvasPaddingBottom}}setDimension(e){let t=this.config;t.canvasTop=e.top,t.canvasLeft=e.left,t.canvasWidth=e.width,t.canvasHeight=e.height}getCanvasPadding(){var e,t,a,i=this,n=i.getFromEnv("chartConfig"),o=i.config.maxPaddingPercent*n.canvasWidth/100,r={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};return i._mapChildren(a=>{for(t in e=a.getCanvasPadding&&a.getCanvasPadding()||{})e.hasOwnProperty(t)&&(r[t]=c(e[t],r[t]))}),a=r.paddingRight||0,o<(r.paddingLeft||0)&&(r.paddingLeft=o),o<a&&(r.paddingRight=o),r}configureAttributes(e={}){var t,a,i,n,o,s=this,d=s.getLinkedParent(),g=s.getFromEnv("chartConfig"),h=s.config,p=s.getFromEnv("chart-attrib"),u=s.getFromEnv("color-manager"),m=g.is3D,b=m?r.E.chart3D:r.E.chart2D,f=h.isRoundEdges=Object(r.Sa)(p.useroundedges,0),v=Object(r.Sa)(p.showxaxisline,p.showyaxisline,p.showaxislines,0)?0:1;h.canvasBorderRadius=Object(r.Sa)(p.plotborderradius,f?2:0),i=h.showCanvasBorder=!!Object(r.Sa)(p.showcanvasborder,v,t,f?0:1),o=h.oriCanvasBorderThickness=c(Object(r.Sa)(p.canvasborderthickness,f?0:Object(r.Sa)(d.canvasborderthickness,2),0)),t=h.canvasBorderWidth=m?0:i?o:0,h.canvasBorderColor=Object(l.c)(Object(r.Qa)(p.canvasbordercolor,u.getColor(r.D)),Object(r.Qa)(p.canvasborderalpha,u.getColor("canvasBorderAlpha"))),a=h.canBGAlpha=Object(r.Qa)(p.canvasbgalpha,u.getColor(r.C)),h.canBGColor={FCcolor:{color:Object(r.Qa)(p.canvasbgcolor,u.getColor(b.canvasBgColor)),alpha:Object(r.Qa)(p.canvasbgalpha,100),angle:Object(r.Qa)(p.canvasbgangle,0),ratio:Object(r.Qa)(p.canvasbgratio)}},n=h.shadow=Object(r.Sa)(p.showshadow,f,0)&&f?{enabled:!0,opacity:a/100}:0,h.shadowOnCanvasFill=n&&n.enabled,h.canvasPadding=Object(r.Sa)(p.canvaspadding,0),h.origCanvasTopPad=Object(r.Sa)(p.canvastoppadding,0),h.origCanvasBottomPad=Object(r.Sa)(p.canvasbottompadding,0),h.origCanvasLeftPad=Object(r.Sa)(p.canvasleftpadding,0),h.origCanvasRightPad=Object(r.Sa)(p.canvasrightpadding,0),Object.assign(h,e),s.config.inputComponents=[],s.config.maxPaddingPercent=12.5,s._mapChildren(e=>{e.getState("removed")||e.getType&&"dataset"===e.getType()||"axisRefVisuals"===e.getType()||e.configure&&e.configure()})}disposeAllInputs(){this.config.inputComponents.forEach(function(e){e.dispose()}),this.config.inputComponents.length=0}axisExists(e){let t,a,i=this.getLinkedItem("axes"),n=!1;for(t=0,a=i.length;t<a;t++)if(i[t].axis===e){n=!0;break}return n}attachAxis(e,t,a){var i=this.getLinkedItem("axes"),n=t?"yAxis":"xAxis",o=this.getFromEnv(n)||[];return this.axisExists(e)||(i.push({axis:e,isY:t,config:a||{}}),o.push(e),this.addToEnv(n,o)),this}setPrimaryAxis(e,t){this.getLinkedItem("primaryAxis")[e]=this.getLinkedItem("axes").find(e=>e.axis===t)}getAxes(){var e;return Object.keys(e=this.getLinkedItem("primaryAxis")).length?[e.xAxis,e.yAxis]:this.getLinkedItem("axes").slice(0)}detachAxis(e,t){var a=this.getLinkedItem("axes"),i=1/0;return t?a.splice(t,1):(a.forEach((t,a)=>{t.axis===e&&(i=a)}),a.splice(i,1))}preDraw(){this._mapChildren(e=>{!e.getState("removed")&&e.preDraw&&e.preDraw()})}draw(){this.createGroup(),this.getFromEnv("chart").config.skipCanvasDrawing||this.drawCanvas()}drawCanvas(){let e,t,a,i,n,o,l,s=this,p=s.getFromEnv("chart"),u=p.isBar,m=p.getFromEnv("dataSource").chart,b=s.getFromEnv("animationManager"),f=p.config,v=s.config,x=v.clip={},C=p.getChildContainer("plotGroup"),O=p.getChildContainer("datalabelsGroup"),y=s.getGraphicalElement("canvasBorderElement"),S=s.getGraphicalElement("canvasElement"),w=v.canvasLeft||(v.canvasLeft=f.canvasLeft),L=v.canvasTop||(v.canvasTop=f.canvasTop),F=v.canvasWidth||(v.canvasWidth=f.canvasWidth),j=v.canvasHeight||(v.canvasHeight=f.canvasHeight),k=v.xDepth=f.xDepth||0,A=v.yDepth=f.yDepth||0,E=s.getContainer("canvasGroup"),T=s.getChildContainer("quadrantGroup"),I=v.canvasBorderRadius,P=v.canvasBorderWidth,_=.5*P,D=v.canvasBorderColor,B=v.canBGColor,M=v.canBGAlpha,R=v.shadow,V=v.showCanvasBG=!!Object(r.Sa)(m.showcanvasbg,1),G=v.shadowOnCanvasFill,N=v.showCanvasBorder;i=B,n={x:w-_,y:L-_,width:F+P,height:j+P,r:I,"stroke-width":P,stroke:D,"stroke-linejoin":P>2?h:d},N?(y&&y.show(),t=b.setAnimation({el:y||"rect",component:s,attr:{x:w-_,y:L-_,width:F+P,height:j+P,r:I,"stroke-width":P,stroke:D,"stroke-linejoin":P>2?h:d},label:"rect",container:E}).shadow(R),!y&&s.addGraphicalElement("canvasBorderElement",t)):y&&(s.removeGraphicalElement(y),b.setAnimation({el:y,component:s,callback:()=>{y.hide()}})),x["clip-canvas"]=[c(0,w-k-(o=N?0:v.oriCanvasBorderThickness)),c(0,L-A-o),c(1,F+2*k+2*o),c(1,j+A+2*o)],x["clip-sum-value"]=[c(0,w-k),u?L:0,c(1,u?f.width-w:F+2*k),c(1,u?j+A:L+j)],x["clip-canvas-init"]=[c(0,w-k),c(0,L-A),1,c(1,j+2*A)],e=x["clip-canvas"].slice(0),l=function(e,t){b.setAnimation({el:e,attr:{"clip-rect":t},label:"container",component:s,state:e.attrs["clip-rect"]?"updating":"appearing"})},f.skipClipping||(l(C,e),l(O,e),l(T,e),l(s.getChildContainer("sumLabelsLayer"),x["clip-sum-value"])),V?(n={x:w,y:L,width:F,height:j,r:I,"stroke-width":0,stroke:g,fill:Object(r.db)(i)},S&&S.show(),a=b.setAnimation({el:S||"rect",attr:n,label:"rect",container:E,component:s}),!S&&s.addGraphicalElement("canvasElement",a),a.shadow(!!G&&{opacity:M/100})):S&&b.setAnimation({el:S,component:s,callback:()=>{S.hide()}})}},m=function(e){let t;Object(r.G)(e,u,"canvas",e.config.showVolumeChart?2:1);for(let a=0,i=(t=e.getChildren("canvas")).length;a<i;a++)t[a].configure()},b={"initial.caption.caption":()=>({"text.appearing":()=>[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"initial"}]})};let f=Math.max,v=Math.min,x=Math.ceil;Object(s.a)({name:"captionAnimation",type:"animationRule",extension:b});var C=class extends o.a{getType(){return"caption"}getName(){return"caption"}configure(){var e=this.getFromEnv("chart"),t=e.getFromEnv("chart-attrib"),a=this.config||{},i=e.getFromEnv("style"),n=i.outCanfontFamily,o=i.outCancolor,s=i.fontSize,c=["top","center"];switch(this.config.text=Object(r.Pa)(t.caption),a.style={fontFamily:Object(r.Qa)(t.captionfont,n),color:Object(l.c)(Object(r.Qa)(t.captionfontcolor,o).replace(/^#? ([a-f0-9]+)/gi,"#$1")),fontSize:Object(r.Sa)(t.captionfontsize,s+3)+"px",fontWeight:0===Object(r.Sa)(t.captionfontbold)?r.k:r.c},a.align||(a.align=""),a.align=Object(r.Qa)(t.captionposition,t.captionalignment,"center"),a.align&&((c=a.align.split("-"))[0]&&(c[0]=c[0].toLowerCase()),c[1]&&(c[1]=c[1].toLowerCase()),2>c.length&&(c[1]=c[0])),c[0]){case"top":a.isOnTop=1;break;case"bottom":a.isOnTop=0;break;default:a.isOnTop=Object(r.Sa)(t.captionontop,1)}switch(c[1]){case"right":a.align="end";break;case"left":a.align="start";break;default:a.align="middle"}a.isOnLeft=!Object(r.Sa)(t.captiononright,0),a.captionPosition=Object(r.Aa)(t.captionposition,"top").toLowerCase(),a.alignWithCanvas=Object(r.Sa)(t.aligncaptionwithcanvas,e.config.alignCaptionWithCanvas,1),a.horizontalPadding=Object(r.Sa)(t.captionhorizontalpadding,a.alignWithCanvas?0:15),a.drawCaption=!0,Object(r.ab)(a.style)}allocatePosition(){this.getFromEnv("chart")._manageCaptionPosition()}draw(){var e=this,t=this.getFromEnv("chart"),a=t.config,i=t.getFromEnv("animationManager"),n=t.config.textDirection,o=t.getChildContainer().captionGroup,l=t.getFromEnv("smartLabel"),s=e.getGraphicalElement("captionElement"),c=e.getFromEnv("toolTipController"),d=e.config,g=d.style;d.text?((s=e.addGraphicalElement("captionElement",i.setAnimation({el:s||"text",attr:{text:d.text,fill:g.color,x:d.x,y:d.y,"text-anchor":d.align||"middle","vertical-align":d.verticalAlign||"top",visibility:d.drawCaption?r.gb:r.Ea,direction:n},container:o,state:void 0,component:e,label:"text"}))).css(g),a.showtooltip?c.enableToolTip(s,d.originalText):c.disableToolTip(s),l&&(l.useEllipsesOnOverflow(a.useEllipsesWhenOverflow),l.setStyle(g))):s&&i.setAnimation({el:s,component:e,callback:function(){this.hide()},doNotRemove:!0}),a.savedCaption=s}manageSpace(e,t){var a,i,n,o,l,s=this.getFromEnv("chart"),c=s.config,d=s.getChildren("caption")[0],g=s.getChildren("subCaption")[0],h=d.config,p=g.config,u=s.getFromEnv("dataSource").chart,m=s.getFromEnv("smartLabel"),b=e,C=Object(r.Pa)(u.caption),O=Object(r.Pa)(u.subcaption),y=Object(r.Sa)(u.captionpadding,10),S=y,w=!1,L=0,F=0,j=0,k=0,A=0,E=s.getChildren("canvas"),T=f(E&&E[0].config.canvasBorderThickness,0),I=0,P=0;return 3<b?(y<T&&(y=T+2),C!==r.b&&(n=h.style,k=x(Object(r.Sa)(parseFloat(n.fontHeight,10),parseFloat(n.lineHeight,10),12))),O!==r.b&&(l=p.style,A=Object(r.Sa)(parseInt(l.fontHeight,10),parseInt(l.lineHeight,10),12)),(0<k||0<A)&&((L=k+A+y)>(b=f(b,0))?(w=!0,(F=b-L)<y?y=f(F,5):(F-=y,y=0,A>F?(j=A-F+10,A=0,p._originalText=p.text,p.text=r.b):(F-=A,A=0,k>F&&(j=k-F)))):j=b-L,m.useEllipsesOnOverflow(c.useEllipsesWhenOverflow),0<k&&(m.setStyle(n),j=(k+=j)-(a=m.getSmartText(C,t,k)).height,h.height=k=a.height,h.text=a.text,h.originalText=!!a.tooltext&&a.tooltext,I=a.width),0<A&&(m.setStyle(l),j=(A+=j)-(i=m.getSmartText(O,t,A)).height,A=i.height,p.text=i.text,p.height=i.height,p.originalText=!!i.tooltext&&i.tooltext,P=i.width),w&&0<j&&(y+=v(S-y,j)),h.captionPadding=y,h.height=k,h.width=I,p.width=P,p.height=A,L=k+A+y),L>c.canvasHeight?(L=0,h.drawCaption=!1):h.drawCaption=!0,o=h.isOnTop?{top:L}:{bottom:L,top:5}):(o={bottom:0,top:0},h.drawCaption=!1),o}setDimention(e){let t=this.config;t.x=e.x,t.y=e.y}},O={"initial.caption.subCaption":b["initial.caption.caption"]};let y=Math.max;Object(s.a)({name:"subcaptionAnimation",type:"animationRule",extension:O});var S=class extends C{getType(){return"caption"}getName(){return"subCaption"}configure(){let e=this.getFromEnv("chart"),t=e.getFromEnv("chart-attrib"),a=this.config||{},i=e.getFromEnv("style"),n=e.getChildren("caption")[0],o=i.outCanfontFamily,s=i.outCancolor,c=i.fontSize,d=["top","center"];switch(a.text=Object(r.Pa)(t.subcaption),a.align||(a.align=""),a.align=Object(r.Qa)(t.captionposition,t.captionalignment,"center"),n.config.align&&((d=n.config.align.split("-"))[0]&&(d[0]=d[0].toLowerCase()),d[1]&&(d[1]=d[1].toLowerCase()),2>d.length&&(d[1]=d[0])),d[0]){case"top":a.isOnTop=1;break;case"bottom":a.isOnTop=0;break;default:a.isOnTop=Object(r.Sa)(t.captionontop,1)}a.alignWithCanvas=Object(r.Sa)(e.aligncaptionwithcanvas,t.aligncaptionwithcanvas,1),a.horizontalPadding=Object(r.Sa)(t.captionhorizontalpadding,n.config.alignWithCanvas?0:15),a.style={fontFamily:Object(r.Qa)(t.subcaptionfont,t.captionfont,o),color:Object(l.c)(Object(r.Qa)(t.subcaptionfontcolor,t.captionfontcolor,s).replace(/^#? ([a-f0-9]+)/gi,"#$1")),fontSize:Object(r.Sa)(t.subcaptionfontsize,Object(r.Sa)(y(Object(r.Sa)(t.captionfontsize)-3,-1),c)+Object(r.Sa)(e.subTitleFontSizeExtender,1))+"px",fontWeight:0===Object(r.Sa)(t.subcaptionfontbold,e.subTitleFontWeight,t.captionfontbold)?r.k:r.c},Object(r.ab)(a.style)}draw(){let e,t=this,a=t.getFromEnv("chart"),i=a.getFromEnv("animationManager"),n=a.getChildren("caption")[0],o=a.config,l=o.textDirection,s=a.getChildContainer().captionGroup,c=t.getGraphicalElement("subCaptionElement"),d=t.getFromEnv("toolTipController"),g=t.config,h=g.style;g.text?((c=t.addGraphicalElement("subCaptionElement",i.setAnimation({el:c||"text",attr:e={text:g.text,fill:h.color,x:g.x,y:g.y,"text-anchor":n.config.align||"middle","vertical-align":"top",direction:l,visibility:n.config.drawCaption?r.gb:r.Ea},container:s,state:void 0,component:t,hookFn:function(){this.css(h)},label:"text"}))).css(h),o.showtooltip?d.enableToolTip(c,g.originalText):d.disableToolTip(c)):c&&t.removeGraphicalElement(c),o.savedSubCaption=c}setDimention(e){this.config.x=e.x,this.config.y=e.y}};let w,L=w="none";Object(s.a)({name:"backgroundAnimation",type:"animationRule",extension:{"initial.background.background":()=>({"rect.appearing":()=>[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"initial"}]})}});var F=class extends o.a{constructor(){super(),this.config.handler=function(e){let t=e.config;return{load:function(){let{bgImageDisplayMode:a,bgImageVAlign:i,bgImageHAlign:n,bgImageScale:o,bgSWFAlpha:r,bgSWF:l}=t,s=e.getGraphicalElement("backgroundImage")._.RefImg;e.getFromEnv("chart").fireChartInstanceEvent("BackgroundLoaded",{url:l,bgImageAlpha:r,bgImageDisplayMode:a,bgImageVAlign:i,bgImageHAlign:n,bgImageScale:o,imageheight:s.height,imagewidth:s.width})},error:function(a){let{bgImageDisplayMode:i,bgImageVAlign:n,bgImageHAlign:o,bgImageScale:r,bgSWFAlpha:l,bgSWF:s}=t;e.getFromEnv("chart").fireChartInstanceEvent("BackgroundLoadError",{url:s,bgImageAlpha:l,error:a,bgImageDisplayMode:i,bgImageVAlign:n,bgImageHAlign:o,bgImageScale:r})}}}(this)}getName(){return"background"}getType(){return"background"}_getBackgroundCosmetics(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.getFromEnv("color-manager"),i=e.getFromEnv("chartConfig").is3D?r.E.chart3D:r.E.chart2D;return{FCcolor:{color:Object(r.Qa)(t.bgcolor,a.getColor(i.bgColor)),alpha:Object(r.Qa)(t.bgalpha,a.getColor(i.bgAlpha)),angle:Object(r.Qa)(t.bgangle,a.getColor(i.bgAngle)),ratio:Object(r.Qa)(t.bgratio,a.getColor(i.bgRatio))}}}configureAttributes(){var e,t,a,i=this,n=i.config,o=i.getFromEnv("chart-attrib"),s=i.getFromEnv("chartConfig"),c=s.is3D,d=i.getFromEnv("color-manager"),g=n.bgImageDisplayMode=Object(r.Qa)(o.bgimagedisplaymode,"none").toLowerCase();n.bgSWF=Object(r.Qa)(o.bgimage,o.bgswf),n.bgSWFAlpha=Object(r.Sa)(o.bgimagealpha,o.bgswfalpha,100),e=n.showBorder=Object(r.Sa)(o.showborder,s.showBorder,c?0:1),n.borderWidth=Math.max(e?Object(r.Sa)(o.borderthickness,1):0,0),n.borderRadius=Object(r.Sa)(o.borderradius,0),n.borderDashStyle=Object(r.Sa)(o.borderdashed,0)?Object(r.S)(Object(r.Sa)(o.borderdashlen,4),Object(r.Sa)(o.borderdashgap,2),void 0):L,n.borderAlpha=Object(r.Qa)(o.borderalpha,c?"100":d&&d.getColor("borderAlpha")),n.borderColor=Object(l.c)(Object(r.Qa)(o.bordercolor,c?"#666666":d&&d.getColor("borderColor")),n.borderAlpha),n.bgImageVAlign=t=Object(r.Aa)(o.bgimagevalign,"").toLowerCase(),n.bgImageHAlign=a=(o.bgimagehalign||"").toLowerCase(),n.bgImageScale=Object(r.Sa)(o.bgimagescale,100),n.containerBackgroundColor=Object(r.R)(i.getFromEnv("chartInstance")),n.backgroundColor=i._getBackgroundCosmetics(),"tile"===g||"fill"===g||"fit"===g?("top"!==t&&"middle"!==t&&"bottom"!==t&&(n.bgImageVAlign="middle"),"left"!==a&&"middle"!==a&&"right"!==a&&(n.bgImageHAlign="middle")):("top"!==t&&"middle"!==t&&"bottom"!==t&&(n.bgImageVAlign="top"),"left"!==a&&"middle"!==a&&"right"!==a&&(n.bgImageHAlign="left"))}draw(){var e,t,a,i,n,o,l=this,s=l.getFromEnv("paper"),c=l.getGraphicalElement("backgroundElement"),d=l.getGraphicalElement("borderElement"),g=l.config,h=l.getFromEnv("chart"),p=l.getFromEnv("chartConfig"),u=g.backgroundColor,m=l.getFromEnv("animationManager"),b=l.getGraphicalElement("backgroundImage"),f=g.bgSWF,v=h.getChildContainer("backgroundGroup"),x=p.width,C=p.height,O=g.borderWidth||0,y=g.borderRadius,S=g.borderDashStyle,w=g.borderColor,L=g.bgSWFAlpha,F=g.bgImageDisplayMode,j=g.bgImageVAlign,k=g.bgImageHAlign,A=g.bgImageScale;s.canvas.style.backgroundColor=g.containerBackgroundColor,n=C-2*O,a={x:O,y:O,width:0>(o=x-2*O)?0:o,height:0<n?n:0,stroke:r.Ua.noneStr,fill:Object(r.db)(u)},(e=m.setAnimation({el:c||"rect",attr:a,container:v,component:l,label:"rect"})).show(),c||l.addGraphicalElement("backgroundElement",e),n=C-O,a={x:O/2,y:O/2,width:0>(o=x-O)?0:o,height:0<n?n:0,stroke:w,"stroke-width":O,"stroke-dasharray":S,fill:r.Ua.noneStr,r:y||0},(t=m.setAnimation({el:d||"rect",attr:a,container:v,component:l,label:"rect"})).show(),d||l.addGraphicalElement("borderElement",t),f&&!l.getState("removed")?((i=m.setAnimation({el:b||"imagegrid",attr:{imagegrid:[F,j,k,A,O,x,C],src:f,opacity:.01*L,"clip-rect":O+","+O+","+(x-2*O)+","+(C-2*O)},container:v,component:l,label:"imagegrid"})).show(),!b&&(l.addGraphicalElement("backgroundImage",i),i.on("load",g.handler.load),i.on("error",g.handler.error))):b&&l.removeGraphicalElement(b)}};const j=["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"];let k=[j,j,j,j,j],A=["CBCBCB,E9E9E9","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],E=[270,270,270,270,270],T=["0,100","0,100","0,100","0,100","0,100"],I=["50,50","60,50","40,20","20,10","30,30"],P=["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],_=[0,0,0,0,0],D=["100","100","100","100","100"],B=["","","","",""],M=["545454","545454","415D6F","845001","68001B"],R=[100,100,100,90,100],V=[0,1,1,1,1],G=["717170","7B7D6D","92CDD6","965B01","68001B"],N=[40,45,65,40,30],z=["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"],W=[50,35,10,20,15],H=["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],Q=[10,20,10,15,10],Y=["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],K=["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],X=["545454","545454","415D6F","845001","68001B"],Z=["555555","60634E","025B6A","A15E01","68001B"],U=["767575","545454","415D6F","845001","68001B"],$=[50,50,50,50,50],q=["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],J=["545454","545454","415D6F","845001","D55979"],ee=["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],te=["333333","8A8A8A","FFFFFF","FFFFFF","FFFFFF"],ae=["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],ie=["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],ne=["100","100","100","100","100"],oe=[90,90,90,90,90],re=["","","","",""],le=["DDE3D5","D8D8D7","EEDFCA","CFD2D8","FEE8E0"],se=["ACBB99","BCBCBD","C8A06C","96A4AF","FAC7BC"],ce=["ACBB99","A4A4A4","BE9B6B","7C8995","D49B8B"],de=[100,100,100,100,100],ge=["F0F3ED","F3F3F3","F7F0E8","EEF0F2","FEF8F5"],he=["C6CFB8","C8C8C8","DFC29C","CFD5DA","FAD1C7"],pe=["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],ue=["49563A","666666","49351D","576373","681C09"],me=["49563A","4A4A4A","49351D","48505A","681C09"],be=["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"];function fe(e,t){var a,i,n,o,r,s,c,d,g,h,p,u=[],m=Ce.stringConstants;if((t=(t=t.replace(/\s/g,m.BLANK)).toLowerCase())===m.BLANK||null===t||void 0===t)u=[e];else for(n=t.split(m.COMMASTRING),o=e.split(m.COMMASTRING),r=Math.max(n.length,o.length,1),s=n[0],c=o[0],h=/[\{\}]/gi,p=0;p<r;p++)d=(n[p]||s).replace(h,""),g=o[p]||c,"color"===d?u.push(g):"light"===d.substr(0,5)?(i=100-(i=-1===(a=d.indexOf("-"))?1:d.substr(a+1,d.length-a)),u.push(Object(l.h)(g,i))):"dark"===d.substr(0,4)?(i=100-(i=-1===(a=d.indexOf("-"))?1:d.substr(a+1,d.length-a)),u.push(Object(l.e)(g,i))):u.push(d);return u}function ve(e,t){var a,i,n=e.toString().split(Ce.stringConstants.COMMASTRING),o=[],l=100;for(i=0;i<t;i++)a=Object(r.Sa)(n[i]),Ce.defined(a)&&(l=a),o[i]=l;return o.join()}function xe(e,t){var a,i,n=e.split(Ce.stringConstants.COMMASTRING),o=[],r=0;for(i=0;i<t;i++)a=n[i],a=isNaN(a)||void 0===a?0:Math.abs(+a),o[i]=a=100<a?100:a,r+=a;if(r=100<r?100:r,n.length<t)for(i=n.length;i<t;i++)o[i]=(100-r)/(t-n.length);return o[-1]=0,o.join()}class Ce{constructor(e){this.parseColorMix=fe,this.parseAlphaList=ve,this.parseRatioList=xe,this.linkedItems={iapi:e},this.configure(),this.paletteColors=["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"]}configure(){var e=this,t=Ce.stringConstants,a=e.linkedItems.iapi,n=a.getFromEnv("dataSource").chart||{},o=e.paletteOptions=Object(r.N)(Object(r.N)({},i),a.defaultPaletteOptions||{},!1,!0),s=e.themeEnabled=n.palettethemecolor;e.paletteIndex=(0<n.palette&&6>n.palette?n.palette:Object(r.Sa)(a.paletteIndex,1))-1,e.iterator=0,e.paletteColors=o.paletteColors[e.themeEnabled?0:e.paletteIndex],Ce.defined(n.palettecolors)&&n.palettecolors!==t.BLANK&&(e.paletteColors=n.palettecolors.split(/\s*\,\s*/)),e.paletteLen=e.paletteColors.length,e.useFlatColors=Object(r.Sa)(n.useflatdataplotcolor,a.useFlatColor,0),s&&(e.paletteIndex=5,o.bgColor[5]=Object(l.h)(s,35)+t.COMMASTRING+Object(l.h)(s,10),o.bgAngle[5]=270,o.bgRatio[5]=t.BGRATIOSTRING,o.bgAlpha[5]="50,50",o.canvasBgColor[5]=t.COLOR_WHITE,o.canvasBgAngle[5]=0,o.canvasBgAlpha[5]=t.HUNDREDSTRING,o.canvasBgRatio[5]=t.BLANK,o.canvasBorderColor[5]=Object(l.e)(s,80),o.canvasBorderAlpha[5]=100,o.showShadow[5]=1,o.divLineColor[5]=Object(l.e)(s,20),o.divLineAlpha[5]=40,o.altHGridColor[5]=Object(l.h)(s,20),o.altHGridAlpha[5]=15,o.altVGridColor[5]=Object(l.h)(s,80),o.altVGridAlpha[5]=10,o.anchorBgColor[5]=t.COLOR_WHITE,o.toolTipBgColor[5]=t.COLOR_WHITE,o.toolTipBorderColor[5]=Object(l.e)(s,80),o.baseFontColor[5]=s.split&&s.split(t.COMMASTRING)[0],o.borderColor[5]=Object(l.e)(s,60),o.borderAlpha[5]=50,o.legendBgColor[5]=t.COLOR_WHITE,o.legendBorderColor[5]=Object(l.e)(s,80),o.plotGradientColor[5]=t.COLOR_WHITE,o.plotBorderColor[5]=Object(l.e)(s,85),o.plotFillColor[5]=Object(l.e)(s,85),o.bgColor3D[5]=t.COLOR_WHITE,o.bgAlpha3D[5]=t.HUNDREDSTRING,o.bgAngle3D[5]=90,o.bgRatio3D[5]=t.BLANK,o.canvasBgColor3D[5]=Object(l.h)(s,20),o.canvasBaseColor3D[5]=Object(l.h)(s,40),o.divLineColor3D[5]=Object(l.e)(s,20),o.divLineAlpha3D[5]=40,o.legendBgColor3D[5]=t.COLOR_WHITE,o.legendBorderColor3D[5]=Object(l.e)(s,80),o.toolTipbgColor3D[5]=t.COLOR_WHITE,o.toolTipBorderColor3D[5]=Object(l.e)(s,80),o.baseFontColor3D[5]=s.split&&s.split(t.COMMASTRING)[0],o.anchorBgColor3D[5]=t.COLOR_WHITE,o.tickColor&&(o.tickColor[5]=Object(l.e)(s,90)),o.trendDarkColor&&(o.trendDarkColor[5]=Object(l.e)(s,90)),o.trendLightColor&&(o.trendLightColor[5]=Object(l.h)(s,o.TrendLightShadeOffset)),o.msgLogColor&&(o.msgLogColor[5]=Object(l.h)(s,80)),o.dialColor&&(o.dialColor[5]=Object(l.e)(s,95)+",FFFFFF,"+Object(l.e)(s,95)),o.dialBorderColor&&(o.dialBorderColor[5]=Object(l.e)(s,95)+",FFFFFF,"+Object(l.e)(s,95)),o.pivotColor&&(o.pivotColor[5]=Object(l.h)(s,95)+",FFFFFF,"+Object(l.h)(s,95)),o.pivotBorderColor&&(o.pivotBorderColor[5]=Object(l.e)(s,95)+",FFFFFF,"+Object(l.e)(s,95)),o.pointerBorderColor&&(o.pointerBorderColor[5]=Object(l.e)(s,75)),o.pointerBgColor&&(o.pointerBgColor[5]=Object(l.e)(s,75)),o.thmBorderColor&&(o.thmBorderColor[5]=Object(l.e)(s,90)),o.thmFillColor&&(o.thmFillColor[5]=Object(l.h)(s,55)),o.gaugeBorderColor&&(o.gaugeBorderColor[5]=Object(l.e)(s,90)),o.gaugeFillColor&&(o.gaugeFillColor[5]=Object(l.h)(s,55)),o.cylFillColor&&(o.cylFillColor[5]=Object(l.h)(s,55)),o.periodColor&&(o.periodColor[5]=Object(l.h)(s,10)),o.winColor&&(o.winColor[5]="666666"),o.lossColor&&(o.lossColor[5]="CC0000"),o.drawColor&&(o.drawColor[5]="666666"),o.scorelessColor&&(o.scorelessColor[5]="FF0000"),o.gridColor&&(o.gridColor[5]=Object(l.h)(s,30)),o.categoryBgColor&&(o.categoryBgColor[5]=Object(l.h)(s,10)),o.dataTableBgColor&&(o.dataTableBgColor[5]=Object(l.h)(s,10)),o.gridResizeBarColor&&(o.gridResizeBarColor[5]=Object(l.e)(s,90)),o.scrollBarColor&&(o.scrollBarColor[5]=Object(l.h)(s,50)))}getColor(e){return this.paletteOptions[e][this.paletteIndex]}getPlotColor(e){var t=this,a=t.paletteColors,i=t.useFlatColors?t.getColor("plotFillColor"):a[e%t.paletteLen];return i||(t.iterator===t.paletteLen&&(t.iterator=0),i=a[t.iterator],t.iterator+=1),i}}Ce.stringConstants={BLANK:"",COMMASTRING:",",BGRATIOSTRING:"0,100",COLOR_WHITE:"FFFFFF",HUNDREDSTRING:"100"},Ce.defined=function(e){return void 0!==e&&null!==e};var Oe=Ce,ye=a("R9aV"),Se=a("7YPV");let we,Le=Object(s.b)("redraphael","plugin"),Fe=function(e,t,a){return["M",e-a,t-a]},je=function(e,t,a){var i=a/4;return["M",e-3*i,t,"L",e-i,t+a,e+a,t-a]},ke=(Le.addSymbol("Internal_CB",Fe),{register:function(){var e,t,a,i;if(1===arguments.length){if(null===(a=arguments[0])&&a===we||"object"!=typeof a)return;i=a}else{if(!(1<arguments.length))return;if(t=arguments[1],"string"!=typeof(e=arguments[0])||"function"!=typeof t)return;(i={})[e]=t}for(e in i)t=i[e],{}.hasOwnProperty.call(i,e)&&Le.addSymbol(e,t)}});function Ae(e,t,a){var i,n;for(i in e)if((n=e[i])!==we&&null!==n)if(a){if(t[i])continue;t[i]=n}else t[i]=n}function Ee(e,t){var a=function(){Se.a.listen(t,"mousemove",function(e){e.originalEvent.stopPropagation()})};return"click"===e?function(e){Se.a.listen(t,"click",function(t){t.target&&t.target.parentNode&&e.call(t.target)}),a()}:"hover"===e?function(e,i){Se.a.listen(t,"pointerhover",function(t){t.target&&t.target.parentNode&&("start"===t.state?e:i).call(t.target)}),a()}:void 0}let Te={hPadding:3,vPadding:3,borderRadius:2,fill:Object(l.c)("DBDBDB",100),borderColor:Object(l.c)("B2B1B1",100),borderThickness:1,offsetAdjustment:1,radius:1,spacing:6},Ie={hPadding:3,vPadding:3,borderRadius:0,fill:Object(l.c)("EBEBEB",100),borderColor:Object(l.c)("D1D0D0",100),borderThickness:1,offsetAdjustment:1,radius:0},Pe={fontFamily:"Verdana,sans",fontSize:"12px",fill:void 0,fontStyle:"normal",fontWeight:"normal"},_e={setComponentPool:function(e,t){return this.store[t]||(this.store[t]={}),this.store[t].componentPool=e},getOptions:function(e){return this.store[e]||(this.store[e]={options:{},componentPool:{}}),this.store[e].options},getComponentPool:function(e){return this.store[e]||(this.store[e]={options:{},componentPool:{}}),this.store[e].componentPool},setOptions:function(e,t){return this.store[t]||(this.store[t]={}),this.store[t].options=e},store:{}};var De=class extends o.a{configure(e,t,a,i,n){let o=this.config;o.symbol=e,o._id="TB_SYMBOL"+(a||0),o.node=void 0,o.pId=i,o.isPlaintext=t,o.chartId=n,o.conf={btnTextStyle:{"stroke-width":"1px",stroke:"none"}},o.evt={tooltext:void 0,click:r.bb,hover:[r.bb,r.bb]}}registerSymbol(e){ke.register(this.config.symbol,e)}_setConfiguaration(e){let t=this.config;t.conf?Ae(e,t.conf,!0):t.conf=e}attachEventHandlers(e,t){var a,i=this,n=this.config,o=i.config.evt,l=e.tooltext,s=e.click||r.bb,c=e.hover,d=t&&t.click||r.bb;return a="function"==typeof s?function(){d(),s.apply(i,arguments)}:function(){var e=s.fn,t=s.context,a=(s.args||[]).slice(0);s.hasOwnProperty("context")?a.push(i):t=i,[].push.apply(a,arguments),d(),e.apply(t,a)},l&&(o.tooltext=l),o.click=a,c&&c instanceof Array&&(o.hover=c),n.node&&(n.node.buttonclick(n.evt.click).hover(n.evt.hover[0],n.evt.hover[1]),i.getFromEnv("toolTipController").enableToolTip(n.node,n.evt.tooltext)),this}getLogicalSpace(){let e=this.config;return{width:(e=e.conf||e.buttonConfig).width*(e.scale||1),height:e.height*(e.scale||1)}}show(){var e=this.config,t=e.node;e.display="block",t&&t.css({display:"block"})}hide(){var e=this.config,t=e.node;e.display="none",t&&t.css({display:"none"})}draw(e,t,a){var i,n,o,r,s=this.config,c=s.conf||{},d=_e.getComponentPool(s.chartId),g=d.getKeys(),h=_e.getOptions(s.chartId).chart,p=h.getFromEnv("animationManager"),u=h.getFromEnv("toolTipController");return s.isPlaintext?o=s.symbol:n=s.symbol,void 0!==a.idCount&&(s._id+=a.idCount),r=d.getComponent(s._id,s.pId,g.KEY_BUTTON,!0),i=s.node=r(e,t,o,n,{width:c.width*c.scale,height:c.height*c.scale,r:c.radius,verticalPadding:c.symbolVPadding*c.scale,horizontalPadding:c.symbolHPadding},a.parentLayer).labelcss(s.conf.btnTextStyle),s.display&&s.node.css({display:s.display})&&(s.display=void 0),p.setAnimation({el:s.node,attr:{"button-label":o,"button-padding":[c.symbolHPadding,c.symbolVPadding*c.scale],"button-repaint":[e,t,c.width*c.scale,c.height*c.scale,c.radius*c.scale]},state:"updating",component:this,label:"button"}),a.isResize||(c.hoverFill=c.hoverFill?Object(l.c)(c.hoverFill):Object(l.c)(Object(l.h)(Object(l.l)(c.fill),80)),i.attr({fill:[c.fill,c.labelFill,c.symbolFill,c.hoverFill,!0],stroke:[c.stroke,c.symbolStroke],"stroke-width":[c.strokeWidth,c.symbolStrokeWidth]}).buttonclick(s.evt.click).hover(s.evt.hover[0],s.evt.hover[1]),!d.getCreationStatus()&&(s.node.unclick(),s.node.buttonclick(s.evt.click))),u.enableToolTip(i,s.evt.tooltext),i.getBBox=function(){return{x:e,y:t,width:c.width*c.scale,height:c.height*c.scale}},i}dispose(){var e=this.config,t=e.node;t&&t.remove(),e.node=void 0}};let Be,Me={},Re={},Ve={},Ge="bottom",Ne="px",ze=300;class We extends o.a{configure(e,t,a){var i,n,o,r,l=t&&t.top||0,s=t&&t.left,c=t&&t.right,d=_e.getOptions(a).chart;for(n in o=this,(r=this.config).container=e,r.position=We.POSITION_BOTTOM,r.atomicLists=[],r.refContainers=[],r.parentListCon=Be,r.hideFnIds=[],r.target=Be,r.chartId=a,s&&c||(r.positionCalculation=!0),r.hoverOverStyle={background:"#333333",color:"#FFFFFF",cursor:"pointer"},r.hoverOutStyle={background:"#FFFFFF",color:"#000000"},r._defaultStyle={position:"absolute","z-index":50,top:l===Be?"auto":l+Ne,right:c===Be?"auto":c+Ne,left:s===Be?"auto":s+Ne,overflow:"hidden",background:"#ffffff",border:"1px solid #646464","box-shadow":"#999999 2px 2px 5px",padding:"5px 3px",display:"none"},i=r.container.style,r._defaultStyle)i[n]=r._defaultStyle[n];d.getFromEnv("chart-container").appendChild(r.container),Ee("hover",r.container)(function(){o.show(this)},function(){o.hide(ze,this)})}addAtomicListItem(e){var t=this.config;e.isAtomicList&&e.isAtomicList()&&(t.atomicLists.push(e),e.stickIntoContainer(t.container,this))}show(e){var t,a,i,n=this.config,o=n.hideFnIds,r=_e.getOptions(n.chartId).chart,l=r.config.width,s=n.positionCalculation,c=0;for(n.target=n.target||e,t=o.length;c<t;c++)clearTimeout(o[c]);o.length=0,(a=n.parentListCon)?(a.show(n.target),n.container.style.left=a.container.offsetLeft+a.container.offsetWidth+Ne,n.container.style.top=a.container.offsetTop+n.target.offsetTop+Ne):!function(e){return!(!e||!e.nodeName||"DIV"!==e.nodeName.toUpperCase())}(e)&&(i=e.getBBox(),s&&(n.container.style.display="block",n.container.offsetWidth+i.x>l?(n.container.style.left="auto",n.container.style.right=l-i.x-i.width+Ne):(n.container.style.left=i.x+Ne,n.container.style.right="auto"),n.container.style.display="none"),n.position===Ge?(n.container.style.top=i.y+i.height*(i.isArtificial?.5:1.5)+Ne,n.container.style.bottom="auto"):(n.container.style.bottom=r.config.height-i.y+Ne,n.container.style.top="auto")),n.container.style.display="block"}hide(e){var t,a=this.config,i=a.container;(t=a.parentListCon)&&t.hide(ze),a.hideFnIds.push(setTimeout(function(){i.style.display="none"},e))}dispose(){var e,t,a=this.config,i=a.atomicLists,n=a.refContainers;for(a.hideFnIds.length=0,e=0,t=i.length;e<t;e++)i[e].dispose();for(i.length=0,e=0,t=n.length;e<t;e++)n[e].dispose();n.length=0}isListContainer(){return!0}}We.POSITION_TOP="top",We.POSITION_BOTTOM=Ge;var He=We;let Qe=window.document;var Ye=class extends o.a{configure(e,t){let a=e||{},i=this.config;i.name=a.name,i.handler=a.handler||r.bb,i.action=a.action&&a.action.toLowerCase()||"click",i.eventMap={},i.style={padding:"3px 8px",margin:"2px 0px",fontFamily:Ve.baseFontFamily,fontSize:Ve.baseFontSize+"px",color:"#000000"},i.hoverOverStyle=a.hoverOverStyle||{},i.hoverOutStyle=a.hoverOutStyle||{},i.chartId=t,Ae(a.style||{},i.style),i.subConRef=void 0,i.node=void 0}updateName(e){let t=this.config;t.name=e,t.node&&(t.node.innerHTML=e)}assignSubContainer(e){e.isListContainer&&e.isListContainer()&&(this.config.subConRef=e)}stickIntoContainer(e,t){var a,i,n,o,r=this.config,l=r.node=Qe.createElement("div"),s=r.style,c=_e.getOptions(r.chartId).chart,d=this;for(a in r.handler&&(r.eventMap[r.action]=r.handler),e.appendChild(l),l.innerHTML=r.name,i=l.style,s)i[a]=s[a];n=Ee("hover",l),Ee("click",l)(function(){d.config.handler&&((o=d.config.eventMap.click)&&o.apply(d,[c]),t.hide())}),n(function(){var e,t=l.style,a=d.config.hoverOverStyle;for(e in a)t[e]=a[e];d.config.subConRef&&d.config.subConRef.show(this)},function(){var e,t=l.style,a=d.config.hoverOutStyle;for(e in a)t[e]=a[e];d.config.subConRef&&d.config.subConRef.hide(300,this)})}setStyle(e){Ae(e||{},this.config.style)}dispose(){var e=this.config,t=e.node;t&&t.remove&&t.remove(),e.node=void 0}isAtomicList(){return!0}};let Ke=window.document;var Xe=class extends o.a{configure(e,t){var a=this.config;a.chartId=t,a.container=void 0,a.listContainer=void 0,a.measurement=e}init(e){var t,a=this.config,i=_e.getComponentPool(a.chartId),n=i.getKeys();return a.container||((t=i.getComponent("div0",e,n.KEY_DIV)())&&(t.innerHTML=""),a.container=new He,a.container.configure(t,a.measurement,a.chartId)),this}getFirstContainer(){return this.config.container}appendAsList(e,t){var a,i,n=this,o=n.config.container.config.hoverOverStyle,l=n.config.container.config.hoverOutStyle;return function e(t,s,c){var d,g,h,p,u,m,b,f,v,x=0;for(f=s||n.config.container,g=(d=t instanceof Array?t:[t]).length;x<g;x++){for(u in h=d[x],(p=new Ye).configure({hoverOverStyle:o,hoverOutStyle:l},c),h)p.config.name=u,p.config.action=(m=h[u]).action,p.setStyle(m.style),-1!==u.search(/^<[^<]+>$/)&&(p.config.hoverOverStyle={},p.config.hoverOutStyle={},m.handler=r.bb),"function"==typeof(b=m.handler)?p.config.handler=m.handler:((i=new He).configure(Ke.createElement("div"),void 0,c),v=e(b,i));f.addAtomicListItem(p),v&&(v.parentListCon=f,f.refContainers.push(v),p.assignSubContainer(v)),v=void 0}return a=f}(e,t,n.config.chartId),a}dispose(){var e=this.config;e.container.dispose(),e.container=void 0}};let Ze,Ue=300;class $e extends De{configure(e,t,a,i){var n,o,l=this.config,s=window.document;super.configure(e,Ze,t,a),l.chartId=i,l.rawContextDefinitation=Ze,(o=new Xe).configure(l.position,i),l.listContainerManager=o.init(a),n=l.listContainerManager.getFirstContainer(),l.evt.hover=[function(e){n.show(function(e,t){var a;return e.getBBox?e:(a=e.getBoundingClientRect(),e.getBBox=function(){return{x:t.x,y:t.y,width:a.right-a.left,height:a.bottom-a.top,isArtificial:!0}},e)}(e.target||e.fromElement,e))},function(e){e.relatedTarget||!r.Ba?n.hide(Ue,e.target):r.Ia&&!l.docEventOutput&&(l.docEventOutput=Se.a.listen(s,"mousedown",function(e){n.hide(Ue,e.target),l.docEventOutput.unlisten(),l.docEventOutput=Ze}))}]}getListRefernce(){return this.config.listContainerManager}attachEventHandler(e){var t=e.tooltext;t&&(this.config.evt.tooltext=t)}getLogicalSpace(){var e=this.config.listContainerManager.getFirstContainer().config.atomicLists;return e&&0===e.length?{width:0,height:0}:De.prototype.getLogicalSpace.call(this)}draw(){var e,t=this.config,a=t.listContainerManager.getFirstContainer().config.atomicLists;return a&&0===a.length?(this.hide(),{getBBox:function(){return{width:0,height:0}}}):(e=De.prototype.draw.apply(this,arguments),$e.allNodes.push(t.node),e)}dispose(){var e=this.config;e.listContainerManager&&e.listContainerManager.dispose(),e.listContainerManager=Ze,De.prototype.dispose.call(this)}}$e.POSITION_TOP="top",$e.POSITION_BOTTOM=Ge,$e.allNodes=[];var qe=$e,Je=a("OEID"),et=a("lr1P"),tt={setNewInstance:function(e,t){tt.instances[e]=t},getInstanceById:function(e){return tt.instances[e]},instances:{}};let at,it=Object(l.c)("FFFFFF",0);class nt extends De{configure(e,t,a,i){let n=this.config;n._id="TB_SCROLLER"+(t||0),n.pId=a,n.conf={},n.userConf=Me,n.chartId=i,this.setConfiguaration(e),n.evt={tooltext:at,click:r.bb,hover:[r.bb,r.bb]}}getName(){return"scroller"}getType(){return"scroller"}setConfiguaration(e){var t=this.config,a=_e.getOptions(t.chartId).chart.getFromEnv("color-manager");Me.color||(Me.color="#"+a.getColor("altHGridColor")),Ae(Me,t.conf),Ae(e,t.conf)}getLogicalSpace(){var e=this.config.conf,t={};return Ae(Me,t),Ae(t,e),De.prototype.getLogicalSpace.call(this)}getDefaultLayer(){var e=this.config,t=_e.getComponentPool(e.chartId),a=t.getKeys();return t.getComponent(e._id,e.pId,a.KEY_GROUP)("scroll")}draw(){var e,t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y=this.config,S=y.conf,w=_e.getComponentPool(y.chartId),L=w.getKeys(),F={},j={};return 1===arguments.length?(e=(b=arguments[0]).x,t=b.y,l=b.parentLayer,m=!!b.sepLayer):(e=arguments[0],t=arguments[1],n=arguments[2],S&&n?Ae(n,S):n={},l=n.parentLayer,m=!!n.sepLayer,b=S),Ae(Me,j),b.isHorizontal?delete j.width:delete j.height,Ae(j,b,!0),t+=b.padding,a=b.height,i=b.width,o=b.isHorizontal,x="scroll-repaint",v=b.startPercent,s=Math.max(b.scrollRatio,.01),c=b.showButtons,d=b.displayFlat,g=b.fullCanvasWidth,h=b.windowedCanvasWidth,p=b.color,u=b.roundEdges,O=Object(r.Sa)(b.scrollPosition,v,0),F[x]=[e,t,i,a],l=l||this.getDefaultLayer(),C=w.getComponent(y._id,y.pId,L.KEY_RECT),f=m?C("scroll-child"):l,C=w.getComponent(y._id,y.pId,L.KEY_SCROLLER),y.node=C(e,t,i,a,o,{scrollPosition:O,displayStyleFlat:d,showButtons:c},f),y.node.data("fullCanvasWidth",g).data("windowedCanvasWidth",h).attr({"scroll-ratio":s,fill:p,"stroke-width":1,"scroll-position":O,r:u?2:0}).scroll(y.evt),w.getCreationStatus()||(y.node.undrag(),y.node.attr(F),y.node.attr({"scroll-display-style":d?"flat":"3d"}).scroll(y.evt)),y.node}attachEventHandlers(e){var t=this.config.evt;return e&&(e.scroll&&"function"==typeof e.scroll&&(t.scroll=e.scroll),e.scrollStart&&"function"==typeof e.scrollStart&&(t.scrollStart=e.scrollStart),e.scrollEnd&&"function"==typeof e.scrollEnd&&(t.scrollEnd=e.scrollEnd)),super.attachEventHandlers(arguments),this}}nt.registerSymbol=at,nt._setConfiguaration=r.bb;var ot=nt,rt=class{constructor(){this.pool={}}};let lt=window.document,st="div";class ct extends o.a{configure(e,t){let a,i,n,o,r,l=this,s=e.getFromEnv("animationManager"),c=l.config;n=c.elemTypes={KEY_RECT:"rect",KEY_TEXT:"text",KEY_GROUP:"group",KEY_SCROLLER:"scroller",KEY_BUTTON:"button",KEY_PATH:"path",KEY_DIV:"div"},o=c.cachedState={},(a=c.actions={})[n.KEY_DIV]=function(){return lt.createElement(st)},a[n.KEY_RECT]=function(e){return s.setAnimation({el:"rect",container:e,component:l})},a[n.KEY_TEXT]=function(e){return s.setAnimation({el:"text",container:e,component:l})},a[n.KEY_GROUP]=function(e,t){return s.setAnimation({el:"group",attr:{name:e},container:t,component:l})},a[n.KEY_SCROLLER]=function(e,t,a,i,n,o,r){return s.setAnimation({el:"scroller",attr:{scroller:[e,t,a,i,n,o,r]},component:l})},a[n.KEY_BUTTON]=function(e,t,a,i,n,o){return s.setAnimation({el:"button",attr:{button:[e,t,a,i,n,o]},component:l})},a[n.KEY_PATH]=function(e,t){s.setAnimation({el:"path",container:t,attr:{path:e},component:l})},r=c.cache=o[t]||(o[t]={}),ct._hideRecursive(r.pool),r.initialized||((i=r.pool=(new rt).pool)._tmp=t,r.initialized=!0)}static _hideRecursive(e){var t,a,i,n,o,r;if(e)for(t in e)for(a in i=e[t])if((n=i[a])instanceof Array)for(o=0,r=n.length;o<r;o++)n[o].hide&&n[o].hide();else n.hide&&n.hide()}emptyPool(e){var t;(t=this.config.cachedState[e]||{}).pool&&(t.pool={})}isInitialized(){return this.config.initialized}getCreationStatus(){return this.config.newCreationDataFlag}hideRecursive(e){ct._hideRecursive((this.config.cachedState[e]||{}).pool)}getKeys(){return this.config.elemTypes}getComponent(e,t,a,i){var n,o,r,l=this.config,s=l.cachedState[t||0]||{},c=s.pool,d=c[e],g=l.actions,h=0;return d||(d=c[e]={}),(o=d[a])&&!(o instanceof Array)&&!o.removed||o instanceof Array&&0<o.length?function(){return s.newCreationDataFlag=!1,i?(r=o[h++])&&!r.removed?r.show():o[h]=g[a].apply(s,arguments):o.show&&"function"==typeof o.show&&o.show()||o}:function(){return s.newCreationDataFlag=!0,i?(n=d[a]||(d[a]=[]),o=g[a].apply(s,arguments),n.push(o),o.show&&"function"==typeof o.show&&o.show()||o):d[a]=g[a].apply(s,arguments)}}}var dt=ct;let gt=0;var ht=class extends o.a{getICount(){return this.config._iCount}getName(){return"toolbox"}getType(){return"horizontalToolbox"}configure(e){var t,a,i,n,o,s=this.config;s.onceInitialized||(s.onceInitialized=!1),s.ALIGNMENT_HORIZONTAL=parseInt("0",2),s.ALIGNMENT_VERTICAL=parseInt("1",2),s.POSITION_TOP=parseInt("00",2),s.POSITION_RIGHT=parseInt("01",2),s.POSITION_BOTTOM=parseInt("10",2),s.POSITION_LEFT=parseInt("11",2),this.getDefaultConfiguration=function(){return Re},s.onceInitialized||(s._options=e,s._chart=e.chart,s._iCount=++gt,s.onceInitialized=!0,s.chartId=e.chart.getFromEnv("chartInstance").id),n=s._chart.getFromEnv("dataSource").chart,Re.scale=Object(r.Sa)(n.toolbarbuttonscale,1.15),Re.width=Object(r.Sa)(n.toolbarbuttonwidth,r.eb?20:15),Re.height=Object(r.Sa)(n.toolbarbuttonheight,r.eb?20:15),Re.radius=Object(r.Sa)(n.toolbarbuttonradius,r.eb?4:2),Re.spacing=Object(r.Sa)(n.toolbarbuttonspacing,5),Re.fill=Object(l.c)(Object(r.Qa)(n.toolbarbuttoncolor,"ffffff")),Re.labelFill=Object(l.c)(Object(r.Qa)(n.toolbarlabelcolor,"cccccc")),Re.symbolFill=Object(l.c)(Object(r.Qa)(n.toolbarsymbolcolor,"ffffff")),Re.hoverFill=Object(r.Qa)(n.toolbarbuttonhovercolor),Re.stroke=Object(l.c)(Object(r.Qa)(n.toolbarbuttonbordercolor,"bbbbbb")),Re.symbolStroke=Object(l.c)(Object(r.Qa)(n.toolbarsymbolbordercolor,"9a9a9a")),Re.strokeWidth=Object(r.Sa)(n.toolbarbuttonborderthickness,1),Re.symbolStrokeWidth=Object(r.Sa)(n.toolbarsymbolborderthickness,1),o=Re.symbolPadding=Object(r.Sa)(n.toolbarsymbolpadding,5),Re.symbolHPadding=Object(r.Sa)(n.toolbarsymbolhpadding,o),Re.symbolVPadding=Object(r.Sa)(n.toolbarsymbolvpadding,o),t="tr"===(t=Re.position=Object(r.Qa)(n.toolbarposition,"tr").toLowerCase())||"rt"===t||"top right"===t||"right top"===t?"tr":"br"===t||"rb"===t||"bottom right"===t||"right bottom"===t?"br":"tl"===t||"lt"===t||"top left"===t||"left top"===t?"tl":"bl"===t||"lb"===t||"bottom left"===t||"left bottom"===t?"bl":"tr",a=Re.hAlign="left"===(r.b+n.toolbarhalign).toLowerCase()?"l":t.charAt(1),i=Re.vAlign="bottom"===(r.b+n.toolbarvalign).toLowerCase()?"b":t.charAt(0),Re.hDirection=Object(r.Sa)(n.toolbarhdirection,"r"===a?-1:1),Re.vDirection=Object(r.Sa)(n.toolbarvdirection,"b"===i?-1:1),Re.vMargin=Object(r.Sa)(n.toolbarvmargin,6),Re.hMargin=Object(r.Sa)(n.toolbarhmargin,10),n.toolbary&&n.toolbarx?(Re.x=Object(r.Sa)(n.toolbarx),Re.y=Object(r.Sa)(n.toolbary),delete Re.spaceNotHardCoded):Re.spaceNotHardCoded=!0,Me.color=n.scrollcolor&&Object(l.c)(n.scrollcolor),Me.padding=Object(r.Sa)(n.scrollpadding,0),Me.height=Object(r.Sa)(n.scrollheight,12),Me.width=Object(r.Sa)(n.scrollwidth,12),Me.displayFlat=Object(r.Sa)(n.flatscrollbars,0),Me.scrollBar3DLighting=Object(r.Sa)(n.scrollbar3dlighting,1),Me.startPercent=Math.min(1,Math.max(0,parseFloat(n.scrolltoend)||0)),Me.showButtons=!!Object(r.Sa)(n.scrollshowbuttons,1),Me.buttonPadding=Object(r.Sa)(n.scrollbtnpadding,0),Ve.baseFontFamily=Object(r.Qa)(n.basefont,"Verdana,sans"),Ve.baseFontSize=Object(r.Sa)(n.basefontsize,10),Ve.baseFontColor=Object(r.Qa)(n.basefontcolor,"595959")}getAPIInstances(e){var t,a=this.config,i=a._chart,n={},l=a.componentPool=new dt;switch(l.configure(i,a._iCount),_e.setComponentPool(l,a.chartId),_e.setOptions(a._options,a.chartId),t={HorizontalToolbar:class extends o.a{configure(e,t,a){var i=this.config;i.id="TB_MASTER"+e,tt.setNewInstance(i.id,this),i.toolbarRect=void 0,i.componentGroups=[],i.toolbarConfig=Ie,i.group=void 0,i.pId=t,i.x=0,i.y=0,i.chartId=a,i.configured=!0}getId(){return this.config.id}getName(){return"horizontalToolbar"}getType(){return"toolbar"}addComponent(e){this.config.componentGroups.push(e)}setMenuBarDimension(e,t){let a=this.config;e&&(a.x=e),t&&(a.y=t)}draw(e){var t,a,i,n,o,r,l,s,c,d,g,h=this.config,p=h.x,u=h.componentGroups,m=h.id,b=p,f=h.y,v=h.toolbarConfig,x=Number.NEGATIVE_INFINITY,C=_e.getComponentPool(h.chartId),O=C.getKeys();for(e=e||{},n=h.parentLayer||e.parentGroup||{},g=C.getComponent(h.id,h.pId,O.KEY_GROUP,!0),h.group=o=g(m,n),g=C.getComponent(h.id,h.pId,O.KEY_RECT,!0),r=h.toolbarRect=g(o).attr({height:0,width:0,x:b,y:f}),b+=v.hPadding,f+=v.vPadding,a=0,i=u.length;a<i;a++)d=(t=u[a]).config.groupConfig.spacing||1,b+=(c=t.draw(o,{x:b,y:f},a,!h.configured)).width+d,x=x>c.height?x:c.height;return s=x,l=b-d-v.hPadding-p,isFinite(s)||(s=0),isFinite(l)||(l=0),r.attr({height:s+=2*v.vPadding,width:l+=2*v.hPadding}).attr({fill:v.fill,r:v.radius,stroke:v.borderColor,"stroke-width":v.borderThickness}),this.drawn=!0,h.configured=!1,{height:s,width:l}}getLogicalSpace(){var e,t,a,i,n,o=this.config,r=o.componentGroups,l=0,s=Number.NEGATIVE_INFINITY,c=0;for(e=0,t=r.length;e<t;e++)l+=(n=(a=r[e]).getLogicalSpace()).width+(i=a.config.groupConfig.spacing||1),c+=n.width,s=s<n.height?n.height:s;return c?{width:l-=i-2*o.toolbarConfig.hPadding,height:s+2*o.toolbarConfig.vPadding}:{width:0,height:0}}dispose(){for(var e=this.config,t=_e.getComponentPool(e.chartId),a=e.componentGroups,i=0,n=a.length;i<n;i++)a[i].dispose();a.length=0,e.toolbarRect&&e.toolbarRect.remove(),t.emptyPool(e.pId)}_dispose(){this.dispose(),super._dispose()}},ComponentGroup:class extends o.a{configure(e,t,a){let i=this.config;i.preId=e||0,i.id=void 0,i.symbolList=[],i.groupRect=void 0,i.pId=t,i.chartId=a,Object(r.N)(i.btnConfig={},Re),Object(r.N)(i.groupConfig={},Te)}addSymbol(e,t){var a=this.config.symbolList;t?a.unshift(e):a.push(e)}setConfiguaration(e){var t=this.config,a=e.buttons,i=e.group;a&&Ae(a,t.btnConfig),i&&Ae(i,t.groupConfig)}draw(e,t,a,i){var n,o,r,l,s,c,d,g,h,p=this.config,u=p.preId,m=p.symbolList,b=p.groupConfig,f=p.btnConfig,v=t.x,x=t.y,C=0,O=0,y=Number.NEGATIVE_INFINITY,S=_e.getComponentPool(p.chartId),w=S.getKeys();for(h=p.id=u.toString()+a,n=(g=S.getComponent(p.id,p.pId,w.KEY_GROUP))("toolbar-group"+h,e),g=S.getComponent(p.id,p.pId,w.KEY_RECT),s=p.groupRect=g(n).attr({height:0,width:0,x:v,y:x}),v+=b.hPadding,x+=b.vPadding,O+=b.hPadding,C+=b.vPadding,o=0,r=m.length;o<r;o++)l=m[o],i||l._setConfiguaration(f),y<(c=l.draw(v,x,{parentLayer:n,isResize:i}).getBBox()).height&&(y=c.height),v+=c.width+(d=f.spacing);return O+=v+b.hPadding-t.x-d-b.offsetAdjustment,C+=y+b.vPadding+b.offsetAdjustment,isFinite(C)||(C=0),isFinite(O)||(O=0),s.attr({height:C,width:O}).attr({fill:b.fill,r:b.radius,stroke:b.borderColor,"stroke-width":b.borderThickness}),{height:(c=s.getBBox()).height,width:c.width}}getLogicalSpace(){var e,t,a,i,n=Number.NEGATIVE_INFINITY,o=this.config,r=o.symbolList,l=0,s=0,c=n,d=0;for(t=0,a=r.length;t<a;t++)(e=r[t])._setConfiguaration(o.btnConfig),s+=(i=e.getLogicalSpace()).width+o.btnConfig.spacing,d+=i.width,c=c<i.height?i.height:c;return d?(c!==n&&s&&(s-=o.btnConfig.spacing-2*o.groupConfig.hPadding-o.groupConfig.offsetAdjustment,l=c+2*o.groupConfig.vPadding+o.groupConfig.offsetAdjustment),{width:s,height:l}):{width:0,height:0}}dispose(){for(var e=this.config,t=e.symbolList,a=0,i=t.length;a<i;a++)t[a].dispose();t.length=0,e.groupRect&&e.groupRect.remove()}},Symbol:De,CheckboxSymbol:class extends De{configure(e,t,a,i,n){super.configure("Internal_CB");let o=this.config;o._id="TB_CBSYMBOL"+(a||0),o.symbol="Internal_CB",o.text={plaintext:e,node:void 0,style:Pe},o.pId=i,o.chartId=n,o.checked=!!t,o.textNode=void 0,o.interPadding=3,o.pos={},o.regSymbolCmd=void 0,o.checked?this.check():this.uncheck()}check(){var e=this.config,t=e.pos;e.checked=!0,e.regSymbolCmd=je,e.node&&(this.registerSymbol(e.regSymbolCmd),e.node.attr({"button-repaint":[t.x,t.y,t.width,t.height,t.r]}))}uncheck(){var e=this.config,t=e.pos;e.checked=!1,e.regSymbolCmd=Fe,e.node&&(this.registerSymbol(e.regSymbolCmd),e.node.attr({"button-repaint":[t.x,t.y,t.width,t.height,t.r]}))}click(){this.config.checked?this.uncheck():this.check()}attachEventHandlers(e){var t=this;De.prototype.attachEventHandlers.apply(this,[e,{click:function(){t.click()}}])}getLogicalSpace(){var e,t,a=_e.getOptions(this.config.chartId).chart,i=this.config,n=a.linkedItems.smartLabel,o=i.text.style;return t=De.prototype.getLogicalSpace.apply(this,arguments),n.useEllipsesOnOverflow(a.config.useEllipsesWhenOverflow),n.setStyle(o),{width:(e=n.getSmartText(i.text.plaintext)).width+i.interPadding+t.width,height:Math.max(t.height,e.height)}}draw(e,t,a){var i,n,o,r,l,s,c=this.config,d=c.conf,g=_e.getOptions(c.chartId).chart,h=g.getFromEnv("smartLabel"),p=g.getFromEnv("color-manager"),u=c.text.plaintext,m=_e.getComponentPool(c.chartId),b=m.getKeys();return this.registerSymbol(c.regSymbolCmd),i=c.node=De.prototype.draw.apply(this,arguments),c.pos={x:e,y:t,width:d.width,height:d.height,r:d.radius},(l=c.text.style).fill=l.fill||"#"+p.getColor("baseFontColor"),h.useEllipsesOnOverflow(g.config.useEllipsesWhenOverflow),h.setStyle(l),o=h.getSmartText(u),n=i.getBBox(),s=m.getComponent(c._id,c.pId,b.KEY_TEXT),c.textNode=s(a.parentLayer).attr({text:u,x:n.x+n.width+o.width/2+c.interPadding,y:n.y+n.height/2}).css(l),r=d.height>o.height?d.height:o.height,(s=m.getComponent(c._id,c.pId,b.KEY_RECT))(a.parentLayer).attr({height:r,width:n.width+o.width+c.interPadding,x:e,y:t,stroke:it})}dispose(){let e=this.config;e.textNode&&e.textNode.remove(),e.textNode=void 0,super.dispose()}},Scroller:ot,SymbolWithContext:qe,getInstanceById:tt.getInstanceById},e){case a.ALIGNMENT_HORIZONTAL:n.Toolbar=t.HorizontalToolbar}return n.ComponentGroup=t.ComponentGroup,n.Symbol=t.Symbol,n.Scroller=t.Scroller,n.SymbolWithContext=t.SymbolWithContext,n.SymbolStore=ke,n.CheckboxSymbol=t.CheckboxSymbol,n}clean(){var e=this.config;e.componentPool.hideRecursive(e._iCount)}};let pt=Object(s.b)("redraphael","plugin"),ut="VML"===pt.type,mt="rgba(255,0,0,"+(r.Ha?.002:1e-6)+")",bt=Math.max,ft=Math.min,vt=Math.round,xt={datalabelclick:!0,connectorclick:!0,categoryclick:!0,processclick:!0,milestoneclick:!0,labelclick:!0,dataplotclick:!0},Ct=r.Ua.SEVENTYSTRING,Ot=r.Ua.AUTOSTRING,yt="bold",St="normal",wt="right",Lt="createTouch"in window.document,Ft=Lt&&!(window.navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),jt="start",kt="end",At=function(e,t,a){return a.getFromEnv("animationManager").setAnimation({el:"group",attr:e,container:t,state:"appearing",component:a,label:"group"})},Et=function(e){var t,a=e.data,i=a.getFromEnv("chartInstance"),n=e.originalEvent,o=a.config,l=Object(r.W)(a.getFromEnv("chart-container"),n,a);return!i.ref||o.chartLinkTriggered?void(o.chartLinkTriggered=!1):(t=Object(r.N)({height:i.args.height,width:i.args.width,pixelHeight:a.getFromEnv("chartWidth"),pixelWidth:a.getFromEnv("chartHeight"),id:i.args.id,renderer:i.args.renderer,container:i.options.containerElement},l),a.fireChartInstanceEvent("chartclick",t),o.link&&(!o.hotElemClicked||o.clickURLOverridesPlotLinks)&&a.getFromEnv("linkClickFN").call({link:o.link}),void(o.hotElemClicked=!1))},Tt=function(e){var t=e.data.config;t.containerTapStartedAt=(new Date).getTime(),t.chartLinkTriggered=!1},It=function(e){var t=e.data.config;600>(new Date).getTime()-t.containerTapStartedAt&&Et(e),t.containerTapStartedAt=0,t.chartLinkTriggered=!0},Pt=function(e){var t=e.type,a=e.data,i=a.getFromEnv("eventListeners");("mouseover"===t||"touchstart"===t)&&!1===a.config.mouseStateIn&&(a.config.mouseStateIn=!0,Dt.onContainerRollOver(e),i.push(Se.a.listen(ut?document:window,"mouseover",Dt.winMouseHover,a)))};function _t(){this.getChildren("canvas")[0]._mapChildren(e=>{e.syncDraw()})}Object(s.a)({name:"commonAnimation",type:"animationRule",extension:{"*.*.*":{"*.disappearing":[{finalAttr:{opacity:0},slot:"initial",callback:function(){this.hide()}}]}}});class Dt extends n.a{static getName(){return"CommonAPI"}plotEventHandler(e,t={},a,i){var n,o,l,s=this,c=t.type,d=Object(r.W)(s.getFromEnv("chart-container"),t,s),g=e&&e.data("eventArgs")||i,h=Object(r.N)(d,g),p=s.fireGroupEvent,u=e&&e.data("groupId"),m=function(){t.FusionChartsPreventEvent=!0};if("index"in h&&!("dataIndex"in h)&&(h.dataIndex=h.index),"value"in h&&!("dataValue"in h)&&(h.dataValue=h.value),"dataplotrollover"===(a=Object(r.Qa)(a,"dataplotclick").toLowerCase())?(t.FusionChartsPreventEvent=!1,p?Object(Je.e)(u,a,h,s.getFromEnv("chartInstance"),r.z,r.z,m):s.fireChartInstanceEvent(a,h,r.z,r.z,m)):p&&!xt[a]?Object(Je.e)(u,a,h,s.getFromEnv("chartInstance")):s.fireChartInstanceEvent(a,h),("click"===c||"mouseup"===c||"touchend"===c)&&/click/i.test(a)){if(Lt&&!Ft){if(l=(new Date).getTime(),e&&e.lastClickTimeStamp&&400>l-e.lastClickTimeStamp)return void(t&&(t.originalEvent||t).preventDefault());e&&(e.lastClickTimeStamp=l)}o=(n=s.getFromEnv())&&n.linkClickFN,h.link&&o&&o.call({link:h.link},!0)}}constructor(){super(),this.addToEnv("stringConstants",{COMPONENT:"component",CANVAS:"canvas",CAPTION:"caption"}),this.addToEnv("chartMenuTools",Dt.chartMenuTools()),this.addToEnv("getMouseCoordinate",r.W),this._drawDataset=_t,this.config.mouseStateIn=!1,this.registerFactory("canvas",m),this._firstConfigure=!0}getName(){return"Cartesian"}preConfigure(e){var t=this.getFromEnv("number-formatter");this.addToEnv("chart-attrib",e.chart),t?t.configure():this.addToEnv("number-formatter",new ye.a(this)),super.preConfigure(e)}postConfigure(e){super.postConfigure(e),this._firstConfigure=!1}setDefaults(){super.setDefaults();let e=this.getFromEnv("number-formatter");e&&e.setDefaults&&e.setDefaults()}getType(){return"chartAPI"}parseChartAttr(e){var t=Math.abs;let a,i,n,o,s,c,d,g,h,p,u,m,b,f,v=this,x=e||v.getFromEnv("dataSource"),C=v.config.is3D,O=C?r.E.chart3D:r.E.chart2D,y=v.isBar,S=v.getFromEnv("color-manager");S||(S=new Oe(v),v.addToEnv("color-manager",S)),x.chart=x.chart||x.graph||x.map||{},delete x.map,delete x.graph,(a=x.chart)||(a=x.chart={}),i=v.config||(v.config={}),Object(et.a)(a,i,{},{showvalues:!0,crosslinecolor:!0,drawcrosslineontop:!0,crosslinealpha:!0,drawcrossline:!0}),i.showValues=Object(r.Sa)(a.showvalues,i.showvalues),i.viewPortConfig={scaleY:1,scaleX:1,x:0,y:0},C&&(y?(i.xDepth=5,i.yDepth=5):(i.xDepth=10,i.yDepth=10),i.showCanvasBase=f=!!Object(r.Sa)(a.showcanvasbase,1),i.canvasBasePadding=Object(r.Sa)(a.canvasbasepadding,2),i.canvasBaseDepth=f?Object(r.Sa)(a.canvasbasedepth,10):0,i.canvasBgDepth=Object(r.Sa)(a.canvasbgdepth,3)),S&&S.configure(),i.placeAxisLabelsOnTop=Object(r.Sa)(a.placexaxislabelsontop,0),i.enableAnimation=Object(r.Sa)(a.animation,a.defaultanimation,1),i.showToolTip=Object(r.Sa)(a.showtooltip,1),i.printOption={enabled:Object(r.Sa)(a.printshowbutton,a.showprintmenuitem,0)},i.drawCrossLineOnTop=Object(r.Sa)(a.drawcrosslineontop,1),d=i.style={},v.addToEnv("style",d),i.textDirection="1"===a.hasrtltext?"rtl":r.b,d.inCanfontFamily=n=Object(r.Qa)(a.basefont,"Verdana,sans"),d.inCanfontSize=o=Object(r.Ra)(a.basefontsize,10),d.inCancolor=s=Object(r.Qa)(a.basefontcolor,S.getColor(O.baseFontColor)),d.outCanfontFamily=Object(r.Qa)(a.outcnvbasefont,n),d.fontSize=c=Object(r.Ra)(a.outcnvbasefontsize,o),d.outCanfontSize=c+r.v,d.outCancolor=Object(r.Qa)(a.outcnvbasefontcolor,s).replace(/^#? ([a-f0-9]+)/gi,"#$1"),d.baseFontSize=o,d.inCanfontSize=o+r.v,d.inCancolor=s.replace(/^#? ([a-f0-9]+)/gi,"#$1"),d.inCanvasStyle=p={fontFamily:n,fontSize:o,color:s},d.inCanLineHeight=u=Object(r.ab)(p),b=(b=Object(r.T)(a.valuebordercolor,r.b))?Object(l.c)(b,Object(r.Sa)(a.valueborderalpha,a.valuealpha,100)):r.b,i.reverseXAxis=v.config.allowreversexaxis&&Object(r.Sa)(a.reversexaxis,0),i.showBorder=Object(r.Sa)(a.showborder,C?0:1),i.borderWidth=bt(i.showBorder?Object(r.Sa)(a.borderthickness,1):0,0),i.useplotgradientcolor=Object(r.Sa)(a.plotgradientcolor,i.useplotgradientcolor,0),i.valuefontbold=Object(r.Sa)(a.valuefontbold,i.valuefontbold),i.dataLabelStyle=m={fontFamily:Object(r.Qa)(a.valuefont,n),fontSize:Object(r.Qa)(a.valuefontsize,Object(r.Ma)(o,10))+r.v,lineHeight:u,color:Object(l.c)(Object(r.Qa)(a.valuefontcolor,s),Object(r.Sa)(a.valuefontalpha,a.valuealpha,100)),fontWeight:i.valuefontbold?yt:St,fontStyle:Object(r.Sa)(a.valuefontitalic)?"italic":St,border:b||a.valuebgcolor?Object(r.Sa)(a.valueborderthickness,1)+"px solid":r.b,borderColor:b,borderThickness:Object(r.Sa)(a.valueborderthickness,1),borderPadding:Object(r.Sa)(a.valueborderpadding,2),borderRadius:Object(r.Sa)(a.valueborderradius,0),backgroundColor:a.valuebgcolor?Object(l.c)(a.valuebgcolor,Object(r.Sa)(a.valuebgalpha,a.valuealpha,100)):r.b,borderDash:Object(r.Sa)(a.valueborderdashed,0)?Object(r.S)(Object(r.Sa)(a.valueborderdashlen,4),Object(r.Sa)(a.valueborderdashgap,2)):r.h},Object(r.ab)(m),i.legendposition=Object(r.Qa)(a.legendposition,r.n),i.alignLegendWithCanvas=Object(r.Sa)(a.alignlegendwithcanvas,1),i.origMarginTop=Object(r.Sa)(a.charttopmargin,v.chartTopMargin,15),i.origMarginLeft=Object(r.Sa)(a.chartleftmargin,v.chartLeftMargin,15),i.origMarginBottom=Object(r.Sa)(a.chartbottommargin,v.chartBottomMargin,15),i.origMarginRight=Object(r.Sa)(a.chartrightmargin,v.chartRightMargin,15),i.origCanvasLeftMargin=Object(r.Sa)(a.canvasleftmargin,0),i.origCanvasRightMargin=Object(r.Sa)(a.canvasrightmargin,0),i.origCanvasTopMargin=Object(r.Sa)(a.canvastopmargin,0),i.origCanvasBottomMargin=Object(r.Sa)(a.canvasbottommargin,0),i.minChartWidthPercent=Object(r.Sa)(a.minchartwidth,v.minChartWidth,50)/100,i.minChartHeightPercent=Object(r.Sa)(a.minchartheight,v.minChartHeight,50)/100,i.minCanvasWidthPercent=Object(r.Sa)(a.mincanvaswidth,v.minCanvasWidth,60)/100,i.minCanvasHeightPercent=Object(r.Sa)(a.mincanvasheight,v.minCanvasHeight,30)/100,g=Object(r.Qa)(a.zeroplanecolor,a.divlinecolor,S.getColor(O.divLineColor)),h=Object(r.Qa)(a.zeroplanealpha,a.divlinealpha,S.getColor("divLineAlpha")),i.zeroPlaneColor=Object(l.c)(g,h),i.zeroPlaneBorderColor=Object(l.c)(Object(r.Qa)(a.zeroplanebordercolor,g),Object(r.Sa)(a.zeroplaneshowborder,1)?h:0),i.zeroPlaneShowBorder=Object(r.Sa)(a.zeroplaneshowborder,1),i.realtimeEnabled=Object(r.Sa)(a.realtimeenabled,v.isRealTime),i.showLegend=Object(r.Sa)(a.showlegend,v.showLegend,1),i.link=a.clickurl,i.transposeAxis=Object(r.Sa)(v.transposeAxis,a.transposeaxis,0),i.useEllipsesWhenOverflow=Object(r.Sa)(a.useellipseswhenoverflow,a.useellipsewhenoverflow,1),i.drawTrendRegion=Object(r.Sa)(a.drawcrossline,0),i.plotcolorintooltip=Object(r.Sa)(a.plotcolorintooltip,v.config.singleseries?0:1),i.plotbinsize=ft(Object(r.Sa)(a.plotbinsize,v.plotbinsize,.5),1),i.labelbinsize=ft(Object(r.Sa)(a.labelbinsize,1),1),i.labelbinsize=i.plotbinsize>i.labelbinsize?i.plotbinsize:i.labelbinsize,i.enableMouseOutEvent=Object(r.Sa)(a.enablemouseoutevent,v.enableMouseOutEvent,1),i.plotSpacePercent=Math.max(Object(r.Sa)(a.plotspacepercent,v.plotSpacePercent),0),i.maxColWidth=t(Object(r.Sa)(a.maxcolwidth,50)),i.maxBarHeight=t(Object(r.Sa)(a.maxbarheight,50)),i.overlapColumns=Object(r.Sa)(a.overlapcolumns,a.overlapbars,i.is3D?0:1),i.plotPaddingPercent=a.plotpaddingpercent,i.tooltipgrayoutcolor=Object(r.Qa)(a.tooltipgrayoutcolor,r.Ua.colors.AAAAAA),i.clickURLOverridesPlotLinks=Object(r.Sa)(a.clickurloverridesplotlinks,0),v.addToEnv("chartConfig",i),v.addToEnv("linkClickFN",Object(r.V)(v.getFromEnv("dataSource"),v)),v.addToEnv("dataLabelStyle",m)}createComponent(){let e,t=this;e=t.config.skipConfigureIteration,t.createBaseComponent(),t.getFromEnv("animationManager").setAnimationState(t._firstConfigure?"initial":"update"),Object(r.G)(t,C,"caption"),e.caption=!0,Object(r.G)(t,S,"subCaption"),e.subCaption=!0,Object(r.G)(t,F,"background"),e.background=!0,t._createConfigurableComponents&&t._createConfigurableComponents(),t.config.realtimeEnabled&&t._realTimeConfigure&&t._realTimeConfigure()}configureChildren(){var e=this;e._mapChildren(t=>{!t.getState("removed")&&e.config.skipConfigureIteration[t.getName()]&&t.configure&&t.configure()})}_createToolBox(){(function(){this.getFromEnv("chartMenuTools").reset(this.getFromEnv("toolbox"),this);var e,t,a,i,n,o,l,s,c,d,g,h,p,u=this,m=u.getFromEnv("chartMenuTools"),b=u.getFromEnv("chartInstance").id,f=m.get,v=m.set,x=this.components,C=u.config,O=u.getChildren("chartMenuBar"),y=u.getChildren("actionBar"),S=C.printOption.enabled,w=u.config.realTimeConfig||{};O&&O.drawn||y&&y.drawn||(Object(r.G)(u,ht,"tb",1,[{graphics:u.graphics||(u.graphics={}),chart:u,components:x}]),h=(e=u.getChildren("tb")[0]).getICount(),u.addToEnv("toolbox",e),!u.getFromEnv("toolBoxAPI")&&u.addToEnv("toolBoxAPI",e.getAPIInstances(e.config.ALIGNMENT_HORIZONTAL)),c=(o=u.getFromEnv("toolBoxAPI")).SymbolWithContext,l=o.SymbolStore,s=o.ComponentGroup,d=o.Toolbar,e.idCount=e.idCount||0,e.pId=h,a=e.getDefaultConfiguration(),l.register("ContextIcon",function(e,t,a){var i=e,n=t,o=2*a,r=vt(o/4),l=.7*vt(o/2),s=i-l,c=i+l,d=n+r,g=n-r;return["M",s,n,"L",c,n,"M",s,d,"L",c,d,"M",s,g,"L",c,g]}),(p=new c).configure("ContextIcon",e.idCount++,h,b),i=(t=p).getListRefernce(),u.addToEnv("chartMenuList",i),S&&v([{Print:{handler:function(){u.getFromEnv("chartInstance").print()},action:"click"}}]),u._setRTmenu&&u._setRTmenu(w.showRTmenuItem,w.useMessageLog),i.appendAsList(f()),(n=new s).configure(e.idCount++,h,b),n.setConfiguaration({buttons:a,group:{fill:mt,borderColor:mt}}),n.addSymbol(t),"t"===n.config.btnConfig.vAlign?(g=new d,O=u.attachChild(g,"chartMenuBar",!1),g.configure(e.idCount++,e.pId,b),O.addComponent(n)):(g=new d,O=u.attachChild(g,"actionBar",!1),g.configure(e.idCount++,e.pId,b),O.addComponent(n)))}).call(this)}configureAttributes(e){(function(e){var t=this;t.config.skipConfigureIteration={},t.parseChartAttr(e),t.createComponent(e),t._createToolBox(),t.setTooltipStyle(),t.configureChildren()}).call(this,e)}setTooltipStyle(){let e=this.config;this.getFromEnv("toolTipController").setStyle({bgColor:Object(l.c)(e.tooltipbgcolor||"FFF",e.tooltipbgalpha||100),rawBgColor:(e.tooltipbgcolor||"FFF").replace(/\s+/g,"").replace(/^#?([a-f0-9]+)/gi,"#$1"),fontColor:(e.tooltipcolor||e.basefontcolor||"545454").replace(/\s+/g,"").replace(/^#?([a-f0-9]+)/gi,"#$1"),borderColor:Object(l.c)(e.tooltipbordercolor||"666",e.tooltipborderalpha||100),rawBorderColor:(e.tooltipbordercolor||"666").replace(/\s+/g,"").replace(/^#?([a-f0-9]+)/gi,"#$1"),bgAlpha:Object(r.Sa)(e.tooltipbgalpha,100),borderThickness:Object(r.Sa)(e.tooltipborderthickness,1),showToolTipShadow:Object(r.Sa)(e.showtooltipshadow,e.showshadow,1),borderRadius:Object(r.Sa)(e.tooltipborderradius,0),"font-size":e.basefontsize||10,"font-family":e.basefont||this.getFromEnv("style").inCanfontFamily,padding:Object(r.Sa)(e.tooltippadding||3),borderAlpha:Object(r.Sa)(e.tooltipborderalpha,100)})}__setDefaultConfig(){super.__setDefaultConfig();let e=this.config;e.valuefontbold=0,e.stickytracking=1,e.usemessagelog=0,e.zeroplanethickness=r.z,e.animationeffect="linear",e.showshadow=1,e.showhovereffect=r.z,e.plothovereffect=r.z,e.anchorhovereffect=r.z,e.plotborderdashed=r.z,e.stack100percent=r.z,e.showpercentvalues=r.z,e.showpercentintooltip=r.z,e.plotbordercolor=r.z,e.showtooltip=1,e.seriesnameintooltip=1,e.rotatevalues=0,e.minimizetendency=0,e.plotfillangle=270,e.valuepadding=2,e.useplotgradientcolor=1,e.plotborderthickness=1,e.plotfillalpha=Ct,e.showvalues=1,e.valueposition=Ot,e.drawcrossline=r.z,e.tooltipsepchar=", ",e.usedataplotcolorforlabels=0,e.placevaluesinside=0,e.showplotborder=1,e.use3dlighting=1,e.useroundedges=0,e.plotspacepercent=20,e.plotpaddingpercent=r.z,e.plotfillratio=r.z,e.maxcolwidth=50,e.plotborderdashlen=5,e.plotborderdashgap=4,e.useScaleRecursively=!0,e.formatnumberscale=1,e.decimals=2,e.decimalprecision=10,e.tooltipbgcolor="FFF",e.tooltipcolor=r.z,e.tooltipbordercolor="666",e.tooltipbgalpha=100,e.tooltipborderthickness=1,e.showtooltipshadow=r.z,e.basefontsize=10,e.basefont="Verdana, sans",e.tooltipborderradius=0,e.tooltippadding=3,e.tooltipborderalpha=100,e.origw=r.z,e.origh=r.z}configure(e){e.chart=e.chart||e.graph||e.map||{},super.configure(e)}_checkInvalidData(){var e=this,t=e.getFromEnv("dataSource"),a=e.getFromEnv("chartInstance");if(!(e.isWidget||e.isMap||t.data&&0!==t.data.length||t.dataset||t.value||t.lineset||t.annotations||t.category||t.tasks||t.process||t.axis))return e.setChartMessage(),e.drawChartMessage(),a.__state.dataReady=!1,a.jsVars.hasNativeMessage=!0,a.jsVars.drawCount+=1,!0}_checkInvalidSpecificData(){let e=this.getFromEnv("dataSource"),t=e.categories;if(!e.dataset||!t||0===t.length||!t[0].category)return!0}setChartEvents(){var e=this,t=e.getFromEnv("eventListeners"),a=e.getFromEnv("dataSource"),i=a&&a.chart,n=e.getFromEnv("paper")&&e.getFromEnv("paper").canvas,o=e.getFromEnv("chart-container"),l=i&&Object(r.Sa)(i.enablechartmousemoveevent,0);(i||n)&&(r.eb&&(Se.a.unlisten(o,"touchstart",Tt),Se.a.unlisten(o,"touchend",It),t.push(Se.a.listen(o,"touchstart",Tt,e)),t.push(Se.a.listen(o,"touchend",It,e))),Se.a.unlisten(o,"click",Et),t.push(Se.a.listen(o,"click",Et,e)),Se.a.unlisten(n,"mouseover",Pt,e),Se.a.unlisten(n,"touchstart",Pt,e),Se.a.unlisten(n,"mouseout",Pt,e),Se.a.unlisten(n,"touchend",Pt,e),t.push(Se.a.listen(n,"mouseover touchstart mouseout touchend",Pt,e)),Se.a.unlisten(o,"mousemove",Dt.onContainerMouseMove,e),Se.a.unlisten(o,"touchmove",Dt.onContainerMouseMove,e),l&&t.push(Se.a.listen(o,"mousemove touchmove",Dt.onContainerMouseMove,e)))}static chartMenuTools(){var e=[];return{get:function(){return e},set:function(t){var a,i=t.length||0;for(a=0;a<i;a+=1)e.push(t[a])},reset:function(t,a){var i=a.getChildren("actionBar"),n=a.getChildren("chartMenuBar");n&&a.detachChild(n.getId())&&(n.drawn=!1),i&&a.detachChild(i.getId())&&(i.drawn=!1),e.length=0,t&&(t.idCount=0,t.clean())},update:function(e,t,a){var i,n,o,r,l,s,c,d=(a.getChildren("chartMenuBar")||a.getChildren("actionBar")).config.componentGroups;for(r=0,l=d.length;r<l;r++)for(s=0,c=(o=d[r].config.symbolList||[]).length;s<c;s++)o[s]instanceof qe&&(i=o[s].getListRefernce().getFirstContainer().config.atomicLists);for(r=0,l=(i=i||[]).length;r<l;r++)if((n=i[r]).config.name===e){n.updateName(t);break}}}}get(e,t){var a=this[e];return t?a&&a[t]:a}prepareAttributes(){this.config.hasChartMessage||super.prepareAttributes()}disposeChartStyleSheet(){var e=this.getFromEnv("paper");e&&e.cssClear()}createChartStyleSheet(){this.getFromEnv("paper").cssRender()}_dispose(){let e=this.getFromEnv("eventListeners"),t=e&&e.length;for(;t--;)e[t].unlisten();super._dispose()}_allocateSpace(e){var t,a,i=this.getChildren("canvas"),n=i&&i[0].config,o=this.config,r=o.canvasHeight,l=o.canvasWidth,s=o.availableHeight,c=o.availableWidth;a=o.canvasLeft+=e.left||0,t=o.canvasTop+=e.top||0,l=o.canvasWidth=bt(l-((e.left||0)+(e.right||0)),0),r=o.canvasHeight=bt(r-((e.top||0)+(e.bottom||0)),0),o.availableHeight=bt(s-((e.top||0)+(e.bottom||0)),0),o.availableWidth=bt(c-((e.left||0)+(e.right||0)),0),o.canvasRight=a+l,o.canvasBottom=t+r,n&&(n.canvasPaddingLeft=bt(n.canvasPaddingLeft,e.paddingLeft||0),n.canvasPaddingRight=bt(n.canvasPaddingRight,e.paddingRight||0),n.canvasPaddingTop=bt(n.canvasPaddingTop,e.paddingTop||0),n.canvasPaddingBottom=bt(n.canvasPaddingBottom,e.paddingBottom||0)),i&&i[0].setDimension({top:t,left:a,width:l,height:r})}_fetchCaptionPos(e){var t=this,a=t.config,i=a.width,n=t.getChildren("chartMenuBar"),o=n.config.componentGroups[0].config.btnConfig,l=n.getLogicalSpace().width,s=(t.getChildren("caption")&&t.getChildren("caption")[0]).config,c=s.width,d="l"===o.hAlign,g=a.origMarginRight,h=a.origMarginLeft,p=d?h:g;return s.align===r.q?(d?e:a.width-e)-c/2-p-l:"start"===s.align?d?-1:i-a.canvasLeft-p-c-l+s.horizontalPadding:d?i-(g+h+l+c):-1}_manageCaptionSpacing(e,t){return this.getChildren("caption")[0].manageSpace(e,t)}_manageChartMenuBar(e){var t,a,i=this,n=i.config,o=i.getChildren("chartMenuBar"),l=o&&o.getLogicalSpace(),s=(i.getChildren("caption")&&i.getChildren("caption")[0]).config,c=s.isOnTop,d=n.canvasRight,g=0,h=s.alignWithCanvas&&d?(n.canvasLeft+d)/2:n.width/2,p=o&&o.config.componentGroups.length&&o.config.componentGroups[0].config.btnConfig,u=l&&p.spaceNotHardCoded;return p&&p.spaceNotHardCoded&&(p.x=Object(r.Sa)("l"===p.hAlign?0:n.width),p.y=Object(r.Sa)("t"===p.vAlign?0:n.height)),delete s._offsetHeight,a=s.alignWithCanvas?n.canvasWidth:n.width-n.origMarginLeft-n.origMarginRight,c?(t=i._manageCaptionSpacing(e,a),u&&(g=i._fetchCaptionPos(h),s._offsetHeight=0>g?l.height:0,t.top=0>g?Object(r.Sa)(t.top,0)+l.height:bt(t.top,l.height)),i._allocateSpace(t)):(i._allocateSpace({top:u?l.height:0}),t=i._manageCaptionSpacing(e,a),i._allocateSpace(t)),{top:l?bt(l.height,t.top):t.top,bottom:t.bottom}}_manageSpace(){var e,t,a,i,n,o,r,l,s,c,d,g,h=this,p=h.getChildren("canvas")&&h.getChildren("canvas")[0],u=p&&p.config,m=h.config,b=h.getFromEnv("chartWidth"),f=h.getFromEnv("chartHeight");m.width=b,m.height=f,m.minChartHeight=s=m.minChartHeightPercent*f,m.minChartWidth=c=m.minChartWidthPercent*b,m.minCanvasWidth=e=m.minCanvasWidthPercent*c,m.minCanvasHeight=t=m.minCanvasHeightPercent*s,m.marginTop=a=m.origMarginTop,m.marginLeft=i=m.origMarginLeft,m.marginBottom=n=m.origMarginBottom,m.marginRight=o=m.origMarginRight,m.canvasMarginTop=m.origCanvasTopMargin,m.canvasMarginLeft=m.origCanvasLeftMargin,m.canvasMarginBottom=m.origCanvasBottomMargin,m.canvasMarginRight=m.origCanvasRightMargin,m.canvasHeight=r=m.height-m.marginTop-m.marginBottom,m.canvasWidth=l=m.width-m.marginLeft-m.marginRight,m.availableHeight=r-t,m.availableWidth=l-e,r<s&&(d=f-s,m.canvasHeight=s,m.marginTop=d*a/(g=a+n),m.marginBottom=d*n/g,m.availableHeight=s-t),l<c&&(d=b-c,g=o+i,m.canvasWidth=c,m.marginLeft=d*i/g,m.marginRight=d*o/g,m.availableWidth=c-e),m.canvasLeft=m.marginLeft,m.canvasTop=m.marginTop,u&&(u.canvasPaddingLeft=ft(u.origCanvasLeftPad,vt(.1*m.height)),u.canvasPaddingRight=ft(u.origCanvasRightPad,vt(.1*m.height)),u.canvasPaddingTop=ft(u.origCanvasTopPad,vt(.1*m.height)),u.canvasPaddingBottom=ft(u.origCanvasBottomPad,vt(.1*m.height))),h._spaceManager()}_preDraw(){var e=this;e._mapChildren(e=>{!e.getState("removed")&&e.preDraw&&e.preDraw()}),e._setAxisLimits&&e._setAxisLimits(),e._createToolBoxGantt&&e._createToolBoxGantt()}_clearTimers(){var e,t=this,a=t.config&&t.config.realTimeConfig,i=t.config.timers,n=i&&i.setTimeout,o=i&&i.setInterval;for(e in a&&(a.refreshIntervalFlag=!1),n)clearTimeout(n[e]);for(e in o)clearInterval(o[e])}setChartCursor(){var e=this,t=e.config.link,a=e.getFromEnv("paper").canvas.style;pt.svg?a.cursor=t?r.m:"default":e.getFromEnv("paper").canvas.style.cursor=t?r.i:"default"}_createLayers(){var e,t=this,a=t.getFromEnv("animationManager");e=t.getContainer("parentgroup")||t.addContainer("parentgroup",a.setAnimation({el:"group",attr:{name:"parentgroup"},component:t})),t.getChildContainer("backgroundGroup")||t.addChildContainer("backgroundGroup",At({name:"background"},e,t)),t.getChildContainer("axisBottomGroup")||t.addChildContainer("axisBottomGroup",At({name:"axisbottom"},e,t)),t.getChildContainer("belowPlotGroup")||t.addChildContainer("belowPlotGroup",At({name:"belowplot"},e,t)),t.getChildContainer("lowerAnnotationGroup")||t.addChildContainer("lowerAnnotationGroup",At({name:"lowerannotations"},t.getChildContainer("belowPlotGroup"),t)),t.getChildContainer("plotGroup")||t.addChildContainer("plotGroup",At({name:"plots"},e,t)),t.getChildContainer("axisTopGroup")||t.addChildContainer("axisTopGroup",At({name:"axistop"},e,t)),t.getChildContainer("sumLabelsLayer")||t.addChildContainer("sumLabelsLayer",At({name:"sumlabels",class:"fusioncharts-datalabels"},e,t)),t.getChildContainer("datalabelsGroup")||t.addChildContainer("datalabelsGroup",At({name:"datalabel"},e,t)),t.getChildContainer("abovePlotGroup")||t.addChildContainer("abovePlotGroup",At({name:"aboveplot"},e,t)),t.getChildContainer("upperAnnotationGroup")||t.addChildContainer("upperAnnotationGroup",At({name:"upperannotations"},t.getChildContainer("abovePlotGroup"),t)),t.getChildContainer("captionGroup")||t.addChildContainer("captionGroup",At({name:"caption"},e,t)),t.getChildContainer("defaultGroup")||t.addChildContainer("defaultGroup",At({name:"chartdefault"},e,t)),t.getChildContainer("defaultShadowGroup")||t.addChildContainer("defaultShadowGroup",At({name:"chartdefault-shadow"},e,t)),t.getChildContainer("trackerGroup")||t.addChildContainer("trackerGroup",At({name:"tracker"},e,t)),t.getChildContainer("buttonGroup")||t.addChildContainer("buttonGroup",a.setAnimation({el:"group",container:e,attr:{name:"buttons"},component:t})),t.getChildContainer("logoGroup")||t.addChildContainer("logoGroup",a.setAnimation({el:"group",attr:{name:"logo"},component:t}))}_setDataLabelStyle(){var e=this.config.dataLabelStyle,t={fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle};this.getChildContainer("datalabelsGroup").css(t)}_manageCaptionPosition(){let e,t,a,i,n=this,o=n.config,l=n.getChildren(),s=l.caption&&l.caption[0],c=l.subCaption&&l.subCaption[0],d=s.config,g=d.widgetValueHeight||0,h=c.config,p=o.canvasWidth,u=d.align,m=d.text,b=d.alignWithCanvas,f=d.horizontalPadding,v=o.width,x=o.canvasLeft,C=o.canvasRight,O=o.marginRight,y=o.marginLeft,S=o.marginTop,w=(vt(x)||0)+Object(r.Sa)(p,v)/2,L=d.height,F=h.height,j=l.legend&&l.legend[0]&&l.legend[0].config||{},k=j.height||0,A=j.legendPadding||0,E=o.legendposition,T=n.getFromEnv("gLegend")||{},I=0,P=n.config.borderWidth,_=l.actionBar,D=0;j.isActive||(k=0),!!(T.conf||{}).showLegend&&n.config.gLegendEnabled&&(I=T.getLogicalSpace().height),e=u===kt?b?C-f:v-f:u===jt?b?x+f:f:b?w:y+.5*(v-y-O)||v/2,d.isOnTop?t=(P||0)+(S||0):(E.toLowerCase()===wt&&(A=0,k=0,I=0),_&&((D=(i=_.getLogicalSpace()||{}).height)===r.z||D===1/0||0>D)&&(D=0),t=n.config.height-n.config.marginBottom-L-(F||0)-(P||0)-(A||0)-(k||0)-I-g-D),s.setDimention({x:e,y:t+=d._offsetHeight||0}),c.setDimention({x:e,y:a=m?t+L+2:t||S||0})}_updateVisuals(){var e,t=this,a=t.getFromEnv("core-options"),i=t.getFromEnv("paper"),n=t.getFromEnv("animationManager"),o=t.config,l=t.getFromEnv("chartWidth"),s=t.getFromEnv("chartHeight");a&&!a._SVGDefinitionURLUpdated&&(/^\s*absolute\s*$/i.test(a.SVGDefinitionURL)&&(pt._url=(pt._g&&pt._g.win||window).location.href.replace(/#.*?$/,r.b)),a._SVGDefinitionURLUpdated=!0),i?(!r.Ba&&(o._prevWidth||o._prevHeight)&&i.setSize(o._prevWidth,o._prevHeight),n.setAnimation({el:i,attr:{width:l,height:s},component:t})):((i=new pt(t.getFromEnv("chart-container"),l,s)).setHTMLClassName("fusioncharts-div"),t.addToEnv("paper",i),i.setConfig("stroke-linecap",r.w)),o._prevWidth=l,o._prevHeight=s,t.setChartCursor(),t._createLayers(),t._setDataLabelStyle(),(e=t.getChildren("chartMenuBar")?"chartMenuBar":t.getChildren("actionBar")?"actionBar":r.z)&&t.allocateDimensionOfChartMenuBar(e),t.getChildren("chartMenuBar")&&(t.getChildren("chartMenuBar").config.parentLayer=t.getContainer("parentgroup")),t._drawCreditLabel()}allocateDimensionOfChartMenuBar(e){var t=this.config,a=this.getChildren(e),i=a.getLogicalSpace(),n=a.config.toolbarConfig,o=a.config.componentGroups[0].config.btnConfig,r=o.vDirection,l=o.hDirection,s=o.y,c=o.x;n.fill=mt,n.borderColor=mt,o.spaceNotHardCoded&&("chartMenuBar"===e?(s+=o.vMargin*r+ft(0,i.height*r),c+=o.hMargin*l-bt(0,i.width*l),c="l"===o.hAlign?c+i.width:c-i.width):(s=t.height-t.marginBottom-i.height,c="b"===o.vAlign&&"r"===o.hAlign?t.width-t.marginRight-i.width:t.marginLeft)),a.setMenuBarDimension(c,s)}draw(){var e=this,t=e.getFromEnv("chartInstance");e.config.hasChartMessage?(e._hide(),e.drawChartMessage(),e.fireChartInstanceEvent("nodatatodisplay",{},[t.id]),t.jsVars.drawCount+=1,t.__state.dataReady=!1,t.jsVars.hasNativeMessage=!0):(e._hideChartMessage(),e._clearTimers&&e._clearTimers(),e.config.plotOverFlow=!1,e._show(),e._updateVisuals(),e.setState("initiated",!0),t.jsVars.drawCount+=1,t.jsVars.hasNativeMessage=!1)}manageSpace(){let e=this;e.config.hasChartMessage||(e._preDraw(),e.addToolbar&&e.addToolbar(),e._manageSpace(),e._postSpaceManagement&&e._postSpaceManagement())}_show(){this.getContainer("parentgroup")&&this.getContainer("parentgroup").show()}_manageActionBarSpace(){var e=this.config,t=this.getChildren("actionBar"),a=(t&&t.getLogicalSpace()||{}).height||0;return e.actionBarHeight=a,{bottom:a}}_hide(){this.getContainer("parentgroup")&&this.getContainer("parentgroup").hide()}static onContainerMouseMove(e){var t,a=e.data,i=a.getFromEnv("chartInstance"),n=e.originalEvent,o=Object(r.W)(a.getFromEnv("chart-container"),n,a);i.ref&&(t=Object(r.N)({height:i.args.height,width:i.args.width,pixelHeight:a.getFromEnv("chartWidth"),pixelWidth:a.getFromEnv("chartHeight"),id:i.args.id,renderer:i.args.renderer,container:i.options.containerElement},o),a.fireChartInstanceEvent("chartMouseMove",t))}static onContainerRollOver(e){var t,a=e.data,i=a.getFromEnv("chartInstance"),n=e.originalEvent,o=Object(r.W)(a.getFromEnv("chart-container"),n,a);i.ref&&(t=Object(r.N)({height:i.args.height,width:i.args.width,pixelHeight:a.getFromEnv("chartWidth"),pixelWidth:a.getFromEnv("chartHeight"),id:i.args.id,renderer:i.args.renderer,container:i.options.containerElement},o),a.fireChartInstanceEvent("chartRollOver",t))}static onContainerRollOut(e){var t,a=e.chart,i=a.getFromEnv("chartInstance"),n=e.event,o=Object(r.W)(a.getFromEnv("chart-container"),n,a);i.ref&&(t=Object(r.N)({height:i.args.height,width:i.args.width,pixelHeight:a.getFromEnv("chartWidth"),pixelWidth:a.getFromEnv("chartHeight"),id:i.args.id,renderer:i.args.renderer,container:i.options.containerElement},o),a.fireChartInstanceEvent("chartRollOut",t))}static winMouseHover(e){var t=e.originalEvent,a=t.target||t.originalTarget||t.srcElement||t.relatedTarget||t.fromElement,i=e.data,n=i.getFromEnv("paper"),o={chart:i,event:e.originalEvent};ut?!n.getById(a.parentNode.raphaelid)&&(Dt.onContainerRollOut(o),i.config.mouseStateIn=!1,Se.a.unlisten(document,"mouseover",Dt.winMouseHover)):!a.viewportElement&&(i.config.mouseStateIn=!1,Dt.onContainerRollOut(o),Se.a.unlisten(window,"mouseover",Dt.winMouseHover))}}var Bt=Dt;let Mt=(e,t)=>e<t?t:e;var Rt=class extends o.a{getType(){return"axis"}__setDefaultConfig(){super.__setDefaultConfig(),this.components={labels:[]};let e=this.config;e.setAdaptiveMin=0,e.adjustDiv=1,e.axisNameWidth=r.z,e.rotateAxisName=0,e.useEllipsesWhenOverflow=1,e.divLineColor=r.z,e.divLineAlpha=r.z,e.divLineThickness=r.z,e.divLineIsDashed=r.z,e.divLineDashLen=r.z,e.divLineDashGap=r.z,e.showAlternateGridColor=r.z,e.alternateGridColor=r.z,e.alternateGridAlpha=r.z,e.showZeroPlane=1,e.zeroPlaneAlpha=80,e.showZeroPlaneValue=1,e.showZeroPlaneOnTop=1,e.showAxisLine=r.z,e.axisLineThickness=r.z,e.axisLineAlpha=r.z,e.tickLength=0,e.trendlineToolText=r.z,e.trendlineColor="333333",e.trendlineThickness=1,e.trendlineAlpha=r.z,e.showTrendlinesOnTop=0,e.trendlinesAreDashed=0,e.trendlinesDashLen=5,e.trendlinesDashGap=2,e.isTrendZone=r.z,e.showTrendlines=1,e.showTrendlineLabels=1,e.showLabels=1,e.maxLabelHeight=r.z,e.rotateLabels=r.z,e.slantLabel=0,e.showAxisValues=1,e.showTooltip=1,e.isActive=!0,e.drawLabels=!0,e.drawOnlyCategoryLine=!1,e.drawLabelsOpposit=!1,e.drawPlotlines=!0,e.drawAxisLine=!0,e.drawPlotBands=!0,e.drawAxisName=!0,e.drawAxisNameOpposit=!1,e.axisNameAlignCanvas=!1,e.drawAxisNameFromBottom=!1,e.drawTrendLines=!0,e.drawTrendLabels=!0,e.drawTick=!0,e.drawTickMinor=!0,e.animateAxis=!0,e.drawAxisLineWRTCanvas=!0,e.isRelativeAxisInverse=!1,e.axisIndex=0,e.uniqueClassName=0,e.viewPortRatio={},e.canvas={},e.axisRange={},e.drawnStaggerLines=r.z,e.axisDimention={},e.forceZeroTick=!0,e.isZeroTickForced=!1,e.extremeLabels={firstLabel:{},lastLabel:{}},e._setRangeAgain=!1,e._defaultForceDecimal=r.z,e._defaultDecimalPrecision=r.z,e.rangeChanged=!1,e.dimensionChanged=!1,e.apparentScrollPos=0,e.visibleMin=r.z,e.visibleMax=r.z,e.setPadding=!1,e.trendLimits=r.z}configureAttributes(e){var t,a,i,n,o=Math.abs,s=this,c=s.config,d=s.getFromEnv("chart"),g=s.getFromEnv("dataSource"),h=d.config.is3D,p=g.chart,u=s.getFromEnv("number-formatter");t=c.rawAttr=e,c.referenceInfo=[],c.parsedTrendLabels=[],c.parsedVlineInfo=[],c.trendLines=t.trendlines,c.vTrendLines=t.vtrendlines,Object(r.Na)(t,c),c.axisName=Object(r.Pa)(t.axisName),c.axisValuePadding=c.axisNamePadding||Object(r.Sa)(t.axisValuePadding,4),c.axisNamePadding=c.axisNamePadding||Object(r.Sa)(t.axisNamePadding,5),c.maxLabelWidthPercent=Object(r.Sa)(t.maxLabelWidthPercent),c.maxLabelWidthPercent=o(c.maxLabelWidthPercent),c.minLabelWidthPercent=o(Object(r.Sa)(t.minLabelWidthPercent)),c.numDivLines=Object(r.Sa)(t.numDivLines,4),c.numDivLines=Mt(c.numDivLines,0),c.categoryNumDivLines=Object(r.Sa)(t.numDivLines,0),c.axisValuePadding=Mt(c.axisValuePadding,0),c.isReverse=Object(r.Sa)(t.isReverse,0),c.isOpposit=Object(r.Sa)(t.isOpposit,0),c.isVertical=Object(r.Sa)(t.isVertical,0),c.categoryDivLinesFromZero=1,c.axisMinValue=u.getCleanValue(t.axisMinValue),c.axisMaxValue=u.getCleanValue(t.axisMaxValue),c.zeroPlaneColor=Object(r.Qa)(t.zeroPlaneColor,t.divLineColor),c.zeroPlaneThickness=Object(r.Qa)(t.zeroPlaneThickness,t.divLineThickness),c.axisLineColor=Object(l.c)(t.axisLineColor,t.axisLineAlpha),c.tickAlpha=Object(r.Sa)(t.tickAlpha,c.axisLineAlpha),c.tickColor=Object(l.c)(Object(r.Qa)(t.tickColor,t.axisLineColor),c.tickAlpha),c.tickWidth=Object(r.Sa)(t.tickWidth,c.axisLineThickness),c.maxZoomLimit=Object(r.Sa)(p.maxzoomlimit,d.maxzoomlimit,1e3),c.showVLines=Object(r.Sa)(p.showvlines,1),c.showVLinesOnTop=Object(r.Sa)(p.showvlinesontop,0),c.showVLineLabels=Object(r.Sa)(p.showvlinelabels,this.showVLineLabels,1),c.showVLineLabelBorder=Object(r.Sa)(p.showvlinelabelborder,1),c.rotateVLineLabels=Object(r.Sa)(p.rotatevlinelabels,0),c.vLineColor=Object(r.Qa)(p.vlinecolor,"333333"),c.vLineLabelColor=Object(r.Qa)(p.vlinelabelcolor),c.vLineThickness=Object(r.Qa)(p.vlinethickness,1),c.vLineAlpha=Object(r.Sa)(p.vlinealpha,80),c.vLineLabelBgColor=Object(r.Qa)(p.vlinelabelbgcolor,"ffffff"),c.vLineLabelBgAlpha=Object(r.Sa)(p.vlinelabelbgalpha,h?50:100),c.staggerLines=Math.max(Object(r.Sa)(p.staggerlines,2),2),c.staggerLines=Mt(c.staggerLines,1),c.trendlineValuesOnOpp=Object(r.Qa)(t.trendlineValuesOnOpp,t.trendlineValuesOnOpp,0),c.labelDisplay=Object(r.Qa)(t.labelDisplay,"auto").toLowerCase(),c.labelStep=Object(r.Sa)(t.labelStep,1),c.labelStep=Math.round(c.labelStep),c.labelStep=Mt(c.labelStep,1),c.startPad=0,c.endPad=0,c._oriLabelStep=c.labelStep,c.showLimits=Object(r.Sa)(t.showLimits,c.showAxisValues),c.showUpperLimit=t.showLimits,c.showDivLineValues=Object(r.Sa)(t.showDivLineValues,c.showAxisValues),c.showCanvasBorder=d.getChildren("canvas")[0].config.showCanvasBorder?1:0,c.axisBreak=t.axisBreaks,c.isBreak=!!c.axisBreak,c.isBreak&&s._processAxisBreak(),a=(a=Object(r.T)(t.axisNameBorderColor,r.b))?Object(l.c)(a,Object(r.Sa)(t.axisNameBorderAlpha,t.axisNameAlpha,100)):r.b,c.name=c.name||{},c.name.style={fontFamily:Object(r.Qa)(t.axisNameFont,t.outCanfontFamily),fontSize:Object(r.Qa)(t.axisNameFontSize,Object(r.Ma)(t.outCanfontSize))+r.v,color:Object(l.c)(Object(r.Qa)(t.axisNameFontColor,t.outCancolor),Object(r.Sa)(t.axisNameFontAlpha,t.axisNameAlpha,100)),fontWeight:Object(r.Sa)(t.axisNameFontBold,1)?"bold":r.k,fontStyle:Object(r.Sa)(t.axisNameFontItalic)?"italic":r.k,border:a||t.axisNameBgColor?Object(r.Sa)(t.axisNameBorderThickness,1)+"px solid":r.z,borderColor:a,borderThickness:Object(r.Sa)(t.axisNameBorderThickness,1),borderPadding:Object(r.Sa)(t.axisNameBorderPadding,2),borderRadius:Object(r.Sa)(t.axisNameBorderRadius,0),backgroundColor:t.axisNameBgColor?Object(l.c)(t.axisNameBgColor,Object(r.Sa)(t.axisNameBgAlpha,t.axisNameAlpha,100)):r.b,borderDash:Object(r.Sa)(t.axisNameBorderDashed,0)?Object(r.S)(Object(r.Sa)(t.axisNameBorderDashLen,4),Object(r.Sa)(t.axisNameBorderDashGap,2)):r.h},c.name.style.lineHeight=Object(r.ab)(c.name.style),i=(i=Object(r.T)(p.trendvaluebordercolor,r.b))?Object(l.c)(i,Object(r.Sa)(p.trendvalueborderalpha,p.trendvaluealpha,100)):r.b,c.trend=c.trend||{},c.trend.trendStyle={fontFamily:Object(r.Qa)(p.trendvaluefont,t.outCanfontFamily),color:Object(r.Qa)(p.trendvaluefontcolor,t.trendlineColor,t.outCancolor,"333333"),fontSize:Object(r.Ra)(p.trendvaluefontsize,Object(r.Ma)(t.outCanfontSize))+r.v,fontWeight:Object(r.Sa)(p.trendvaluefontbold)?"bold":r.k,fontStyle:Object(r.Sa)(p.trendvaluefontitalic)?"italic":r.k,border:i||p.trendvaluebgcolor?Object(r.Sa)(p.trendvalueborderthickness,1)+"px solid":"",borderColor:i,borderThickness:Object(r.Sa)(p.trendvalueborderthickness,1),borderPadding:Object(r.Sa)(p.trendvalueborderpadding,2),borderRadius:Object(r.Sa)(p.trendvalueborderradius,0),backgroundColor:p.trendvaluebgcolor?Object(l.c)(p.trendvaluebgcolor,Object(r.Sa)(p.trendvaluebgalpha,p.trendvaluealpha,100)):r.b,borderDash:Object(r.Sa)(p.trendvalueborderdashed,0)?Object(r.S)(Object(r.Sa)(p.trendvalueborderdashlen,4),Object(r.Sa)(p.trendvalueborderdashgap,2)):r.h},c.trend.trendStyle.lineHeight=Object(r.ab)(c.trend.trendStyle),c.labels=c.labels||{},c.lines=c.lines||{},c.band=c.band||{},n=(n=Object(r.T)(p.labelbordercolor,r.b))?Object(l.c)(n,Object(r.Sa)(p.labelborderalpha,p.labelalpha,100)):r.b,c.labels.style={fontFamily:Object(r.Qa)(t.labelFont,t.outCanfontFamily),fontSize:Object(r.Sa)(t.labelFontSize,Object(r.Ma)(t.outCanfontSize))+r.v,fontWeight:Object(r.Sa)(t.labelFontBold)?"bold":r.k,fontStyle:Object(r.Sa)(t.labelFontItalic)?"italic":r.k,color:Object(l.c)(Object(r.Qa)(t.labelFontColor,t.outCancolor),Object(r.Sa)(t.labelFontAlpha,100)),labelLink:p.labellink,border:n||p.labelbgcolor?Object(r.Sa)(p.labelborderthickness,1)+"px solid":"",borderColor:n,borderThickness:Object(r.Sa)(p.labelborderthickness,1),borderPadding:Object(r.Sa)(p.labelborderpadding,2),borderRadius:Object(r.Sa)(p.labelborderradius,0),backgroundColor:p.labelbgcolor?Object(l.c)(p.labelbgcolor,Object(r.Sa)(p.labelbgalpha,p.labelalpha,100)):r.b,borderDash:Object(r.Sa)(p.labelborderdashed,0)?Object(r.S)(Object(r.Sa)(p.labelborderdashlen,4),Object(r.Sa)(p.labelborderdashgap,2)):r.h},c.labels.style.lineHeight=Object(r.ab)(c.labels.style),c.numberFormatterFn=Object(r.Qa)(t.numberFormatterFn),c.apparentScrollPos=t.apparentScrollPos||c.apparentScrollPos,c.axisRange={},c.dataLimit={},c.axisEndLabelDisplaySpace={left:0,right:0,top:0,bottom:0},c.isConfigured=!0,c._defaultForceDecimal=r.z,c._defaultDecimalPrecision=r.z,c.lines.isDraw=Object(r.Sa)(t.lines&&t.lines.isDraw,1),c.band.isDraw=Object(r.Sa)(t.band&&t.band.isDraw,1)}createContainer(e,t,a){let i=this.getFromEnv("animationManager");return this.addContainer(e,i.setAnimation({container:a,attr:t,el:this.getContainer(e)||"group",component:this,label:"group"}))}createGroup(e,t,a,i="group"){return this.getFromEnv("animationManager").setAnimation({container:a,attr:t,el:this.config[e]||"group",component:this,label:i})}getValuePadding(){var e=this.config;return{left:e.startPad,right:e.endPad}}draw(){var e,t,a,i,n=this,o=n.config,r=n.getFromEnv("chart"),l=o.isVertical,s=r.config.viewPortConfig,c=n.getChildren().limitUpdater,d=o.viewPortRatio||{};n._createContainer(),a=s.y*s.scaleY,i=s.x*s.scaleX,d.scaleX&&d.scaleY&&(d.scaleX!==s.scaleX||d.scaleY!==s.scaleY)?(d.scaleX=s.scaleX,d.scaleY=s.scaleY,n._drawComponents()):(l?(o.axisContainer.transform("t0,"+(t=a-s.y*s.scaleY)),o.axisLabelContainerTop.transform("t0,"+t)):(o.axisContainer.transform("t"+(e=i-s.x*s.scaleX)+",0"),o.axisLabelContainerTop.transform("t"+e+",0")),n._drawComponents()),n.addExtEventListener("internal.animationComplete",function(){c&&c.forEach(e=>{e.draw()})},n.getFromEnv("chartInstance")),n.addToEnv("prevScale",n.getScale().copy())}setScale(e){this.config.scale=e}getScale(){return this.config.scale}getLimit(){let e=this.config.axisRange;return{min:e.min,max:e.max,tickInterval:e.tickInterval}}getVisibleConfig(){let e=this.config;return{minValue:e.visibleMin,maxValue:e.visibleMax}}setAxisConfig(e){var t,a=this.config;for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t])}getAxisConfig(e){var t=this.config;return e?t[e]:t}getVisibleLength(){var e=this.getVisibleConfig();return Math.abs(e.maxValue-e.minValue)}getAxisEndLabelDisplaySpace(){return this.config.axisEndLabelDisplaySpace||{}}getTicksLen(){let e=this.config.tickValues;return e&&e.tickValue.length||0}};const Vt=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis"}],Gt=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],Nt={"text.appearing":Gt,"path.appearing":Gt,"rect.appearing":Gt},zt={"text.appearing":Vt,"path.appearing":Vt,"rect.appearing":Vt,"scroller.appearing":Vt};var Wt={"initial.axis.numeric":zt,"initial.axis.category":zt,"initial.axis.log":zt,"update.axis.numeric":Nt,"update.axis.category":Nt,"update.axis.log":Nt},Ht=function(e,t){let a=(t=+t)-(e=+e);return t=>a*t+e},Qt=(e,t)=>e.filter(e=>0>t.indexOf(e)),Yt=a("y4jF"),Kt=a.n(Yt),Xt=a("RtCu"),Zt=a.n(Xt);let Ut={wrtVisible:!0},$t=function(e,t){var a,i,n,o,l,s,c,d={labelfont:["fontFamily"],labelfontcolor:["fontColor"],labelfontsize:["fontSize",function(e){return e?Object(r.Sa)(e)+"px":r.z}],labelfontbold:["fontWeight",function(e){return e?"bold":"normal"}],labelfontitalic:["fontStyle",function(e){return e?"italic":"normal"}],labelfontalpha:["fontAlpha"]},g=t.getFromEnv("dataSource").categories,h=g&&g[0]||{},p=function(e){return e},u=!1,m={};for(a in h)"category"===a||a in e||(e[a]=i=h[a]);for(a in d)l=(o=d[a])[0],s=o[1]||p,i=e[a],n=e[l.toLowerCase()],(i!==r.z||n!==r.z)&&((c=s(i))!==r.z||(c=s(n))!==r.z)&&(m[l]=c,u=!0),u&&(e.style=m)},qt="crisp",Jt="butt",ea="eventArgs",ta="_trend",aa="_tick",ia="_label",na=function(e,t){var a,i,n=Math.round,o=!1,r=t%2;return e[1]===e[4]&&(i=n(a=e[1]),e[1]=e[4]=r?i>a?i-.5:i+.5:i,o=!0),e[2]===e[5]&&(i=n(a=e[2]),e[2]=e[5]=r?i>a?i-.5:i+.5:i,o=!0),{path:e,isCrisped:o}},oa=e=>(t,a)=>!!(e.minValue<=t&&e.maxValue>=t||e.minValue<=a&&e.maxValue>=a),ra=e=>t=>!!(e.minValue<=t&&e.maxValue>=t),la={wrtVisible:!0},sa=function(e){for(var t=0,a=e.length;t<a;t++)if(e[t].label||e[t].oriLabel)return t};Object(s.a)({name:"cartesianAxisAnimation",type:"animationRule",extension:Wt});class ca extends Rt{constructor(){super(),this.config.referenceInfo=[],this.config.prevTicks=[],this.config.prevIntervalArr=[],this.config.prevTrendLabels=[],this.config.prevCategoryIntervalArr=[]}placeAxis(e){var t,a=this,i=a.getScale(),n=a.getFromEnv("chart"),o=a.getLinkedItem("scrollBar"),r=a.config.isVertical,l=a.config.isOpposit,s=a.config.isReverse,c=n.config,d={};return o&&(t=o.getLogicalSpace())&&(r?(n.config.shift=t.width+o.config.conf.padding,d[l?"right":"left"]=n.config.shift):(n.config.shift=t.height+o.config.conf.padding,d[l?"top":"bottom"]=n.config.shift),n._allocateSpace(d)),r?(i.setRange(s?[c.canvasBottom,c.canvasTop]:[c.canvasTop,c.canvasBottom]),a._placeVerticalAxis(e)):(i.setRange(s?[c.canvasRight,c.canvasLeft]:[c.canvasLeft,c.canvasRight]),a._placeHorizontalAxis(e))}_placeVerticalAxis(e){var t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f,v,x,C=Math.min,O=Math.max,y=this,S=y.config,w=y.getFromEnv("chart"),L=w.config,F=w.getFromEnv("smartLabel"),j=S.axisRange,k=S.minLabelWidthPercent,A=S.name,E=S.isOpposit,T=y.getFromEnv("number-formatter"),I=L.canvasHeight,P=S.labelPadding=Object(r.Sa)(S.rawAttr.axisValuePadding,4),_=Object(r.Sa)(S.rawAttr.axisNamePadding,5),D=S.useEllipsesWhenOverflow,B=S.name.style,M=S.trend.trendStyle,R=S.axisName,V=S.trendLines,G=S.drawLabelsOpposit,N=S.drawAxisNameOpposit,z=0,W=0,H=0,Q=0,Y=0,K=0,X={left:0,right:0},Z="",U="",$=0,q=-1;if(k&&(q=k/100*L.width),S.oriCanvasHeight=I,0>P&&(S.labelPadding=2),f=S.drawTick&&S.tickLength?S.axisLineThickness+S.tickLength:S.axisLineThickness,S.showAxisLine?(S.labelPadding=Object(r.Sa)(P,2)+f,0>S.labelPadding&&(S.labelPadding=(0>S.axisLineThickness?0:f)+2),e-=S.axisLineThickness):(S.labelPadding=Object(r.Sa)(P,2),0>S.labelPadding&&(S.labelPadding=2)),d=j.max,g=j.min,S.name.rotation=0,S.labels.step=S.labelStep,S.labels.isDraw=1,S.labels.drawNormalVal=S.showDivLineValues,S.labels.drawLimitVal=S.showLimits,$=+($=B.lineHeight).replace(/px/i,""),R&&$<e&&(e-=$),1!==S.showLimits&&1!==S.showDivLineValues&&(S.labels.isDraw=0),((p=S.drawLabels?y._getVMaxLabelDimention(e-S.labelPadding):{width:0,height:0}).width+S.labelPadding>e&&!S.tickValues||0===p.width)&&(S.labels.isDraw=0),S.labels.isDraw&&(S.labelMaxW=p.width>q?p.width:q,S.labelMaxH=p.height,H=z=S.labelMaxW+S.labelPadding),S.drawTrendLines&&S.drawTrendLabels&&V&&V.length){for(n=S.isPercent?T.percentValue:S.isVertical?T.yAxis:T.xAxis,F.useEllipsesOnOverflow(L.useEllipsesWhenOverflow),F.setStyle({fontSize:M.fontSize,fontFamily:M.fontFamily,lineHeight:M.lineHeight,fontWeight:M.fontWeight}),t=0,a=V.length;t<a;t+=1)for(c=0,u=V[t].line&&V[t].line.length;c<u;c+=1)m=V[t].line[c],v=T.getCleanValue(Object(r.Qa)(m.startvalue,m.value,0)),x=Object(r.Sa)(m.endvalue,v),v<=d&&v>=g&&x<=d&&x>=g&&(S.isOpposit&&(m.valueonright=1),s=1===(b=Object(r.Sa)(m.valueonright,0))?m.endvalue||m.startvalue:m.startvalue||m.endvalue,(h=Object(r.Pa)(m.origText||m.displayvalue||s||""))===s&&(h=""+n.call(T,h)),b?h.length>U.length&&(U=h):h.length>Z.length&&(Z=h));for(K=(p=F.getOriSize(U)).width+S.labelPadding,Y=(p=F.getOriSize(Z)).width+S.labelPadding,E?(K>H&&K>e&&(K=e),Y>e-(H=O(H,K+S.labelPadding))&&(Y=C(Y,e-H))):(Y>H&&Y>e&&(Y=e),K>e-(H=O(H,Y+S.labelPadding))&&(K=C(K,e-H))),t=0,a=V.length;t<a;t+=1)for(c=0,u=V[t].line&&V[t].line.length;c<u;c+=1)m=V[t].line[c],v=T.getCleanValue(Object(r.Qa)(m.startvalue,m.value,0)),x=Object(r.Sa)(m.endvalue,v),h=1==+m.valueonright?m.origText||m.displayvalue||""+x||"":m.origText||m.displayvalue||""+v||"",((h=Object(r.Pa)(""+h))===m.endvalue||h===m.startvalue)&&(h=""+n.call(T,h)),m.origText=h,b=Object(r.Sa)(m.valueonright,0),l=F.getSmartText(h,b?K:H,w.canvasHeight,D),(i=S.parsedTrendLabels[W++])&&(i.attr.text=m.displayvalue=l.text,S.isOpposit&&(i.valueOnRight=1,i.attr["text-anchor"]=r.s)),l.tooltext?(m.valueToolText=l.tooltext,i&&(i.valueToolText=m.valueToolText)):(delete m.valueToolText,i&&delete i.valueToolText)}return e+=$,!S.drawAxisName||0>=e-H-K||""===R?(A.isDraw=!1,A.value=""):(F.setStyle({fontSize:B.fontSize,fontFamily:B.fontFamily,lineHeight:B.lineHeight,fontWeight:B.fontWeight}),A.isDraw=!0,S.rotateAxisName?(S.name.rotation=E?90:270,o=F.getSmartText(R,I,e-H-K),A.value=R,S.nameMaxW=C(o.height),Q=S.nameMaxW+_):(o=F.getSmartText(R,e-H-K,I),A.value=R,S.nameMaxW=C(o.width,e-H),S.nameMaxH=o.height,0<=S.axisNameWidth&&(S.nameMaxW=C(S.nameMaxW,S.axisNameWidth)),Q=S.nameMaxW+_)),E?(G?(X.left+=O(z,Y),X.right+=K):(X.left+=Y,X.right+=O(z,K)),N?(S.axisNamePadding=X.left+_,X.left+=Q):(S.axisNamePadding=X.right+_,X.right+=Q)):(G?(X.left+=Y,X.right+=O(z,K)):(X.left+=O(z,Y),X.right+=K),N?(S.axisNamePadding=X.right+_,X.right+=Q):(S.axisNamePadding=X.left+_,X.left+=Q)),A.isDraw&&S.axisNamePadding+S.nameMaxW>e&&(S.axisNamePadding=e-S.nameMaxW,Q=S.nameMaxW+S.axisNamePadding-H),X}_placeHorizontalAxis(e){var t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f,v,x,C=this,O=C.config,y=C.getFromEnv("chart"),S=y.config,w=y.getFromEnv("smartLabel"),L=O.axisRange,F=O.name,j=O.isOpposit,k=y.getFromEnv("number-formatter"),A=O.drawLabelsOpposit,E=O.drawAxisNameOpposit,T=0,I=S.canvasWidth,P=O.labelPadding=Object(r.Sa)(O.rawAttr.axisValuePadding,4),_=Object(r.Sa)(O.rawAttr.axisNamePadding,5),D=O.useEllipsesWhenOverflow,B=O.name.style,M=O.trend.trendStyle,R=O.axisName,V=O.vTrendLines,G=0,N=0,z=0,W={top:0,bottom:0},H=0,Q=0;if(0>P&&(O.labelPadding=2),f=O.drawTick&&O.tickLength?O.axisLineThickness+O.tickLength:O.axisLineThickness,O.showAxisLine?(O.labelPadding=Object(r.Sa)(P,2)+f,0>O.labelPadding&&(O.labelPadding=(0>O.axisLineThickness?0:f)+2),e-=O.axisLineThickness):(O.labelPadding=Object(r.Sa)(P,2),0>O.labelPadding&&(O.labelPadding=2)),s=L.max,c=L.min,O.labels.rotation=0,O.labels.step=O.labelStep,O.labels.isDraw=1,O.labels.drawNormalVal=O.showDivLineValues,O.labels.drawLimitVal=O.showLimits,Q=+(Q=B.lineHeight).replace(/px/i,""),R&&Q<e&&(e-=Q),O.rotateLabels&&"stagger"!==O.labelDisplay&&"none"!==O.labelDisplay&&(O.labelDisplay="rotate"),1!==O.showLimits&&1!==O.showDivLineValues&&(O.labels.isDraw=0),m=O.drawLabels?C._getHMaxLabelDimention(e-O.labelPadding):{width:0,height:0},O.labels.rotation?m.width+O.labelPadding>e&&!O.tickValues&&(O.labels.isDraw=0):m.height+O.labelPadding>e&&!O.tickValues&&(O.labels.isDraw=0),O.labels.isDraw&&(O.labels.rotation?(O.labelMaxW=m.height,O.labelMaxH=m.width,T=m.width+O.labelPadding):(O.labelMaxW=m.width,O.labelMaxH=m.height,T=m.height+O.labelPadding),G=T),h=(G=Math.max(G,O.labelPadding))<=e?e-G:e,O.drawTrendLines&&O.drawTrendLabels&&V&&O.isActive)for(b=O.isPercent?C.getFromEnv("number-formatter").percentValue:O.isVertical?C.getFromEnv("number-formatter").yAxis:C.getFromEnv("number-formatter").xAxis,w.useEllipsesOnOverflow(S.useEllipsesWhenOverflow),w.setStyle({fontSize:M.fontSize,fontFamily:M.fontFamily,lineHeight:M.lineHeight,fontWeight:M.fontWeight}),a=0,i=V.length;a<i;a+=1)for(l=0,g=V[a].line&&V[a].line.length;l<g;l+=1)p=V[a].line[l],v=k.getCleanValue(Object(r.Qa)(p.startvalue,p.value,0)),x=Object(r.Sa)(p.endvalue,v),v<=s&&v>=c&&x<=s&&x>=c&&(t=1===Object(r.Sa)(p.valueonright,0)?p.endvalue||p.startvalue:p.startvalue||p.endvalue,(d=Object(r.Pa)(p.origText||p.displayvalue||t||""))===t&&(d=""+b.call(y.getFromEnv("number-formatter"),d)),p.origText=d,0>h-((u=w.getSmartText(d,y.canvasWidth,M.lineHeight,D)).height+2)?p.displayvalue="":((n=O.parsedTrendLabels[N++])&&(n.attr.text=p.displayvalue=u.text),H=H<u.height?u.height:H),u.tooltext?(p.valueToolText=u.tooltext,n&&(n.valueToolText=p.valueToolText)):(delete p.valueToolText,n&&delete n.valueToolText));return h-=H,G+=H,h+=Q,e+=Q,!O.drawAxisName||0>=h||""===R?(F.isDraw=!1,F.value=""):(w.setStyle({fontSize:B.fontSize,fontFamily:B.fontFamily,lineHeight:B.lineHeight,fontWeight:B.fontWeight}),F.isDraw=!0,o=w.getSmartText(R,I,h),F.value=R,O.nameMaxW=I,O.nameMaxH=o.height,z=o.height+_,O.axisNamePadding=_+G,O.axisNamePadding+o.height>e&&(O.axisNamePadding=e-o.height,z=o.height+O.axisNamePadding-G)),j?(A?W.bottom+=T+H:(W.top+=T,W.bottom+=H),O.trendBottomPadding=W.bottom-H+2,E?W.bottom+=z:W.top+=z):(A?(W.top+=T,W.bottom+=H):W.bottom+=T+H,O.trendBottomPadding=W.bottom-H+2,E?W.top+=z:W.bottom+=z),W}_parseCategoryPlotLine(){var e,t,a,i=this,n=i.config,o=n.axisRange,s=n.tickValues.tickValue,c=Object(l.c)(n.divLineColor,n.divLineAlpha),d=n.divLineThickness,g=n.divLineIsDashed?Object(r.S)(n.divLineDashLen,n.divLineDashGap,d):r.h,h=ra(i.getVisibleConfig()),p=n._allTicks,u=p.length;if(e={stroke:c,"stroke-width":d,"stroke-dasharray":g},(!s[0]||s[0].x===r.z&&s[0].y===r.z)&&n.lines.isDraw&&n.categoryNumDivLines)for(t=0;t<u;++t)h(a=p[t])&&a!==o.min&&a!==o.max&&i.setReferenceInfo({from:a,type:"line",layer:1,attr:e})}_drawComponents(){var e=this,t=e.config;t.drawAxisName&&e._drawAxisName(),t.drawAxisLine&&e._drawAxisLine(),t.tickValues?t.drawLabels&&e._drawCategory():t.drawLabels&&e._drawLabel(),t.drawTrendLines&&e.drawTrendLabel(),e._drawScrollBar()}drawTrendLabel(){let e,t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f=this,v=f.config,x=v.parsedTrendLabels,C=f.getFromEnv("animationManager"),O=this.getFromEnv("toolTipController"),y=v.axisTrendLabelContainer,S=v.isOpposit,w=v.labelPadding,L=v.vTrendLines,F=v.trendLines,j=v.axisDimention,k=f.getVisibleConfig(),A=k.minValue,E=k.maxValue,T=!0;for(m=0,b=x.length;m<b;m++)x[m].id=m+ta;for(L?i=S?j.opposite-(v.trendBottomPadding||0):j.y+(v.trendBottomPadding||0):(i=S?j.opposite+(w||0):j.x-(w||0),n=S?j.x+(w||0):j.opposite+(w||0)),m=0,b=(p=Kt()((e,t)=>e.attr.text===t.attr.text,v.prevTrendLabels,x)).length;m<b;m++)(h=f.getGraphicalElement(p[m].id))&&f.removeGraphicalElement(h);if(v.prevTrendLabels=Object(r.N)([],x),v.drawTrendLabels)for(m=0,b=x.length;m<b;m++)t=x[m],a=f.getGraphicalElement(m+ta),l=+t.from,c=+t.to,T=!0,(u=!isNaN(c))?(A>(s=l+(c-l)/2)||E<s)&&(T=!1):(A>l||E<l)&&(T=!1),T?(L?(d=f.getPixel(l,la),g=c?f.getPixel(c,la):0,o=Object(r.Sa)(t.isTrendZone,v.isTrendZone,1),u&&c!=l&&o?(t.attr.x=d+(g-d)/2,t.attr.y=i):(t.attr.x=c?g:d,t.attr.y=i)):F&&(d=f.getPixel(l,la),g=c?f.getPixel(c,la):0,e=Object(r.Sa)(t.valueOnRight,0),o=Object(r.Sa)(t.isTrendZone,v.isTrendZone,0),u&&c!=l&&o?(t.attr.x=e?n:i,t.attr.y=d+(g-d)/2):(t.attr.x=e?n:i,t.attr.y=c&&e?g:d)),a=f.addGraphicalElement(m+ta,C.setAnimation({container:y,el:a||"text",attr:t.attr,css:t.css,data:{value:s||l},component:f,label:"text"})),v.showTooltip&&t.valueToolText?O.enableToolTip(a,t.valueToolText):O.disableToolTip(a)):a&&f.removeGraphicalElement(a);else for(m=0,b=x.length;m<b;m++)(h=f.getGraphicalElement(x[m].id))&&f.removeGraphicalElement(h)}_drawAxisName(){var e,t,a,i,n,o,l=Math.max,s=this,c=s.config,d=this.getFromEnv("toolTipController"),g=s.getLinkedItem("canvas").getEffectiveDimensions(),h=s.getFromEnv("animationManager"),p=g.left,u=g.top,m=g.width,b=g.height,f=u+b,v=s.getFromEnv("chart").config,x=c.name.style,C=c.name.value,O=c.isOpposit,y=c.isVertical,S=s.getFromEnv("smartLabel"),w=c.axisNameContainer,L=c.axisNamePadding,F=c.nameMaxH,j=c.nameMaxW,k=c.axisDimention,A=y?k.x:k.y,E=k.opposite,T=s.getGraphicalElement("axisName"),I=Object(r.Sa)(c.name.rotation,y?90:270),P=s.getFromEnv("paper"),_={fontFamily:x.fontFamily,fontSize:x.fontSize,lineHeight:x.lineHeight,fontWeight:x.fontWeight,fontStyle:x.fontStyle};c.name.isDraw?(e={fontFamily:x.fontFamily,fill:x.color,"vertical-align":"middle","font-size":x.fontSize,"line-height":x.lineHeight},S.useEllipsesOnOverflow(v.useEllipsesWhenOverflow),S.setStyle({fontSize:x.fontSize,fontFamily:x.fontFamily,lineHeight:x.lineHeight,fontWeight:x.fontWeight}),c.drawAxisNameOpposit&&(O=!O,A=E),y?(L=l(L,function(e,t){var a=Math.max;let i=0;return e.relativeAxis&&e.relativeAxis.config&&e.relativeAxis.config.axisNamePadding&&(i=a(e.relativeAxis.config.axisNamePadding,i)),e.isOpposit&&t.canvasMarginRight&&(i=a(i,t.canvasMarginRight-t.marginLeft-e.nameMaxW)),!e.isOpposit&&t.canvasMarginLeft&&(i=a(i,t.canvasMarginLeft-t.marginRight-e.nameMaxW)),i}(c,v)),i=c.axisNameAlignCanvas||v.captionalignment&&"left"===v.captionalignment?b:l(b,c.oriCanvasHeight||0),I?(a=(t=S.getSmartText(C,i,j)).tooltext,n=t.width):(a=(t=S.getSmartText(C,j,i)).tooltext,n=t.height),o=c.drawAxisNameFromBottom?f-n/2:n>b?v.height/2:u+b/2,e.text=t.text,e.x=O?(A||p+m)+L+j/2:(A||p)-L-j/2,e.y=o):(a=(t=S.getSmartText(C,m,F)).tooltext,O&&v.canvasMarginTop&&(L=l(L,v.canvasMarginTop-v.marginTop-F)),!O&&v.canvasMarginBottom&&(L=l(L,v.canvasMarginBottom-v.marginBottom-F)),e.text=t.text,e.x=p+m/2,e.y=O?(A||u)-L-F/2:(A||f)+L+F/2),e["text-bound"]=""===t.text?[]:[x.backgroundColor,x.borderColor,x.borderColor?x.borderThickness:0,x.borderPadding,x.borderRadius,x.borderDash],e.transform=P.getSuggestiveRotation(y?I:0,e.x,e.y),T=s.addGraphicalElement("axisName",h.setAnimation({css:_,el:T||"text",attr:e,container:w,component:s,label:"text"})),c.showTooltip?d.enableToolTip(T,a):d.disableToolTip(T)):T&&s.removeGraphicalElement(T)}_drawAxisLine(){const e="axisLine";var t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f,v,x,C=this,O=C.config,y=O.isVertical,S=O.isOpposit,w=C.getFromEnv("chart"),L=C.getLinkedItem("canvas").getEffectiveDimensions(),F=C.getFromEnv("animationManager"),j=L.top,k=L.left,A=j+L.height,E=k+L.width,T=O.axisDimention,I=y?T.x:T.y,P=O.drawAxisLineWRTCanvas,_=w.getFromEnv("dataSource").chart,D=O.axisAxisLineContainerBottom,B=C.getGraphicalElement("axisLine"),M=[];if(n=1===Object(r.Sa)(_.showyaxisline,_.showyaxisline)?Object(r.Sa)(_.yaxislinethickness,_.pyaxislinethickness,1):0,O.showAxisLine){if(y?(o=S?(I=P?E:I)+O.axisLineThickness/2:(I=P?k:I)-O.axisLineThickness/2,i=(f=na(["M",o,A,"L",o,j],O.axisLineThickness)).path):(o=S?(I=P?j:I)-O.axisLineThickness/2:(I=P?A:I)+O.axisLineThickness/2,i=(f=na(["M",k-n,o,"L",E,o],O.axisLineThickness)).path),c={path:i,stroke:O.axisLineColor,"stroke-linecap":Jt,"stroke-width":O.axisLineThickness,"shape-rendering":f.isCrisped?qt:r.z},O.drawTick&&O.tickLength)for(t={stroke:O.tickColor,"stroke-width":O.tickWidth},l=y?S?o+O.tickLength:o-O.tickLength:S?o-O.tickLength:o+O.tickLength,b=0,x=(v=O.tickValues?O.tickValues.tickValue.map(e=>y?e.y:e.x):O.ticks).length;b<x;b+=1)g=C.getGraphicalElement(u=`${p=v[b]}${aa}`),s=C.getPixel(p,la),t.path=na(y?["M",o,s,"L",l,s]:["M",s,o,"L",s,l],O.tickWidth).path,d=F.setAnimation({el:g||"path",attr:t,data:{value:p,path:t.path},container:D,component:C,label:"path"}),g||C.addGraphicalElement(u,d),M.push(u);a=F.setAnimation({el:B||"path",attr:c,container:D,component:C,label:"path"}),B||C.addGraphicalElement(e,a),M.push(e)}for(b=0,x=(m=Qt(O.prevTicks,M)).length;b<x;b++)(h=C.getGraphicalElement(m[b]))&&C.removeGraphicalElement(h);O.prevTicks=M}_parseCategory(){var e,t,a,i,n,o,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L,F,j,k,A,E,T=Math.abs,I=this,P=I.config,_=P.axisDimention||{},D=I.getFromEnv("chart"),B=D.getFromEnv("smartLabel"),M=I.components,R=M.labels,V=I.getLinkedItem("canvas").getEffectiveDimensions(),G=D.config,N=P.isOpposit,z=P.labels,W=z.style,H=P.isVertical,Q=V.top,Y=V.left,K=Q+V.height,X=Y+V.width,Z=P.labelPadding,U=H?_.x:_.y,$=_.opposite,q=D.getFromEnv("dataSource").categories,J={},ee=P.tickValues.tickValue,te=P.axisRange.min,ae=P.drawnStaggerLines,ie=(P.labelStep!==P.labels.step||1!==I.getZoom())&&"stagger"===P.labelDisplay;if(P.labels.isDraw)for(H&&(F=T(I.getPixel(0,la)-I.getPixel(0+P.axisRange.tickInterval,la)),P.labelMaxH>F&&(y=Math.ceil(P.labelMaxH/F)),y>P.labels.step&&(P.labels.step=y)),ie&&(L=2*T(I.getPixel(te,la)-I.getPixel(te+P.labels.step,la))*P.sWidthAdjstFactor-1),k=(i=P.labels.rotation)?P.labelMaxH:P.labelMaxW,A=i?P.labelMaxW:P.labelMaxH,P.drawLabelsOpposit&&(N=!N,U=$),q&&q[0]&&"auto"!==P.xAxisLabelMode&&(J.fontFamily=q[0].font,J.fontSize=q[0].fontsize,J.color=q[0].fontcolor),P.ParentCss=u={fontFamily:Object(r.Qa)(J.fontFamily,W.fontFamily),fontSize:Object(r.Qa)(J.fontSize,W.fontSize),fontWeight:Object(r.Qa)(W.fontWeight),fontStyle:Object(r.Qa)(W.fontStyle)},u.lineHeight=Object(r.ab)(u),C=I._getCategoryArr(),M.labelIndexArr=[],e=0,O=C.length;e<O;e+=1)t=ee[E=C[e].index],v=C[e].value,M.labelIndexArr.push(E),d=Object(r.Qa)(t.font,t.labelfont),g=Object(r.Qa)(t.fontsize,t.labelfontsize),h=Object(r.Qa)(t.fontbold,t.labelfontbold)?Object(r.Sa)(t.fontbold,t.labelfontbold,0)?"bold":r.k:r.z,p=Object(r.Qa)(t.fontitalic,t.labelfontitalic)?Object(r.Sa)(t.fontitalic,t.labelfontitalic,0)?"italic":r.k:r.z,b=Object(l.c)(Object(r.Qa)(t.fontcolor,t.labelfontcolor,J.color,W.color),Object(r.Sa)(t.labelalpha,P.rawAttr.labelFontAlpha,D.config.singleseries?r.z:t.alpha,100)),d||g||h||p?(c={},d&&(c.fontFamily=d),g&&(c.fontSize=g),h&&(c.fontWeight=h),p&&(c.fontStyle=p),c.lineHeight=g?Object(r.ab)(c):u.lineHeight):c=r.z,(c||u)&&-1!==(o=(c||u).lineHeight).indexOf("px")&&(n=o.replace(/px/i,""),n=parseFloat(n)),!1===t.appliedSmartLabel&&(B.setStyle(t._ovrStyle||u),j=B.getSmartText(t.oriLabel||t.label,k,A),t.oriLabel=t.oriLabel||t.label,t.label=j.text,t.labelTooltext=j.labelTooltext,t.appliedSmartLabel=!0),f=I.getPixel(v,la),H?(a=t.label||"",s=+t.labelPadding||0,m={fill:b,"line-height":n,opacity:1,"text-anchor":N?r.s:r.o,text:a,cursor:!G.singleseries&&t.link||t.labellink||W.labelLink?r.m:"",x:N?(U||X)+Z:(U||Y)-Z,y:s?f+s:f}):(a=t.label||"",s=+t.labelPadding||0,m={fill:b,"line-height":n,opacity:1,text:a,cursor:!G.singleseries&&t.link||t.labellink||W.labelLink?r.m:"",x:f,y:N?(Q||U)-Z:(U||K)+Z},i?(m["text-anchor"]=N?r.s:r.o,m["vertical-align"]="middle"):(m["text-anchor"]=r.q,m["vertical-align"]=N?r.n:r.t),ie?((S=t.labelCount%ae)&&(!(n=t.style.lineHeight)&&(n=P.labels.style.lineHeight),w=n.replace(/px/i,"")*S,m.y=N?m.y-w:m.y+w),B.setStyle(t._ovrStyle||u),j=B.getSmartText(t.oriLabel||t.label,L,A),t.oriLabel=t.oriLabel||t.label,m.text=t.label=j.text,t.labelTooltext=j.labelTooltext,t.appliedSmartLabel=!0):s&&(N?m.y-=s:m.y+=s)),x={label:t.label,lineHeight:o,border:Object(r.Sa)(t.borderthickness,t.labelborderthickness)?Object(r.Sa)(t.borderthickness,t.labelborderthickness,1)+"px solid":"",borderColor:t.bordercolor||t.labelbordercolor?Object(l.c)(t.bordercolor||t.labelbordercolor,Object(r.Sa)(t.borderalpha,t.labelborderalpha,t.alpha,t.labelalpha,100)):r.b,borderThickness:Object(r.Sa)(t.borderthickness,t.labelborderthickness),borderPadding:Object(r.Sa)(t.borderpadding,t.labelborderpadding),borderRadius:Object(r.Sa)(t.borderradius,t.labelborderradius),backgroundColor:t.bgcolor||t.labelbgcolor?Object(l.c)(t.bgcolor||t.labelbgcolor,Object(r.Sa)(t.bgalpha,t.labelbgalpha,t.alpha,t.labelalpha,P.rawAttr.labelFontAlpha,100)):r.b,borderDash:Object(r.Sa)(t.borderdashed,t.labelborderdashed,0)?Object(r.S)(Object(r.Sa)(t.borderdashlen,t.labelborderdashlen,4),Object(r.Sa)(t.borderdashgap,t.labelborderdashgap,2)):0===Object(r.Sa)(t.borderdashed,t.labelborderdashed)?r.h:W.borderDash},m["text-bound"]=t.label?[Object(r.Qa)(x.backgroundColor,W.backgroundColor),Object(r.Qa)(x.borderColor,W.borderColor),Object(r.Qa)(x.borderThickness,W.borderThickness),Object(r.Qa)(x.borderPadding,W.borderPadding),Object(r.Qa)(x.borderRadius,W.borderRadius),Object(r.Qa)(x.borderDash,W.borderDash)]:[],z.shiftX&&(m.x+=z.shiftX),z.shiftY&&(m.y+=z.shiftY),m.transform=Object(r.Y)(i,m.x,m.y),R[E]=R[E]||{config:{props:{label:{}}}},R[E].config.props.label.attr=m,R[E].config.props.label.css=c}allocatePosition(){var e=this,t=e.config;t.tickValues?t.drawLabels&&e._parseCategory():t.drawLabels&&e._parseLabel()}_drawCategory(){var e,t,a,i,n,o,l,s,c,d,g,h=this,p=h.config,u=h.getFromEnv("chart"),m=u.config,b=p.labels,f=h.getFromEnv("animationManager"),v=b.style,x=this.getFromEnv("toolTipController"),C=p.axisContainer,O=h.config.categoryLabel||(h.config.categoryLabel=[]),y=function(e){return function(t){u.plotEventHandler(this,t,e)}},S=p.tickValues.tickValue,w=[];if(p.labels.isDraw){for(C.css(p.ParentCss),o=h._getCategoryArr(),n=Kt()((e,t)=>e.value===t.value,p.prevCategoryIntervalArr,o),e=0,s=n.length;e<s;e++)(d=h.getGraphicalElement(`${n[e].value}${ia}`))&&h.removeGraphicalElement(d);for(p.prevCategoryIntervalArr=Object(r.N)([],o),e=0,s=o.length;e<s;e+=1)w[e]=`${o[e].value}${ia}`;for(e=0,s=o.length;e<s;e+=1)t=S[g=o[e].index],i=(c=h.components.labels[g].config).props.label.attr,l=h.getGraphicalElement(w[e]),a=f.setAnimation({el:l||"text",attr:i,container:C,data:{value:void 0},component:h,label:"text",css:c.props.label.css}),l||(h.addGraphicalElement(w[e],a),a.click(y("dataLabelClick")).hover(y("dataLabelRollOver"),y("dataLabelRollOut"))),a.data(ea,{link:!m.singleseries&&t.link||t.labellink||v.labelLink,text:i.text,index:g}),t.labelTooltext?x.enableToolTip(a,t.labelTooltext):x.disableToolTip(a),O[g]=a}else for(e=0,s=p.prevCategoryIntervalArr.length;e<s;e++)(d=h.getGraphicalElement(`${p.prevCategoryIntervalArr[e].value}${ia}`))&&h.removeGraphicalElement(d)}_getCategoryArr(){var e,t,a,i,n,o,l,s,c,d,g=this,h=g.config,p=h.isVertical,u=0,m=0,b=[];for(i=sa(e=h.tickValues.tickValue),a=e?e.length-1:0,p&&(c=Math.abs(g.getPixel(0,la)-g.getPixel(1,la)),h.labelMaxH>c&&(u=Math.ceil(h.labelMaxH/c)),u>h.labels.step&&(h.labels.step=u)),s=0<h.labels.step?h.labels.step:1,d=1!==g.getZoom(),o=this.getVisibleConfig(),t=i;t<=a;t+=s)if((n=e[t])&&(l=Object(r.Sa)(n.x,n.y,t),0!==Object(r.Sa)(n.showlabel,h.showLabels,1))){if(d&&(l<o.minValue||l>o.maxValue)){n.labelCount=m++;continue}("auto"!==h.xAxisLabelMode&&"mixed"!==h.xAxisLabelMode||0!==h.showZeroPlane&&0!==h.showZeroPlaneValue||0!==l)&&(h.labels.drawNormalVal||h.labels.drawLimitVal&&(t==i||t==a))&&(h.labels.drawNormalVal||t==i||t==a)&&(h.labels.drawLimitVal||t!=i&&t!=a)&&(n.labelCount=m++,b.push({index:t,value:l}))}return b}getValue(e,t={wrtVisible:!1}){var a=this.getScale(),i=this.getTranslation();return a.getDomainValue(t.wrtVisible?e:e-i)}getPixel(e,t={wrtVisible:!1}){var a=this.getScale(),i=this.getTranslation(),n=a.getRangeValue(e);return t.wrtVisible?n:n+i}_getCustomPixel(e,t,a={wrtVisible:!1}){if(!t)return this.getPixel(e,a);var i=this.getScale().copy(),[n,o]=i.getRange(),r=Math.min(n,o),l=i.getRangeValue(e),s=this.getTranslation();return i.setRange([r,r+t]),a.wrtVisible?l:l+s}getTranslation(){return this.config.translation||0}setScrollType(e){("none"===e||"smart"===e||"always"===e)&&(this.config.scrollType=e,"none"===e?this.disableScroll():this.enableScroll())}getScrollType(){return this.config.scrollType}_createScrollBar(){var e,t,a,i=this,n=i.config,o=i.getFromEnv("chart"),r=i.getFromEnv("animationManager"),l=i.getLinkedItem("scrollBar");e=o.getFromEnv("toolbox"),t=o.getFromEnv("toolBoxAPI"),l||i.setLinkedItem("scrollBar",l=new(0,t.Scroller)),l.configure({isHorizontal:!n.isVertical},e.idCount,e.pId,i.getFromEnv("chartInstance").id),l.attachEventHandlers({scrollStart:function(e){a=e,o.fireChartInstanceEvent("scrollstart",{scrollPosition:e})},scroll:function(e){let t=n.axisRange.max,a=n.axisRange.min,l=i.getVisibleConfig(),s=l.maxValue-l.minValue,c=Ht(a,t-s)(n.isReverse?1-e:e);i.setState("scrolling",!0),r.setAnimationState("scroll"),o.fireChartInstanceEvent("onScroll",{scrollPosition:e}),i.setVisibleConfig(c,c+s)},scrollEnd:function(e){o.fireChartInstanceEvent("scrollend",{scrollPosition:e,prevScrollPosition:a})}})}_disposeScrollBar(){var e=this.getLinkedItem("scrollBar");e&&(e.hide(),this.removeLinkedItem("scrollBar"))}_drawScrollBar(){var e,t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f=this,v=f.getFromEnv("chart"),x=f.config,C=x.axisRange,O=x.scrollOptions||(x.scrollOptions={}),y=C.max,S=C.min,w=O.vxLength,L=f.getLinkedItem("scrollBar"),F=v.getChildren("canvas")[0].config,j=x.scrollerContainer;L&&(e=F.canvasLeft,t=F.canvasTop,a=F.canvasHeight,i=F.canvasWidth,n=F.canvasBorderWidth,o=x.showAxisLine&&x.axisLineThickness||0,l=Object(r.Sa)(n,x.lineStartExtension),s=Object(r.Sa)(n,x.lineEndExtension),O.viewPortMin=S,O.viewPortMax=y,c=(u=(h=f.getVisibleConfig()).maxValue-(p=h.minValue))/(m=C.max-C.min),b=(p-C.min)/(m-u),d=O.windowedCanvasWidth=f.getPixel(w,la),g=O.fullCanvasWidth=f.getPixel(y-S,la)-d,x.isVertical?L.draw(e,t,{height:a,scrollRatio:c,roundEdges:F.isRoundEdges,fullCanvasWidth:g,windowedCanvasWidth:d,scrollPosition:x.isReverse?1-b:b,parentLayer:j}):L.draw(e-l,t+a+n+o-2,{width:i+l+s,scrollRatio:c,roundEdges:F.isRoundEdges,fullCanvasWidth:g,windowedCanvasWidth:d,scrollPosition:b,parentLayer:j}))}enableScroll(){this.isScrollEnabled()||this._createScrollBar()}disableScroll(){this.isScrollEnabled()&&this._disposeScrollBar()}isScrollEnabled(){return!!this.getLinkedItem("scrollBar")}setVisibleConfig(e,t){let a,i=this,n=i.config,o=i.getZoom(),r=i.getScale();return!(e>=t||e<n.axisRange.min||t>n.axisRange.max||(a=r.setDomain([e,t]).getDomain(),n.visibleMin=a[0],n.visibleMax=a[1],n.zoom=i._computeZoom(),n.translation=i._computeTranslation(),(1!==o||1!==i.getZoom())&&(n.ticks=i.generateTicks(),n.minorTicks=i.generateMinorTicks(),n.tickValues&&i.calculateTicksOnLabelMode&&i.calculateTicksOnLabelMode()),i.decideScroll(),i.clearReferenceInfo(),i._parseReferenceVisuals(),i.fireEvent("visiblerangeset",{minValue:e,maxValue:t}),i.asyncDraw(),0))}hide(){var e=this.config;e.axisContainer&&(e.axisLabelContainerTop.hide(),e.scrollerContainer.hide(),e.axisContainer.hide(),e.axisNameContainer.hide(),e.axisTrendLabelContainer.hide(),e.axisAxisLineContainer.hide(),e.axisAxisLineContainerBottom.hide())}show(){var e=this.config;e.axisContainer&&(e.axisLabelContainerTop.show(),e.scrollerContainer.show(),e.axisContainer.show(),e.axisNameContainer.show(),e.axisTrendLabelContainer.show(),e.axisAxisLineContainer.show(),e.axisAxisLineContainerBottom.show())}getZoom(){return this.config.zoom||1}_computeTranslation(){let e=this.config,t=this.getVisibleConfig(),a=Object(r.Sa)(t.minValue,e.axisRange.min,0),i=Object(r.Sa)(e.axisRange.min,t.minValue,0);return this.getPixel(a)-this.getPixel(i)}_computeZoom(){let e=this.config,t=this.getVisibleConfig(),a=Object(r.Sa)(t.minValue,e.axisRange.min,0),i=Object(r.Sa)(t.maxValue,e.axisRange.max,1),n=Object(r.Sa)(e.axisRange.min,t.minValue,0),o=Object(r.Sa)(e.axisRange.max,t.maxValue,1),l=e.maxZoomLimit,s=(o-n)/(i-a);return s>l?l:s}getTickValues(){var e=this.config.tickValues;return e&&e.tickValue||[]}dataLabels(e){var t=this.config.axisIndex;return this.getFromEnv("number-formatter").dataLabels(e,t)}getAxisBase(){let{minValue:e,maxValue:t}=this.getVisibleConfig();return 0>e&&0<t?0:0>=t?t:e}_parseReferenceVisuals(){var e,t,a=this,i=a.config,n=a.getTickValues(),o=n.length,r=a.getFromEnv("chartConfig").is3D;i.isActive||(e=i.lines.isDraw,t=i.band.isDraw,i.lines.isDraw=0,i.band.isDraw=0),i.tickValues?i.drawLabels&&a._parseCategoryLine(n,0,o):i.drawPlotlines&&a._parsePlotLine(),i.tickValues&&"auto"!==i.xAxisLabelMode?(i.drawPlotlines&&!r&&a._parseCategoryPlotLine(),i.drawPlotBands&&!r&&a._parseCategoryPlotBand(),"mixed"===i.xAxisLabelMode&&i.drawPlotBands&&!r&&a._parsePlotBand()):i.drawPlotBands&&!r&&a._parsePlotBand(),i.isActive||(i.lines.isDraw=e,i.band.isDraw=t),i.drawTrendLines&&a._parseTrendLine()}_parseCategoryPlotBand(){var e,t,a,i,n,o=this,s=o.config,c=s.tickValues.tickValue,d=s.showAlternateGridColor,g=s.alternateGridColor,h=s.alternateGridAlpha,p=s._allTicks,u=o.getLimit(),m=u.min,b=u.max,f=oa(o.getVisibleConfig());if((!c[0]||c[0].x===r.z&&c[0].y===r.z)&&d&&s.band.isDraw&&s.categoryNumDivLines)for(e={fill:Object(r.db)(Object(l.c)(g,h)),"stroke-width":0},t=0,n=0;n<p.length;++t,++n)f(p[n],p[n+1])&&(a=p[n],0==t%2)&&(i=p[n+1])!==r.z&&(a===m&&(a="canvasStart"),i===b&&(i="canvasEnd"),o.setReferenceInfo({from:a,to:i,layer:0,type:"band",attr:e}))}_parseTrendLine(){var e,t,a,i,n,o,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y=this,S=y.config,w=S.isVertical,L=S.axisIndex,F=y.getFromEnv("chart-attrib"),j=y.getFromEnv("number-formatter"),k=S.axisRange,A=k.max,E=k.min,T=S.trend.trendStyle,I={fontFamily:T.fontFamily,fontSize:T.fontSize,lineHeight:T.lineHeight,fontWeight:T.fontWeight,fontStyle:T.fontStyle},P=S.vTrendLines,_=S.trendLines,D=0;if(s=_||P)for(a=0,i=s.length;a<i;a+=1)for(e=0,t=s[a].line&&s[a].line.length;e<t;e+=1)h=s[a].line[e],v=w?"yAxis":"xAxis",m=h.startvalue||h.value||0,m=j.getCleanValue(Object(r.Qa)(h.startvalue,h.value,0)),b=+h.endvalue||r.z,n=Object(r.Aa)(Object(r.Pa)(Object(r.Qa)(s[a].line[e].tooltext,s[0].tooltext,S.trendlineToolText))),n=Object(r.Oa)(n,[7,15,16,17,18,19],{startValue:m,startDataValue:j[v](m,L),endValue:b||m,endDataValue:j[v](b||m,L),axisName:S.axisName},h),!(m>A||m<E||b>A||b<E)&&(P?(p=Object(r.Pa)(h.displayvalue||""),c=Object(r.Sa)(h.istrendzone,S.isTrendZone,1),b!==r.z&&""!==b&&b!==m&&c?(d={fill:Object(l.c)(Object(r.Qa)(h.color,S.trendlineColor),Object(r.Qa)(h.alpha,S.trendlineAlpha,40)),"stroke-width":0},g={fill:Object(l.c)(Object(r.Qa)(h.color,T.color),Object(r.Qa)(h.alpha,S.trendlineAlpha,99)),"vertical-align":r.t,text:p}):(f=Object(r.Sa)(h.thickness,S.trendlineThickness,1),d={stroke:Object(l.c)(Object(r.Qa)(h.color,S.trendlineColor),Object(r.Qa)(h.alpha,S.trendlineAlpha,99)),"stroke-width":f,"stroke-dasharray":Object(r.Qa)(h.dashed,S.trendlinesAreDashed)===r.l?Object(r.S)(Object(r.Sa)(h.dashlen,S.trendlinesDashLen),Object(r.Sa)(h.dashgap,S.trendlinesDashGap)):r.h},g={fill:Object(l.c)(Object(r.Qa)(h.color,T.color),Object(r.Qa)(h.alpha,S.trendlineAlpha,99)),"vertical-align":r.t,text:p})):_&&(p=Object(r.Qa)(Object(r.Pa)(h.displayvalue),h.startvalue,""),u=Object(r.Sa)(h.valueonright,0),c=Object(r.Sa)(h.istrendzone,S.isTrendZone,0),b!==r.z&&""!==b&&b!==m&&c?(d={fill:Object(l.c)(Object(r.Qa)(h.color,S.trendlineColor),Object(r.Qa)(h.alpha,S.trendlineAlpha,40)),"stroke-width":0},g={"text-anchor":u?r.s:r.o,fill:Object(l.c)(Object(r.Qa)(h.color,T.color),Object(r.Qa)(h.alpha,S.trendlineAlpha,99)),text:p}):(f=Object(r.Sa)(h.thickness,S.trendlineThickness,1),d={stroke:Object(l.c)(Object(r.Qa)(h.color,S.trendlineColor),Object(r.Qa)(h.alpha,S.trendlineAlpha,99)),"stroke-width":f,"stroke-dasharray":Object(r.Qa)(h.dashed,S.trendlinesAreDashed)===r.l?Object(r.S)(Object(r.Sa)(h.dashlen,S.trendlinesDashLen),Object(r.Sa)(h.dashgap,S.trendlinesDashGap)):r.h},g={"text-anchor":u?r.s:r.o,fill:Object(l.c)(Object(r.Qa)(h.color,T.color),Object(r.Qa)(h.alpha,h.alpha,S.trendlineAlpha,99)),text:p})),g["text-bound"]=g.text?[T.backgroundColor,T.borderColor,T.borderThickness,T.borderPadding,T.borderRadius,T.borderDash]:[],S.showTooltip&&n||(n=""),o=S.forceTrendBelow?0:Object(r.Sa)(h.showontop,F.showtrendlinesontop,0),w?(x=m,O=b===r.z?m:b):(x=b===r.z?m:b,O=m),C=c&&x!==O?"band":"line",x!==r.z&&y.setReferenceInfo({from:x,to:O,toolText:n,attr:d,layer:o?3:2,type:C,id:"trend"+D+C}),S.parsedTrendLabels.push({css:I,valueOnRight:u,isTrendZone:c,from:m,to:b,attr:g}),D+=1)}_parsePlotLine(){var e,t,a,i,n=this,o=n.config,s=o.axisRange,c=s.max,d=s.min,g=ra(n.getVisibleConfig()),h=o.showCanvasBorder,p=Object(l.c)(o.divLineColor,o.divLineAlpha),u=o.divLineThickness,m=o.divLineIsDashed?Object(r.S)(o.divLineDashLen,o.divLineDashGap):r.h,b=Object(l.c)(o.zeroPlaneColor,o.zeroPlaneAlpha),f=o.zeroPlaneThickness,v=o._allTicks,x=v.length,C=o.showZeroPlaneOnTop,O=o.minorTicks,y=O&&O.length;if(o.lines.isDraw)for(t=0;t<x;++t)g(e=v[t])&&(a={"stroke-dasharray":m},!(0===o.showZeroPlane&&0===e||h&&(e===c||e===d)))&&(0===e&&e!==d&&e!==c?(a.stroke=b,a["stroke-width"]=f,C=o.showZeroPlaneOnTop):(C=0,a.stroke=p,a["stroke-width"]=u),n.setReferenceInfo({type:"line",from:e,layer:0===e&&C?3:1,attr:a}));for(i={stroke:o.minorDivlinecolor,"stroke-width":o.minorDivLineThickness,"stroke-dasharray":m},t=0;t<y;++t)n.setReferenceInfo({type:"line",from:O[t],layer:1,attr:i})}_parseCategoryLine(e,t,a){var i,n,o,s,c,d,g=this,h=g.config,p=g.getFromEnv("color-manager"),u=g.getFromEnv("chartInstance").getJSONData().categories,m={};if(t=t||0,a=a||e?e.length-1:0,h.drawPlotlines)for(d=1!==g.getZoom(),o=this.getVisibleConfig(),u&&u[0]&&(m.verticalLineColor=u[0].verticallinecolor,m.verticalLineAlpha=u[0].verticallinealpha,m.verticalLineThickness=u[0].verticallinethickness,m.verticalLineDashed=u[0].verticallinedashed,m.verticalLineDashLen=u[0].verticallinedashlen,m.verticalLineDashGap=u[0].verticallinedashgap),i=t;i<=a;i+=1)(n=e[i])&&(c=Object(r.Sa)(n.x,n.y,i),1==+n.showverticalline)&&(d&&(c<o.minValue||c>o.maxValue)||((s={stroke:Object(l.c)(Object(r.Qa)(n.linecolor,m.verticalLineColor,h.divLineColor,p.getColor("divLineColor")),Object(r.Qa)(n.linealpha,m.verticalLineAlpha,p.getColor("divLineAlpha"))),"stroke-width":Object(r.Sa)(n.linethickness,m.verticalLineThickness,1)})["stroke-dasharray"]=Object(r.Sa)(n.linedashed,m.verticalLineDashed,0)?Object(r.S)(Object(r.Sa)(n.linedashLen,m.verticalLineDashLen,4),Object(r.Sa)(n.linedashgap,m.verticalLineDashGap,2),s["stroke-width"]):r.h,g.setReferenceInfo({type:"line",from:c,layer:1,attr:s})))}_parsePlotBand(){var e,t,a,i,n,o,s=Math.min,c=Math.max,d=this,g=d.config,h=g.showAlternateGridColor,p=g.alternateGridColor,u=g.alternateGridAlpha,m=g._allTicks,b=oa(d.getVisibleConfig()),f=g.isReverse;if(h&&g.band.isDraw)for(t=1,e={fill:Object(r.db)(Object(l.c)(p,u)),"stroke-width":0},i=0,a=m.length;i<a;++i,++t)b(m[i],m[i+1])&&0==t%2&&m[i+1]!==r.z&&(o=f?c(m[i],m[i+1]):s(m[i],m[i+1]),n=f?s(m[i],m[i+1]):c(m[i],m[i+1]),d.setReferenceInfo({from:o,to:n,type:"band",layer:0,attr:e}))}getReferenceInfo(){return this.config.referenceInfo}setReferenceInfo(e){this.config.referenceInfo.push(e)}clearReferenceInfo(){let e=this.config;e.referenceInfo=[],e.parsedTrendLabels=[],e.parsedVlineInfo=[]}resetStoredLimits(){this.config.dataLimit={}}decideScroll(){let e=this,t=e.getScrollType();"always"===t||"smart"===t&&1!==e.getZoom()?e.enableScroll():e.disableScroll()}getAxisDimension(){let{x:e,y:t,opposite:a,axisLength:i}=this.config.axisDimention;return{x:e,y:t,opposite:a,axisLength:i}}}ca.prototype.setAxisDimention=function(e){var t=this,a=t.getScale(),i=t.config,n=t.getFromEnv("chart").config,o=i.axisDimention||(i.axisDimention={}),l=i.isReverse;o.opposite=Object(r.Sa)(e.opposite,o.opposite),o.x=Object(r.Sa)(e.x,o.x,n.canvasLeft),o.y=Object(r.Sa)(e.y,o.y,n.canvasTop),o.axisLength=Object(r.Sa)(e.axisLength,o.axisLength),a.setRange(i.isVertical?l?[o.y+o.axisLength,o.y]:[o.y,o.y+o.axisLength]:l?[o.x+o.axisLength,o.x]:[o.x,o.x+o.axisLength]),i.translation=t._computeTranslation()},ca.prototype.shiftLabels=function(e,t){var a=this.config.labels;a.shiftX=e,a.shiftY=t},ca.prototype._createContainer=function(){let e,t,a,i,n,o=this,r=o.config,l=r.isVertical,s=o.getLinkedParent().getChildContainer(),c=s.axisBottomGroup,d=s.axisTopGroup,g=-o.getTranslation(),h=l?`T0,${g}`:`T${g},0`;t=o.createContainer("axisNameGroup",{name:"dataset-Name-group"},c),e=o.createContainer("axisLineGroup",{name:"axis-Line-group"},d),a=o.createContainer("axisTrendGroupTop",{name:"dataset-Trend-group-top"},d),i=o.createContainer("axisLabelGroup",{name:"dataset-Label-group"},c),n=o.createContainer("axisLabelGroupTop",{name:"dataset-Label-group"},d),r.scrollerContainer=o.createGroup("scrollerContainer",{name:"scroller-container"},e,"scroller"),r.axisContainer=o.createGroup("axisContainer",{name:"dataset-axis",transform:h},i),r.axisLabelContainerTop=o.createGroup("axisLabelContainerTop",{name:"dataset-top-label",transform:h},n),r.axisAxisLineContainer=o.createGroup("axisAxisLineContainer",{name:"axis-line-tick"},e),r.axisTrendLabelContainer=o.createGroup("axisTrendLabelContainer",{name:"dataset-axis-trend-label"},a),r.axisNameContainer=o.createGroup("axisNameContainer",{name:"dataset-axis-name"},t),r.axisAxisLineContainerBottom=o.createGroup("axisAxisLineContainerBottom",{name:"axis-line-tick-bottom"},c)};var da=ca;const ga=3,ha=10;class pa extends da{_getHMaxLabelDimention(e){function t(e,t){switch(t.toLowerCase()){case"left":return G(z._getCustomPixel(e));case"right":return G(Q.width-z._getCustomPixel(e))}}var a,i,n,o,l,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L,F,j,k,A,E,T,I,P,_,D,B=Math.ceil,M=Math.max,R=Math.floor,V=Math.min,G=Math.abs,N=Number.POSITIVE_INFINITY,z=this,W=z.config,H=z.getFromEnv("chart"),Q=H.config,Y=H.getFromEnv("smartLabel"),K=W.axisRange,X=W.labels,Z=W.labelDisplay,U=W.slantLabel,$=X.style,q=W.maxLabelHeight,J=z.getInterval(),ee=W.staggerLines,te=W.labelStep,ae=Q.canvasLeft,ie=Q.canvasRight,ne=ee-2,oe=K.max,re=K.min,le=0,se=W.tickValues&&W.tickValues.tickValue,ce=se&&se.length,de=0,ge={text:r.z,width:0,style:r.z},he=0,pe=4,ue=r.bb,me=r.bb,be=r.bb,fe={},ve=0,xe=!1,Ce=0,Oe=!1,ye=N,Se=W.ticks,we=N;if(H.distributedColumns)for(v=0;v<ce;v++)se[v+1]?se[v].x&&(se[v].plotWidth=z.getPixel(se[v+1].x-se[v].x)-z.getPixel(0)):se[v].plotWidth=z.getPixel(Q.canvasRight-se[v].x)-z.getPixel(0);if(W.tickValues&&(!se||0===se.length))return{width:0,height:0};if("rotate"===Z&&(W.rotateLabels=1),W.tickValues||(W.irregularCatAxis=!1),W.sWidthAdjstFactor=i=0==ne?1:1==ne?1.5:ne,Y.useEllipsesOnOverflow(Q.useEllipsesWhenOverflow),Y.setStyle({fontSize:$.fontSize,fontFamily:$.fontFamily,lineHeight:$.lineHeight,fontWeight:$.fontWeight}),W.irregularCatAxis){for(se.sort(function(e,t){return e.x-t.x}),v=0,de=se.length;v<de;v++){if(l=se[v],void 0!==w){if(we=G(l.x-w),F=G(z._getCustomPixel(re)-z._getCustomPixel(re+we)),Y.setStyle(Object.assign({},l.style)),F<1.2*Y.getOriSize("W").width){l.label="",we=ye;continue}j._individualIWR=F,l._individualIWL=F,ye=we}j=l,w=l.x}for(we===N&&(we=R(V(l.x,oe-l.x)),we=M(we,4)),v=0,de=se.length;v<de;v++)l=se[v],v||(l._individualIWL=1/0),v===de-1&&(l._individualIWR=1/0),l.individualIW=V(l._individualIWL,l._individualIWR);c=G(z._getCustomPixel(re)-z._getCustomPixel(re+we)),c=V(2*t(se[0].x,"left"),2*t(se[de-1].x,"right"),c)}else c=G(z._getCustomPixel(re)-z._getCustomPixel(re+J));if(e=q||e,fe.__root__={getHeight:function(e){return parseInt(se[e]._ovrStyle.lineHeight.replace(/(\d+)px/,"$1"),10)},getWidth:function(){return e},getCalculatedLabelStep:function(e){var t,a,i,n,o,l,g,h,p,u=0,m=e.length,b=Number.NEGATIVE_INFINITY,f={},v=0;for(u=0;u<m;u++)(n=e[u]).style=n.style||{};if(W.irregularCatAxis)return W.labelStep;for(u=0;u<m;u++)(n=e[u])&&(n.label||(n.label=""),o=n.oriLabel||n.label,s={fontSize:$.fontSize,fontFamily:$.fontFamily,lineHeight:$.lineHeight,fontWeight:$.fontWeight},v++,n.style=n.style||{},Object(r.N)(s,n.style),f[t=s.fontSize+s.fontFamily+s.lineHeight+s.fontWeight]?o.length>f[t].label.length&&(f[t].label=o):f[t]={label:o,style:s});for(l in f)f.hasOwnProperty(l)&&(i=f[l].label,(a=f[l].style).lineHeight=Object(r.ab)(a),Y.setStyle(a),W.rotateLabels&&(h=parseInt(a.lineHeight.replace(/(\d+)px/,"$1"),10)),d=Y.getSmartText(i,r.z,h),b=M(0===W.rotateLabels?60<d.width?60:d.width:d.height,b));return g=R(G(z._getCustomPixel(oe)-z._getCustomPixel(re))/b),p=M(B(v/g),W.labelStep),c=G(z._getCustomPixel(re)-z._getCustomPixel(re+p)),v<=g?W.labelStep:p}},fe._inProp={},fe.getCopyById=function(e){var t,a=this.__root__,i=this._inProp.copyStore;return(t=(i=i||{})[e])||(Object(r.N)(t=i[e]={},a),t)},W.tickValues){for("rotate"===Z?(X.rotation=U?300:270,p=fe.getCopyById("rotate")):"stagger"===Z?((p=fe.getCopyById("stagger")).getHeight=function(e){var t,a;return a=(t=W.tickValues.tickValue[e])&&t.style||(t.style={}),s={fontSize:$.fontSize,fontFamily:$.fontFamily,lineHeight:$.lineHeight,fontWeight:$.fontWeight},Object(r.N)(s,a),Y.setStyle(s),Y.getOriSize(t.label).height},p.getWidth=function(e){return pe=1,e.individualIW?e.individualIW:2*c*i-pe},be=function(t){var a,i,n,o,r,l=t.length,s=0;if(Y.setStyle($),i=Y.getOriSize("WWW").height,R(t[l-1]._cumulativeSum)<=B(l*(i+2)))o=R(e/i),ee=0>o-ee?o:ee;else{o=R(e/(i+4));do{for(s=0,n=(r=o)-1,l=t.length;n<l;){if(l-n<o&&(n=l-1),~~((a=t[n])._cumulativeSum-s)>-~e){xe=!0;break}xe=!1,s=a._cumulativeSum,n+=r}}while(o--&&xe);ee=V(ee,++o)}W.drawnStaggerLines=ee},ue=function(e){var t,a,i,o,r=0;for(o=0,a=e.length;o<a;o++)!(t=e[o]).stepSkipped&&((i=(t&&t.style||{}).lineHeight)||(i=$.lineHeight),n=r++%ee,t.labelPadding=n?i.replace(/px/i,"")*n:0)}):"none"===Z?((p=fe.getCopyById("none")).getHeight=r.bb,p.getWidth=r.bb,me=r.bb,W.rotateLabels&&(X.rotation=U?300:270,L=e),p.getCalculatedLabelStep=function(){return W.labelStep}):((p=fe.getCopyById("auto")).getHeight=function(){return e},p.getWidth=function(e){return e.individualIW?e.individualIW:c-2*pe},me=function(e,t){var a,i,n,o,l=H.getFromEnv("chart-attrib"),s=Object(r.Sa)(l&&l.rotatelabels);if(!W.irregularCatAxis&&(Y.setStyle(e),Y.getOriSize("WWW").width>=c&&0!==s)){for(X.rotation=U?300:270,X.forceRotate=!0,p=fe.getCopyById("rotate"),g=p.getWidth,h=p.getHeight,ge.width=0,a=0,i=t.length;a<i;a++)(n=t[a])&&(n.label||n.oriLabel)&&0!==Object(r.Sa)(n.showlabel,W.showLabels,1)&&!0!==n.stepSkipped&&(Y.setStyle({fontSize:(o=n._ovrStyle).fontSize,fontFamily:o.fontFamily,lineHeight:o.lineHeight,fontWeight:o.fontWeight}),d=Y.getSmartText(n.oriLabel,g(n),h(a)),n.label=d.text,n.labelTooltext=d.tooltext,n._sLabel=d,ge.width<d.width&&(ge.text=d.text,ge.width=d.width,ge.height=d.height,ge.style=o));u=ge.text}}),g=p.getWidth,h=p.getHeight,te=W.labels.step=W.labelStep=W._oriLabelStep,te=W.labels.step=W.labelStep=p.getCalculatedLabelStep(se),v=sa(se),m=0,x=0,de=se.length;v<de;v++,m++)if((l=se[v])&&(l.label||l.oriLabel)&&0!==Object(r.Sa)(l.showlabel,W.showLabels,1)){if(Oe=!0,s={fontSize:$.fontSize,fontFamily:$.fontFamily,lineHeight:$.lineHeight,fontWeight:$.fontWeight},Object(r.N)(s,l.style),s.lineHeight=Object(r.ab)(s),(P=s.fontSize+s.fontFamily+s.lineHeight+s.fontWeight)!=I&&(Y.setStyle(s),I=P),m%te){l.stepSkipped=!0,l.appliedSmartLabel=!1,Ce++;continue}l.appliedSmartLabel=!0,l.stepSkipped=!1,l._ovrStyle=s,se[v].plotWidth?a=M("rotate"===Z?se[v].plotWidth-6:0,h(v)):("rotate"===Z?v<de-1&&(o=z.getPixel(v+1)-z.getPixel(v)-ha):o=0,"rotate"===Z&&isNaN(+o)&&(o=Q.canvasWidth/z.getVisibleLength()-ga),a=M(o,h(v))),ve+=(d=Y.getSmartText(l.oriLabel||l.label,g(l),a)).height+2,z.components.labels[x++]={config:{width:d.width,height:d.height,props:{label:{}}}},l._cumulativeSum=ve,l.oriLabel=l.oriLabel||l.label,l.label=d.text,l.labelTooltext=d.tooltext,l._sLabel=d,ge.width<d.oriTextWidth&&(Object(r.N)(ge,d),ge.style=s),he<d.height&&(he=d.height)}if(!Oe)return{height:0,width:0};if(be(se,Ce),ue(se,Ce),me(ge.style,se),u=ge.text||"","mixed"===W.xAxisLabelMode)for(y=W.isPercent?H.getFromEnv("number-formatter").percentValue:H.getFromEnv("number-formatter").xAxis,le=u.length,v=0,_=Se&&Se.length;v<_;++v)O=Se[v],(C=""+y.call(H.getFromEnv("number-formatter"),O,W.axisIndex)).length>le&&(u=C,le=C.length);for(ge.height=M(he,ge.height||0),E=se.length,v=0,de=se.length;v<de&&!(k=se[v])._sLabel;v++);for(v=(de=se.length)-1;0<=v&&!(A=se[v])._sLabel;v--);T=1!==z.getZoom(),X.rotation||T||!k._sLabel?(W.axisEndLabelDisplaySpace.left=0,W.axisEndLabelDisplaySpace.right=0):(W.axisEndLabelDisplaySpace.left=M(ae-(z._getCustomPixel(k.x||0)-k._sLabel.width/2),0),W.axisEndLabelDisplaySpace.right=M(z._getCustomPixel(A.x||E-1)+A._sLabel.width/2-ie,0)),S=ge}else{for(y=W.numberFormatterFn?H.getFromEnv("number-formatter")[W.numberFormatterFn]:W.isPercent?H.getFromEnv("number-formatter").percentValue:H.getFromEnv("number-formatter").xAxis,v=0,_=Se&&Se.length;v<_;++v)D=Se[v],O=Object(r.cb)(D,10),C=""+y.call(H.getFromEnv("number-formatter"),O,W.axisIndex),D===re&&(b=C),D===oe&&(f=C),S=Y.getOriSize(C),z.components.labels[v]={config:{width:S.width,height:S.height,props:{label:{}}}},C.length>le&&(u=C,le=C.length);Y.setStyle({fontSize:$.fontSize,fontFamily:$.fontFamily,lineHeight:$.lineHeight,fontWeight:$.fontWeight}),S=Y.getOriSize(u||""),"rotate"===Z&&(X.rotation=270),W.rotateLabels&&(X.rotation=U?300:270),X.rotation||(b=Y.getOriSize(b||""),f=Y.getOriSize(f||""),W.axisEndLabelDisplaySpace.left=b.width/2+2,W.axisEndLabelDisplaySpace.right=f.width/2+2)}return W.tickValues&&"stagger"===Z&&(S.height=ee*ge.height),S.width=L?V(L,S.width):S.width,S.width=Object(r.Sa)(S.width),S.maxWidth=Object(r.Sa)(S.maxWidth),S}_getVMaxLabelDimention(e){var t,a,i,n,o,l,s,c,d,g,h,p,u,m,b=this,f=b.config,v=b.getFromEnv("chart"),x=v.config,C=v.getFromEnv("smartLabel"),O=f.labels.style,y=f.useEllipsesWhenOverflow,S=f.maxLabelWidthPercent,w=f.minLabelWidthPercent,L=0,F=v.getFromEnv("dataSource").categories,j={height:0,width:0},k=f.ticks,A={};if(C.useEllipsesOnOverflow(x.useEllipsesWhenOverflow),C.setStyle({fontSize:O.fontSize,fontFamily:O.fontFamily,lineHeight:O.lineHeight,fontWeight:O.fontWeight}),f.tickValues){for(F&&(A={fontFamily:F[0].font,fontSize:F[0].fontsize,color:F[0].fontcolor}),S&&(a=S/100*x.width)<e&&(e=a),w&&(i=w/100*x.width)>e&&(e=i),n=0,d=(c=f.tickValues.tickValue).length;n<d;n++)g=c[n],0!==Object(r.Sa)(g.showlabel,f.showLabels)&&(u={fontFamily:Object(r.Qa)(g.font,g.labelfont,A.fontFamily,O.fontFamily),fontSize:Object(r.Qa)(g.fontsize,g.labelfontsize,A.fontSize,O.fontSize).replace(/px/i,"")+"px",fontWeight:"normal"==O.fontWeight?Object(r.Sa)(g.fontbold,g.labelfontbold,0)?"bold":"normal":O.fontWeight,fontStyle:"normal"==O.fontStyle?Object(r.Sa)(g.fontitalic,g.labelfontitalic,0)?"italic":"normal":O.fontStyle},(m={fontFamily:Object(r.Qa)(u.fontFamily,A.fontFamily,O.fontFamily),fontSize:Object(r.Qa)(u.fontSize,A.fontSize,O.fontSize),fontWeight:Object(r.Qa)(u.fontWeight,O.fontWeight),fontStyle:Object(r.Qa)(u.fontStyle,O.fontStyle)}).lineHeight=Object(r.ab)(m),C.setStyle(m),h=C.getSmartText(g.oriLabel||g.label,e,O.lineHeight,y),b.components.labels[n]={config:{width:h.width,height:h.height,props:{label:{}}}},g.oriLabel=g.oriLabel||g.label,g.label=s=h.text,g.labelTooltext=h.tooltext,h.width>L&&(j=h,L=h.width));return j}for(p=f.numberFormatterFn?v.getFromEnv("number-formatter")[f.numberFormatterFn]:f.isPercent?v.getFromEnv("number-formatter").percentValue:v.getFromEnv("number-formatter").yAxis,n=0,o=k&&k.length;n<o;++n)l=Object(r.cb)(k[n],10),s=""+p.call(v.getFromEnv("number-formatter"),l,f.axisIndex),h=C.getSmartText(s),b.components.labels[n]={config:{width:h.width,height:h.height,props:{label:{}}}},s.length>L&&(t=s,L=s.length);return C.getOriSize(t)}getCleanValue(e,t){return this.getFromEnv("number-formatter").getCleanValue(e,t)}generateMinorTicks(){if(this)return[]}setCanvas(e){this.config.canvas=e}_adjustNumberFormatter(e){var t,a,i=this.config,n=i.axisIndex,o=i.isVertical,l=this.getFromEnv("chart").getFromEnv("number-formatter"),s=i._defaultDecimalPrecision,c=i._defaultForceDecimal,d=0;a=o||"yAxis"===i.numberFormatterFn?(l.Y[n]||l.Y[0]).yAxisLabelConf:l.paramX,s===r.z?i._defaultDecimalPrecision=a.decimalprecision:a.decimalprecision=s,c===r.z?i._defaultForceDecimal=a.forcedecimals:a.forcedecimals=c,0<parseInt(e,10)||(t=e.toString().split(".")[1])&&((d=t.match(/^[0]*/)[0].length+1)>a.decimalprecision&&(a.forcedecimals=1),a.decimalprecision=Math.max(d,a.decimalprecision))}setLabelConfig(e){var t,a=this.config.labels;for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t])}}pa.prototype._parseLabel=function(){var e,t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f=Math.ceil,v=this,x=v.config,C=v.getLinkedItem("canvas").getEffectiveDimensions(),O=x.axisDimention,y=v.getFromEnv("chart"),S=y.config,w=x.axisRange,L=x.isOpposit,F=x.labels,j=v.components,k=j.labels,A=F.style,E=y.getFromEnv("smartLabel"),T=x.isVertical,I=w.max,P=w.min,_=v.getFromEnv("number-formatter"),D=C.top,B=C.left,M=D+C.height,R=B+C.width,V=x.labelPadding,G=x.extremeLabels,N=T?O.x:O.y,z=O.opposite,W=x.labelMaxH,H=x.labelMaxW,Q=w.tickInterval,Y=Math.abs(v.getPixel(P,Ut)-v.getPixel(P+Q,Ut)),K=[],X=x.ticks,Z=0,U=x.isReverse,$=Object(r.Sa)(v.getFromEnv("chart-attrib").showzeroplanevalue),q=!0,J=v.getLimit();if(E.useEllipsesOnOverflow(S.useEllipsesWhenOverflow),E.setStyle({fontSize:A.fontSize,fontFamily:A.fontFamily,lineHeight:A.lineHeight,fontWeight:A.fontWeight}),(i=A.lineHeight)&&-1!==i.indexOf("px")&&(i=parseFloat(i.replace("px",""))),0===$&&(q=!1),x.labels.isDraw){if(x.drawLabelsOpposit&&(L=!L,N=z),c={fill:A.color,"line-height":i,"font-size":A.fontSize,opacity:1},a=x.labels.rotation,T?(x.labelMaxH>Y&&!x.tickValues&&(l=f(x.labelMaxH/Y)),c["text-anchor"]=L?r.s:r.o):(x.labelMaxW>Y&&!x.tickValues&&(l=f(x.labelMaxW/Y)),a?(c["text-anchor"]=L?r.s:r.o,c["vertical-align"]="middle"):c["vertical-align"]=L?r.n:r.t,g=B,h=S.width-R),l>x.labels.step&&(x.labels.step=l),s=x.numberFormatterFn?_[x.numberFormatterFn]:x.isPercent?_.percentValue:T?_.yAxis:_.xAxis,G.firstLabel={},G.lastLabel={},b=X.filter((e,t,a)=>0!==e||x.showZeroPlaneValue?(T||t===a.length-1||!(v.getPixel(e,Ut)+x.labelMaxW>R))&&(0==t%x.labels.step?(K[Z++]=t,!0):!(!x.labels.drawLimitVal||0!==t&&t!==a.length-1||(K[Z++]=t,0))):q&&(!q||J.max===e||J.min===e)&&(K[Z++]=t,!0)),x.isZeroTickForced&&-1!==b.indexOf(0)){let e;Z=0,K=[],m=v.getPixel(0),b=b.filter((t,a,i)=>(e=v.getPixel(t),0===i[a+1]||0===i[a-1]?T?!(e+W>=m&&m>=e-W||(K[Z++]=a,0)):!(e+H>=m&&m>=e-H||(K[Z++]=a,0)):(K[Z++]=a,!0)))}for(n=(T?H:Y/2)*x.labels.step,o=T?Y/2:W,j.labelIndexArr=K.slice(),e=0,t=b.length;e<t;e+=1)p=b[e],k[K[e]]=k[K[e]]||{config:{props:{label:{}}}},d=Object.assign({},c),u=r.z,(x.labels.drawNormalVal||p===P||p===I)&&(x.labels.drawLimitVal||p!==P&&p!==I)?p===P&&x.lowerLimitDisplay&&x.labels.drawLimitVal?(u=E.getSmartText(x.lowerLimitDisplay,n,o+i/2),d.text=u.text,d.tooltext=u.tooltext):p===I&&x.upperLimitDisplay&&x.labels.drawLimitVal?(u=E.getSmartText(x.upperLimitDisplay,n,o+i/2),d.text=u.text,d.tooltext=u.tooltext):(d.text=""+s.call(_,p,x.axisIndex),u=E.getOriSize(d.text)):d.text="",T?(d.x=L?(N||R)+V:(N||B)-V,d.y=v.getPixel(p,Ut),(U&&p===P&&x.lowerLimitDisplay||!U&&p===I&&x.upperLimitDisplay)&&u&&u.height>i&&(d["vertical-align"]=r.n),(U&&p===I&&x.upperLimitDisplay||!U&&p===P&&x.lowerLimitDisplay)&&u&&u.height>i&&(d["vertical-align"]=r.t),x.placeValuesInside&&(d["text-anchor"]=L?r.o:r.s)):(d.x=v.getPixel(p,Ut),d.y=L?(N||D)-V:(N||M)+V,(!U&&p===P||U&&p===I)&&u&&u.width>2*g&&(d["text-anchor"]=r.s),(!U&&p===I||U&&p===P)&&u&&u.width>2*h&&(d["text-anchor"]=r.o),d["vertical-align"]=x.placeValuesInside?L?r.t:r.n:L?r.n:r.t),F.shiftX&&(d.x+=F.shiftX),F.shiftY&&(d.y+=F.shiftY),d.transform=Object(r.Y)(a,d.x,d.y),k[K[e]].config.props.label.attr=d}},pa.prototype._drawLabel=function(){var e,t,a,i,n,o,r,l,s,c,d,g=this,h=g.config,p=g.getFromEnv("animationManager"),u=this.getFromEnv("toolTipController"),m=h.axisRange,b=h.labels.style,f=g.components,v=m.max,x=m.min,C=h.axisContainer,O=h.extremeLabels,y=h.ticks,S=[];if(h.labels.isDraw)for(d=f.labels,c=f.labelIndexArr,C.css({fontFamily:b.fontFamily,fontSize:b.fontSize,fontWeight:b.fontWeight,fontStyle:b.fontStyle,lineHeight:b.lineHeight}),t=0,a=c&&c.length;t<a;t+=1)i=g.getGraphicalElement(n=`${l=y[e=c[t]]}_label`),r=d[e].config.props.label.attr,i=g.addGraphicalElement(n,p.setAnimation({el:i||"text",attr:r,container:C,data:{value:l},component:g,label:"text"})),r.tooltext?u.enableToolTip(i,r.tooltext):u.disableToolTip(i),l===v?O.lastLabel.graphic=i:l===x&&(O.firstLabel.graphic=i),S.push(n);for(e=0,a=(s=Zt()(h.prevIntervalArr,S)).length;e<a;e++)(o=g.getGraphicalElement(s[e]))&&g.removeGraphicalElement(o);h.prevIntervalArr=S},pa.prototype.getTrendLineLimits=function(){let e,t,a,i,n=this.config,o=n.trendLines||n.vTrendLines||n.trendPoints,l=o&&o[0]&&o[0].line||o&&o.point;return n.trendLimits?n.trendLimits:([e,t]=Object(r.O)(l,e=>""===e.startvalue?r.z:+e.startvalue),[a,i]=Object(r.O)(l,e=>""===e.endvalue?r.z:+e.endvalue),n.trendLimits=Object(r.O)([e,t,a,i],e=>+e),n.trendLimits)},pa.prototype.setAxisPadding=function(e=0,t=0){var a,i=Math.max,n=this,o=n.config,r=n.getScale(),[l,s]=r.getDomain();1===o.oriCatLen&&(0===e&&(e=.5),0===t&&(t=.5)),a=e-o.startPad,o.startPad=i(o.startPad,e),o.endPad=i(o.endPad,t),0<a&&(o.setPadding=!0,n._setAxisRange({min:l-a,max:s+a})),!o.tickValues&&o.originalMax&&o.originalMin&&n.setDataLimit(o.originalMax,o.originalMin)},pa.prototype.getLabel=function(e){var t=this.config,a=t.tickValues&&t.tickValues.tickValue[e],i={};return a&&a.tooltext&&(i.label=a.label,a.tooltext=Object(r.Oa)(a.tooltext,[3],i)),{label:a&&(a.oriLabel||a.label),tooltext:a&&a.tooltext}};var ua=pa,ma=(...e)=>{let t,a,i,n,o,r=[];if(2<e.length?(t=e[0],a=e[1],i=e[2]):1===e.length?(t=0,a=e[0],i=1):(t=e[0],a=e[1],i=1),n=Math.floor(Math.max(0,Math.ceil((a-t)/i))),isFinite(n))for(o=0;o<n;++o)r.push(i*o+t);return r},ba=e=>()=>e;function fa(e){return null!==e&&void 0!==e}var va=function(e,t){return fa(t)&&fa(e)&&"boolean"!=typeof t?Ht(e,t):ba(t)},xa=function(e,t){let a=(t=+t)-(e=+e);return t=>Math.round(a*t+e)};const Ca=[0,1];function Oa(e,t,a,i){var n,o;return e[0]>e[1]?(n=a(e[1],e[0]),o=i(t[1],t[0])):(n=a(e[0],e[1]),o=i(t[0],t[1])),e=>o(n(e))}function ya(e,t){return t.setInterpolate(e.getInterpolate()).setClamp(e.getClamp()).setDomain(e.getDomain()).setRange(e.getRange())}function Sa(e,t){let a=(t=+t)-(e=+e);return a?t=>(t-e)/a:ba(a)}var wa=class{constructor(e,t){this.domain=Ca,this.range=Ca,this.deInterpolate=e,this.reInterpolate=t,this.interpolate=va,this.clamp=!1,this.input=null,this.output=null,this._rescale()}_rescale(){return this.input=null,this.output=null,this}setDomain(e=Ca){return this.domain=e.map(Number),this._rescale()}getDomain(){return this.domain.slice()}setRange(e=Ca){return this.range=e.slice(),this._rescale()}getRange(){return this.range.slice()}setInterpolate(e=va){return this.interpolate=e,this._rescale()}getInterpolate(){return this.interpolate}setClamp(e=!1){return this.clamp=!!e,this._rescale()}getClamp(){return this.clamp}rangeRound(e=Ca){return this.range=e.slice(),this.interpolate=xa,this._rescale()}getRangeValue(e){e=null===e?void 0:e;let t=this.getClamp()?function(e){return(t,a)=>{var i=e(t=+t,a=+a);return e=>e<=t?0:e>=a?1:i(e)}}(this.deInterpolate):this.deInterpolate;return this.output||(this.output=Oa(this.getDomain(),this.getRange(),t,this.interpolate)),this.output(+e)}getDomainValue(e){let t=this.getClamp()?function(e){return(t,a)=>{var i=e(t=+t,a=+a);return e=>0>=e?t:1<=e?a:i(e)}}(this.reInterpolate):this.reInterpolate;return this.input||(this.input=Oa(this.getRange(),this.getDomain(),Sa,t)),this.input(+e)}};const La=7.0710678118654755,Fa=3.1622776601683795,ja=1.4142135623730951;function ka(e){return e>=La?10:e>=Fa?5:e>=ja?2:1}function Aa(e=0,t=1,a=7){var i=Math.pow;const n=(t-e)/Math.max(0,a),o=Math.floor(Math.log(n)/Math.LN10),r=n/i(10,o);return 0<=o?ka(r)*i(10,o):-i(10,-o)/ka(r)}var Ea=function(e=0,t=1,a=7){var i=Math.ceil,n=Math.floor;let o,r,l,s=-1,c=[];if(a=+a,(e=+e)==(t=+t)&&0<a)return[e];if((o=t<e)&&(r=e,e=t,t=r),0===(l=Aa(e,t,a))||!isFinite(l))return[];if(0<l)for(e=i(e/l),r=i((t=n(t/l))-e+1);++s<r;)c[s]=(e+s)*l;else for(r=i((e=n(e*l))-(t=i(t*l))+1);++s<r;)c[s]=(e-s)/l;return o&&c.reverse(),c};class Ta extends wa{constructor(){super(Sa,Ht)}ticks(e=7){const t=this.getDomain();return Ea(t[0],t[t.length-1],e)}nice(e=7){var t=Math.ceil,a=Math.floor;let i,n=this.getDomain(),o=0,r=n.length-1,l=n[o],s=n[r];return s<l&&(i=l,l=s,s=i,i=o,o=r,r=i),0<(i=Aa(l,s,e))?i=Aa(l=a(l/i)*i,s=t(s/i)*i,e):0>i&&(i=Aa(l=t(l*i)/i,s=a(s*i)/i,e)),0<i?(n[o]=a(l/i)*i,n[r]=t(s/i)*i,this.setDomain(n)):0>i&&(n[o]=t(l*i)/i,n[r]=a(s*i)/i,this.setDomain(n)),this}copy(){return ya(this,new Ta)}}var Ia=Ta;let Pa=Oa([2,100],[80,20],Sa,Ht);var _a=function(e,t,a,i){var n,o,l,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L=Math.pow,F=Math.LN10,j=Math.log,k=Math.max,A=Math.abs,E=Math.floor,T=i.isPercent?0:i.axisMinValue,I=i.isPercent?100:i.axisMaxValue,P=!!i.adjustDiv,_=i.numDivLines,D=!!i.setAdaptiveMin,B=i.axisRange,M=5.960464477539063e-8,R=!0,V=.2,G=!0,N=i.xAxisLabelMode,z=i.dependentInfo;n=i.majorTMNumber===r.z?_:k(0,_-2),z&&z.count&&!z.limit&&z.numDivLines!==r.z&&(n=_=z.numDivLines,P=!1),o=n+1,e===r.z&&t===r.z&&(e=0,t=1,R=!1),t===e&&0===t&&(t=1,R=!1),("categories"===N||"mixed"===N)&&(R=!1),R?(l=E(j(A(t))/F),c=L(10,s=k(E(j(A(e))/F),l)),2>A(t)/c&&2>A(e)/c&&(c=L(10,--s)),b=L(10,m=E(j(t-e)/F)),0<t-e&&10<=c/b&&(c=b,s=m),g=(E(t/c)+1)*c,h=0>e?(E(A(e/c))+1)*c*-1:D?0>(h=E(A(e/c)-1)*c)?0:h:0,!D&&0>=t&&(g=0),p=!(!I&&0!==I),u=!(!T&&0!==T),!i.freezeLimit&&(!1===p||!0===p&&+I<t&&t-+I>M?(t=g,p=!1):t=+I,!1===u||!0===u&&+T>e&&+T-e>M?(e=h,u=!1):e=+T)):(p=!(!I&&0!==I),u=!(!T&&0!==T),!0===p&&+I>=t?t=+I:p=!1,!0===u&&+T<=e?e=+T:u=!1),a.setDomain([e,t]),P&&!i.freezeLimit?p||u?(y=function(e,t,a,i,n,o){var l=Math.abs;let s,c,d,g,h,p,u,m,b,f,v,x,C=e,O=Math.ceil(a*(1-i)),y=Math.floor(a*(1+i)),S=[],w=-1,L=a=>(e=>{let t,a,i,n=[10,5,2,1],o=n.length;for(t=0;t<o;++t)if(0==(a=e%n[t])%1){i=!0;break}return i})(s=(t-e)/(a+1))?a:r.z;for(;!(f&&v||(++w,x=a+w,x>=y&&(v=!0),g=L(x),g)||(x=a-w,x<=O&&(f=!0),g=L(x),g)););for(0>e&&0<t&&n&&(d=!0),c=0;c<g;c++)d&&0>C&&0<C+s&&(S.push(0),h=!0),S.push(C+=s);return g===r.z&&n&&(1<(u=(S=o.ticks(a)).length)?(p=.2*(s=l(S[0]-S[1])),b=S[u-1],l(e-(m=S[0]))<=p&&0!==m&&S.shift(),l(t-b)<=p&&0!==b&&S.pop(),(0===m||0===b)&&(h=!0)):0===S[0]&&(h=!0)),d&&!h&&-1===S.indexOf(0)&&(0>e&&0<S[0]?S=[0].concat(S):0<t&&0>S[S.length-1]?S.push(0):S=[0],h=!0),{output:S,interval:s,isZeroTickForced:h}}(e,t,n,V=(e=>100<=e?.2:1>=e?0:Pa(e)/100)(n),i.forceZeroTick,a),A((n-(S=(f=y.output).length)+((w=y.isZeroTickForced)?1:0))/n)>V?d=(t-e)/o:(d=0===S||1===S&&w?t-e:y.interval,i.isZeroTickForced=w,i.ticks=[e].concat(f,t),G=!1)):(i.ticks=n?a.nice(o).ticks(o):a.getDomain(),d=A(i.ticks[1]-i.ticks[0]),G=!1):p||u||i.freezeLimit?d=(t-e)/o:([v,x]=a.nice(o).getDomain(),((x=v+(d=function(e){if(1>=e)return 1;let t=[],a=Math.ceil(e);return t[2]=a%2,t[5]=a%5,t[10]=a%10,Object(r.Ya)(t)+a}(c=(x-v)/o))*o)-t)/t>V||(v-e)/e>V?(a.setDomain([e,t]),d=(t-e)/o):a.setDomain([e=v,t=x])),G&&(0>e&&0<t&&i.forceZeroTick?(0===(O=(C=ma(e,0,d))[C.length-1]+d)?O+=d:i.isZeroTickForced=!0,i.ticks=C.concat(0,ma(O,t,d),t)):i.ticks=ma(e,t,d).concat(t)),[e,t]=a.getDomain(),i._allTicks=i.ticks.slice(),B.tickInterval=d,B.min=e,B.max=t};let Da;class Ba extends ua{constructor(){super(),this.config.scale=new Ia}getName(){return"numeric"}generateTicks(){var e=Math.abs;let t,a,i,n=this.getScale(),o=this.config,r=o.numDivLines+1,[l,s]=n.getDomain(),c=o.axisRange,{min:d,max:g}=c,h=o.dataLimit;return l===d&&s===g?(_a(h.min,h.max,n,o),o.ticks):(a=e((t=n.ticks(r))[1]-t[0]),l===d&&-1===t.indexOf(d)&&t.unshift(d),s===g&&-1===t.indexOf(g)&&t.push(g),(i=e(d%a))&&(d-=i),(i=e(g%a))&&(g-=i),o._allTicks=ma(d,g,a).concat(g),c.tickInterval=a,t)}setTickValues(e){this.config.userTicks=e||[],this.config.tickValues={tickValue:[]}}_parseTickValues(e){var t,a,i,n,o=this.getFromEnv("chart"),l=this.config,s=e&&e.length,c=0;for(l.tickValues={},t=l.tickValues.tickValue=[],i=0;i<s;i+=1)if(n=+(a=Object(r.N)({},e[i])).x,!a.vline){if($t(a,o),!n&&0!==n)continue;a.x=n,l.irregularCatAxis=!0,t.push(a),t[c].label=Object(r.Pa)(t[c].label),c+=1}l.oriCatLen=c}calculateTicksOnLabelMode(){var e,t,a,i,n,o,l,s=this,c=s.config,d=c.xAxisLabelMode,g=Object.assign([],c.userTicks),h=s.getFromEnv("number-formatter");if("mixed"===d||"auto"===d){if(t=[],e=h.xAxis,"mixed"===d)for(a=0,n=g.length;a<n;a+=1)t[g[a].x||g[a].y||a]=!0;else g=[];for(l=s.getAxisConfig(),o=c.ticks,i=0;i<o.length;++i)t[a=o[i]]||g.push({label:r.b+e.call(h,a),x:a,showverticalline:0===a?l.showZeroPlane:1,isNumeric:!0,linecolor:0===a?l.zeroPlaneColor:l.divLineColor,linealpha:0===a?l.zeroPlaneAlpha:l.divLineAlpha,linethickness:0===a?l.zeroPlaneThickness:l.divLineThickness,linedashed:l.divLineIsDashed,linedashLen:l.divLineDashLen,linedashgap:l.divLineDashGap})}s._parseTickValues(g)}getInterval(){return this.config.axisRange.tickInterval}_setAxisRange(e){var t,a,i=e.min,n=e.max,o=this.config,l=o.axisRange,s=o.dataLimit,c=o.dependentInfo;if(!(i>n))if((s.min!==i||s.max!==n)&&(a=!0),o.visibleMin===Da||o.setPadding||a){if([i,n]=Object(r.O)([i,n,s.min,s.max]),s.min=i,s.max=n,this.fireEvent("dataLimitSet",Object.assign({},s)),c){if(c.limit){if(!(t=c.dataLimit))return;[i,n]=Object(r.O)([i,n,t.min,t.max]),o.isDataLimitSet=!0}if(c.count&&c.numDivLines===Da)return}_a(i,n,this.getScale(),o),this.fireEvent("divlinesSet",o.ticks.length-(o.isZeroTickForced?3:2)),o.tickValues&&this.calculateTicksOnLabelMode(),this.setVisibleConfig(l.min,l.max)}else o.setPadding=!1}}Ba.prototype.setDataLimit=function(e,t){var a,i,n,o,l=this,s=l.config,c=l.getFromEnv("dataSource").categories,d=c&&c[0]&&c[0].category,g=s.startPad||0,h=s.endPad||0,p=s.xAxisLabelMode;("categories"===p||"mixed"===p)&&([a,i]=Object(r.O)(d,e=>+e.x)),[n,o]=l.getTrendLineLimits(),[t,e]=Object(r.O)([n,o,a,i,t,e],e=>+e),s.originalMax=e,s.originalMin=t,e=s.isPercent?100:e+h,l._setAxisRange({min:t=s.isPercent?0:t-g,max:e}),s.axisRange.tickInterval!==r.z&&l._adjustNumberFormatter(s.axisRange.tickInterval)};var Ma=Ba;class Ra extends wa{constructor(){super(Sa,Ht)}copy(){return ya(this,new Ra)}}var Va=Ra,Ga="none",Na="true",za="1",Wa=r.Ua.POSITION_START,Ha=r.Ua.POSITION_MIDDLE,Qa=r.Ua.POSITION_TOP,Ya=r.Ua.POSITION_BOTTOM,Ka=r.Ua.POSITION_END,Xa={wrtVisible:!0};class Za extends ua{constructor(){super(),this.config.scale=new Va}getName(){return"category"}getCategoryFromId(e){var t=this.config.tickValues;return(t&&t.tickIdMap)[e]||{}}generateTicks(){let e=this.getScale(),t=this.config,a=e.getDomain(),i=t.categoryNumDivLines+1,n=(a[1]-a[0])/i,o=t.axisRange,{min:r,max:l}=o,s=(l-r)/i;return t._allTicks=ma(r,l,s).concat(l),o.tickInterval=s,ma(a[0],a[1],n).concat(a[1])}_parseCategoryVline(){var e,t,a,i,n,o,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L,F,j,k,A,E,T,I=this,P=I.config,_=P.axisRange,D=_.min,B=_.max,M=I.getFromEnv("chart").config,R=M.style||{},V=P.isVertical,G={fontFamily:M.style.inCanfontFamily,fontSize:M.style.inCanfontSize,color:M.style.inCancolor,lineHeight:M.style.inCanLineHeight};for(a=(t=P.tickValues.vline).length,A=1!==I.getZoom(),E=I.getVisibleConfig(),o=0;o<a;o++)i=t[o],n=Object(r.Pa)(i.label),s=!!Object(r.Sa)(i.showlabelborder,P.showVLineLabelBorder,1),e=!!Object(r.Sa)(i.showlabelbackground,1),"center"===(c=Object(r.Qa)(i.labelhalign,V?Wa:Ha))?c=Ha:"left"===c?c=Wa:"right"===c&&(c=Ka),(d=Object(r.Qa)(i.labelvalign,V?Ha:Ya).toLowerCase())===Ha?d=Ha:d===Qa?d=Ya:d===Ya&&(d=Qa),g=Object(r.Sa)(i.labelposition,0),h=Object(r.Sa)(i.lineposition,.5),p=Object(r.Sa)(i.showvlines,P.showVLines,1),u=Object(r.Sa)(i.alpha,P.vLineAlpha,80),m=Object(r.Qa)(i.color,P.vLineColor).replace(/^#?/,"#"),b=e?Object(r.Qa)(i.labelbgcolor,P.vLineLabelBgColor,"333333").replace(/^#?/,"#"):r.b,L=Object(r.Qa)(i.labelcolor,P.vLineLabelColor,i.color,R.inCancolor,P.vLineColor).replace(/^#?/,"#"),f=Object(r.Sa)(i.thickness,P.vLineThickness,1),j=2,v=!!+Object(r.Qa)(i.dashed,0),x=Object(r.Sa)(i.dashlen,5),O=Object(r.Sa)(i.dashgap,2),C=G.fontSize,C=parseInt(C.replace(/px/i,""),10),F=Object(r.Sa)(i.rotatelabel,P.rotateVLineLabels)?270:0,h=0>h||1<h?.5:h,g=0>g||1<g?0:g,m=Object(l.c)(m,p?u:"0"),k=I._getVlinePos(i.animate&&!V?i.startIndex+1:i.startIndex,h)-(i.animate?i.leftShift:0),(!A||!(k<E.minValue||k>E.maxValue))&&(k<D||k>B||(y={opacity:1,stroke:m,"stroke-width":f,"stroke-dasharray":v?Object(r.S)(x,O):Ga},w={opacity:1,text:n,"text-anchor":c,"vertical-align":d,"text-bound":[]},S={fontSize:G.fontSize,fontFamily:G.fontFamily,lineHeight:G.lineHeight},T={from:k,layer:Object(r.Sa)(i.showontop,P.showVLinesOnTop,0)?3:2,attr:y,type:"line",startIndex:i.startIndex,linePosition:h},n&&(w["text-bound"]=[b,p&&s?m:r.b,p&&s?1:0,j,r.z,p&&s?"solid":r.b],w.fill=p?L:m,T.text={label:n,attr:w,layer:4,labelRotation:F,labelPosition:g,css:S}),I.setReferenceInfo(T),I.config.parsedVlineInfo.push(T)))}_parseReferenceVisuals(){super._parseReferenceVisuals(),this.config.drawPlotlines&&this._parseCategoryVline()}categoryInsert(e,t,a){var i,n,o,l,s,c=this.config,d=c.axisRange.min,g=t.length,h=c.endPad||0;for(i=c.tickValues.tickValue,o=c.tickValues.tickIdMap,n=c.tickValues.vline,l=0;l<g;l+=1)(s=Object(r.N)({},t[l])).vline===Na||!0===s.vline||1===s.vline||s.vline===za?(s.startIndex=e-2,n.push(s)):(s.id&&(o[s.id]={tickObj:s,i:e}),i.splice(e,0,s),e+=1);a&&this._setAxisRange({min:d,max:+Object(r.cb)(i.length-1+h,10)})}categoryDelete(e,t,a){var i,n,o,r=this,l=r.config,s=l.axisRange,c=s.min;for(n=0,o=(i=l.tickValues.vline).length;n<o;n++)i[n].animate=!0,i[n].leftShift=t;l.tickValues.tickValue.splice(e,t),r._shiftVline(e,t,"left"),a&&r._setAxisRange({min:c,max:s.max-t})}_shiftVline(e,t,a){var i,n,o=this.config,r=o.tickValues.vline,l=o.tickValues.tickValue.length,s=r.length;for(i=0;i<s;i+=1)(n=r[i]).startIndex>=e&&("right"===a?n.startIndex+=t:n.startIndex-=t,(0>n.startIndex||n.startIndex>=l)&&(r.splice(i,1),s-=1,i-=1))}categoryTranslate(e){var t,a=this,i=a.config,n=a.getPixel(1,Xa)-a.getPixel(0,Xa);e=(e||0)*n,i.isReverse&&(e=-e),t=["T",e,",","0"].join(""),a.realTimeTranslatableGroups=[{group:i.axisContainer,translationStr:t},{group:i.axisTrendLabelContainer,translationStr:t}]}updateTicksValues(e,t){var a,i,n,o,r,l,s,c=this,d=c.config,g=d.parsedVlineInfo;if((a=d.tickValues.tickValue)[e])for(s in t)t.hasOwnProperty(s)&&("x"===s&&(i=!0),a[e][s]=t[s]);if(i)for(o=0,r=g.length;o<r;++o)if((l=(n=g[o]).startIndex)===e)n.from=c._getVlinePos(l,n.linePosition);else if(l+1===e){n.from=c._getVlinePos(l,n.linePosition);break}}_getVlinePos(e,t){let a,i,n,o=this.getTickValues(),l=this.config,{min:s,max:c}=this.getLimit(),d=o[e],g=o[e+1];return d?!g&&(a=o[0]&&o[0].x?c:l.oriCatLen-1,n=!0):(a=o[0]&&o[0].x?s:-1,n=!0),i=n?t:((a=Object(r.Sa)(d.x,d.y,e))-Object(r.Sa)(g.x,g.y,e+1))*t,a+Math.abs(i)}getInterval(){if(this)return 1}_setAxisRange(e){var t,a,i=e.min,n=e.max,o=this.config,l=o.axisRange,s=o.periodLength,c=o.dataLimit;i>n||((c.max!==n||c.min!==i)&&(t=!0),o.visibleMin===r.z||o.setPadding||t?(c.max=n,c.min=i,s&&(o.categoryNumDivLines=(n-i)/s-1),a=(n-i)/(o.categoryNumDivLines+1),this.getScale().setDomain([i,n]),o.ticks=ma(i,n,a).concat(n),o._allTicks=o.ticks.slice(),l.min=i,l.max=n,l.tickInterval=a,this.setVisibleConfig(l.min,l.max)):o.setPadding=!1)}}Za.prototype.setTickValues=function(e){var t,a,i=e&&e.length,n=this.config,o=n.startPad||0,l=this.getFromEnv("chart"),s=0,c=n.tickValues={},d=c.tickValue=[],g=c.vline=[],h=c.tickIdMap={},p=n.endPad||0;for(n.hasCategory=1,t=0;t<i;t+=1)(a=Object(r.N)({},e[t])).vline?(a.startIndex=d.length-1,g.push(a)):(a.id&&(h[a.id.toLowerCase()]={tickObj:a,index:s}),(n.mapTickValuesById&&a.id||!n.mapTickValuesById)&&($t(a,l),d.push(a),d[s].label=Object(r.Pa)(d[s].label),s+=1));n.oriCatLen=s,this._setAxisRange({max:+Object(r.cb)(s-1+p,10),min:+Object(r.cb)(0-o,10),tickInterval:+Object(r.cb)(1,10)})};var Ua=Za,$a=function(e){let t,a,i=e.getChildren("canvas")[0],n=i.getChildren("axisRefVisualCartesian")[0],o={zoomable:!0,pannable:!0},l=e._feedAxesRawData(),s=e=>{let t=e.sender;n.addexplicitDrawItems(t.getId(),t),n.asyncDraw()};Object(r.G)(e,Ma,"yAxis",1,l.yAxisConf),Object(r.G)(e,Ua,"xAxis",1,l.xAxisConf),t=e.getChildren("yAxis")[0],a=e.getChildren("xAxis")[0],t.setLinkedItem("canvas",i),a.setLinkedItem("canvas",i),n.setLinkedItem(t.getId(),t),n.setLinkedItem(a.getId(),a),n.addExtEventListener("visiblerangeset",s,a),n.addExtEventListener("visiblerangeset",s,t),i.attachAxis(a,!1,e.zoomX?o:{}),i.attachAxis(t,!0,e.zoomY?o:{}),e._setCategories()},qa={"initial.axisRefVisuals.axisRefVisualsCartesian":zt,"update.axisRefVisuals.axisRefVisualsCartesian":Nt};Object(s.a)({name:"cartesianAxisRefAnimation",type:"animationRule",extension:qa});var Ja=class extends o.a{constructor(){super(),this.config.map={},this.config.explicitDrawItems={}}getType(){return"axisRefVisuals"}getName(){return"axisRefVisualsCartesian"}draw(){let e,t,a,i,n,o,r,l=this.getDrawingInfo(),s=this.getexplicitDrawItems(),c=this.config,d=c.map,g={},h=this.getLinkedParent(),p=h.getAxes(),u=[],m=h.getChildContainer("axisReferenceVisualsFloor"),b=h.getChildContainer("axisReferenceVisualsBottom"),f=h.getChildContainer("axisReferenceVisualsMiddle"),v=h.getChildContainer("axisReferenceVisualsTop"),x=h.getChildContainer("axisReferenceVisualsCeil");for(h.config.trendlines=[],h.config.vtrendlines=[],t=0;t<p.length;++t)u.push(p[t].axis.getId());for(i in c.containers=[m,b,f,v,x],l)if(l.hasOwnProperty(i)&&(n=this.getLinkedItem(i),0<=u.indexOf(n.getId())))for((o=g[i])||(o=g[i]=[]),e=l[i],t=0;t<e.length;++t)"band"===(a=(r=e[t]).type)?o.push.apply(o,this.createBand(r,n)):"line"===a&&o.push.apply(o,this.createLine(r,n));if(c.isSmartDrawing)for(i in d)d.hasOwnProperty(i)&&!s[i]&&this.getLinkedItem(i)&&(g[i]=d[i]);this.resetexplicitDrawItems(),this.removeExtraElements(g)}getDrawingInfo(){let e,t,a={},i=this.getexplicitDrawItems(),n=this.isCanvasChnaged(),o=(this.config.isSmartDrawing=Object.keys(i).length&&!n)?i:this.getLinkedItem();for(e in o)o.hasOwnProperty(e)&&(a[e]=(t=o[e]).getReferenceInfo());return a}createLine(e,t){let a,i=this.config.containers,n=i[e.layer],o=t.config,r=this.getFromEnv("paper"),l=this.getFromEnv("chart").getName(),s=this.getLinkedParent(),c=this.getFromEnv("animationManager"),d=this.getFromEnv("toolTipController"),g=s.config,h=g.trendlines,p=o.isVertical,u=g.canvasLeft,m=g.canvasTop,b=m+g.canvasHeight,f=u+g.canvasWidth,v=Ht(u,f),x=Ht(m,b),C=t.getScale(),O=C.getRangeValue(e.from),y=void 0!==e.to&&C.getRangeValue(e.to)||O,S=p?["M",u,O,"L",f,y]:["M",O,b,"L",y,m],w=e.attr,L=e.text,F=L&&L.attr,j=L&&L.labelPosition||0,k=t.getId(),A=e.id||e.from,E=k+"_"+A,T=k+"_"+A+L,I=this.getGraphicalElement(E),P=this.getGraphicalElement(T),_=e.handlers,D={start:e.from,end:e.to};for(a in w.path=na(S,(e=>null!==e)(w["stroke-width"])?w["stroke-width"]:1).path.toString(),/trend/.test(e.id)&&h.push({x1:S[1],y1:S[2],x2:S[4],y2:S[5],tooltext:e.toolText,tolerance:5>w["stroke-width"]?2.5:w["stroke-width"]/2}),w["stroke-linecap"]="butt",(I=this.addGraphicalElement(E,c.setAnimation({container:n,el:I||"path",attr:w,component:this,axis:t,data:{value:D,path:S},label:"path"}))).data("data",D),L&&(p?(F.x=v(j),F.y=O):(F.x=O,F.y=x(j)),F.text=L.label,F.transform=r.getSuggestiveRotation(L.labelRotation,F.x,F.y),(P=this.addGraphicalElement(T,c.setAnimation({container:i[L.layer],el:P||"text",attr:F,component:this,axis:t,data:{value:e.from},label:"text",css:L.css}))).data("data",e.from)),/zoomscatter/i.test(l)||(e.toolText?d.enableToolTip(I,e.toolText):d.disableToolTip(I)),_)_.hasOwnProperty(a)&&(I.on(a,_[a].bind(t)),P.on(a,_[a].bind(t)));return L?[E,T]:[E]}createBand(e,t){var a=Math.min;let i,n,o,r,l,s,c,d=this.config.containers[e.layer],g=t.config,h=this.getFromEnv("animationManager"),p=this.getFromEnv("toolTipController"),u=this.getLinkedParent(),m=this.getFromEnv("chart").getName(),b=u.config,f=g.isVertical,v=b.canvasLeft,x=b.canvasTop,C=x+b.canvasHeight,O=v+b.canvasWidth,y=t.getScale(),S=e.from,w=void 0===e.to?S:e.to,L=t.getId(),F=e.attr,j=e.handlers;for(s in i="canvasStart"===S?f?x:v:y.getRangeValue(S),n="canvasEnd"===w?f?C:O:y.getRangeValue(w),c=Math.abs(i-n),f?(F.x=v,F.y=a(i,n),F.width=O-v,F.height=c):(F.x=a(i,n),F.y=x,F.width=c,F.height=C-x),l=this.getGraphicalElement(r=L+"_"+(o=e.id||F.x+"_"+F.y)),/trend/.test(e.id)&&u.config.vtrendlines.push({x1:F.x,y1:F.y,x2:F.x+F.width,y2:F.y+F.height,tooltext:e.toolText,tolerance:5>F["stroke-width"]?2.5:F["stroke-width"]/2,isTrendZone:1}),l=this.addGraphicalElement(r,h.setAnimation({container:d,el:l||"rect",attr:F,component:this,label:"rect"})),/zoomscatter/i.test(m)||(e.toolText?p.enableToolTip(l,e.toolText):p.disableToolTip(l)),j)j.hasOwnProperty(s)&&l.on(s,j[s].bind(t));return[r]}removeExtraElements(e){let t,a,i,n,o,r,l=this.config.map;for(t in l)if(e[t])for(n=(r=Qt(l[t],e[t])).length,i=0;i<n;++i)(o=this.getGraphicalElement(r[i]))&&this.removeGraphicalElement(o);else for(n=(a=l[t]).length,i=0;i<n;++i)(o=this.getGraphicalElement(a[i]))&&this.removeGraphicalElement(o);this.config.map=e}setLinkedItem(e,t){super.setLinkedItem(e,t);let a=this;"axis"===t.getType()&&a.addExtEventListener("beforeremove",e=>{a.removeLinkedItem(e.sender.getId()),a.asyncDraw()},t)}addexplicitDrawItems(e,t){this.config.explicitDrawItems[e]=t}getexplicitDrawItems(){return this.config.explicitDrawItems}resetexplicitDrawItems(){this.config.explicitDrawItems={}}isCanvasChnaged(){let e,t=this.getLinkedParent().getEffectiveDimensions(),a=this.config;return e=JSON.stringify(t)!==JSON.stringify(a.canvasDim),a.canvasDim=t,e}},ei=function(e){let t,a=e._parseCanvasCosmetics&&e._parseCanvasCosmetics();if(Object(r.G)(e,u,"canvas",e.config.showVolumeChart?2:1),t=e.getChildren("canvas"))for(let i=0,n=t.length;i<n;i++)t[i].configure(a),Object(r.G)(t[i],Ja,"axisRefVisualCartesian")},ti=function(e,t){return e="comp_"+e,t&&(this.config[e]=t),(t||!this.config[e])&&this||this.config[e]},ai=function(e,t){return["T",e,",",t].join("")},ii=function(e){return-e.getTranslation()},ni=function(e,t){return{h:e,v:t}},oi=["columnShadowVcanvasGroup","columnVcanvasGroup","areaShadowVcanvasGroup","areaVcanvasGroup","lineShadowVcanvasGroup","lineVcanvasGroup","defaultShadowVcanvasGroup","defaultVcanvasGroup","sumLabelsLayer","vcanvasLabelGroup"],ri=function(e,t,a){return a.getFromEnv("animationManager").setAnimation({el:"group",attr:{name:e},container:t,state:"appearing",component:a,label:"group"})},li=e=>!/category/i.test(e.getName()),si=class extends o.a{getName(){return"virtualCanvas"}getType(){return"canvas"}xAxis(e){var t=ti.call(this,"xAxis",e);return e&&this.listenToAxis(e),e&&this.addToEnv("xAxis",e),t}yAxis(e){var t=ti.call(this,"yAxis",e);return e&&this.listenToAxis(e),e&&this.addToEnv("yAxis",e),t}paper(e){return ti.call(this,"paper",e)}canvas(e){return ti.call(this,"canvas",e)}configure(e={}){let t=this.getFromEnv("chartConfig"),a=this.config;Object.assign(a,e),a.transposeAxis=t.transposeAxis,this._mapChildren(e=>{e.getState("removed")||"dataset"===e.getType()||e.configure&&e.configure()})}getHorizontalVerticalAxes(){var e=this.xAxis(),t=this.yAxis();return t.config.isVertical?ni(e,t):ni(t,e)}preDraw(){this._mapChildren(e=>{e.getState("removed")||"dataset"===e.getType()||e.setVisibility&&e.setVisibility()});let e,t=this.config.transposeAxis,a=this.getFromEnv("chart"),{left:i,right:n,top:o,bottom:r}=this.getAxisValuePadding();(e=this.getDataLimits(!t)).min!==1/0||e.max!==-1/0?(this._setYAxisLimits(e.min,e.max),a._storeIntialLimit&&a._storeIntialLimit(e.min,e.max)):(this._setYAxisLimits(void 0,void 0),a._storeIntialLimit&&a._storeIntialLimit(void 0,void 0)),this._setXAxisLimits(e.xMin,e.xMax),this._setAxisValuePadding(i,n,o,r)}childChanged(e={}){let t,a=this,i=a.config,n=i.transposeAxis;!1!==e.dataLimitChanged&&(t=a.getDataLimits(!n),n&&(t.min!==i.range.min||t.max!==i.range.max)&&(i.range.min=t.min,i.range.max=t.max,this.getFromEnv("yAxis").resetStoredLimits(),t.min!==1/0||t.max!==-1/0?a._setYAxisLimits(t.min,t.max):a._setYAxisLimits(void 0,void 0)),(t.xMin!==i.range.xMin||t.xMax!==i.range.xMax)&&(i.range.xMin=t.xMin,i.range.xMax=t.xMax,this.getFromEnv("xAxis").resetStoredLimits(),a._setXAxisLimits(t.xMin,t.xMax))),a.asyncDraw()}_setAxisValuePadding(e,t,a,i){this.getFromEnv("xAxis").setAxisPadding(e,t),a&&i&&this.getFromEnv("yAxis").setAxisPadding(e,t)}getAxisValuePadding(){var e=Math.max;let t={},a=-1/0,i=-1/0,n=-1/0,o=-1/0;return this._mapChildren(r=>{r.getState("removed")||(t=r.getAxisValuePadding&&r.getAxisValuePadding()||{},a=e(a,t.left||-1/0),i=e(i,t.right||-1/0),n=e(n,t.top||-1/0),o=e(o,t.bottom||-1/0))}),a===-1/0&&(a=0),i===-1/0&&(i=0),n===-1/0&&(n=0),o===-1/0&&(o=0),this.config.padding||(this.config.padding={},this.config.padding.left=a,this.config.padding.right=i,this.config.padding.top=n,this.config.padding.bottom=o),{left:a,right:i,top:n,bottom:o}}_setYAxisLimits(e,t){var a=this.getFromEnv("yAxis");li(a)&&a.setDataLimit(t,e)}_setXAxisLimits(e,t){let a=this.getFromEnv("xAxis");li(a)&&(t!==-1/0||e!==1/0?a.setDataLimit(t,e):a.setDataLimit(void 0,void 0))}getDataLimits(e){var t,a,i,n=Math.max,o=this.getFromEnv("chart"),l=-1/0,s=l,c=1/0,d=1/0,g=l,h=function(e){var t=Math.min;a=Object(r.Qa)(e.xMax,l),i=Object(r.Qa)(e.xMin,1/0),s=n(s,e.max),c=t(c,e.min),g=n(g,a),d=t(d,i)};return this._mapChildren(a=>{a.getDataLimits&&!a.getState("removed")&&(e||a.getState("visible"))&&(t=a.getDataLimits(e),h(t))}),this.config.range||(this.config.range={},this.config.range.min=c,this.config.range.max=s,this.config.range.xMin=d,this.config.range.xMax=g),o.config.yMax=s,o.config.yMin=c,{min:c,max:s,xMin:d,xMax:g}}listenToAxis(e){var t,a=this;t=function(){a.getState("drawn")&&a.asyncDraw()},this.getState("visiblerangeset"+e.getId())||(this.setState("visiblerangeset"+e.getId(),!0),a.addExtEventListener("visiblerangeset",t,e))}createContainer(){var e=this,t=e.getLinkedParent();e.getChildContainer("columnShadowVcanvasGroup")||e.addChildContainer("columnShadowVcanvasGroup",ri("vcanvas-column-shadow",t.getChildContainer("columnShadowGroup"),e)),e.getChildContainer("columnVcanvasGroup")||e.addChildContainer("columnVcanvasGroup",ri("vcanvas-column-plot",t.getChildContainer("columnGroup"),e)),e.getChildContainer("areaShadowVcanvasGroup")||e.addChildContainer("areaShadowVcanvasGroup",ri("vcanvas-area-shadow",t.getChildContainer("areaShadowGroup"),e)),e.getChildContainer("areaVcanvasGroup")||e.addChildContainer("areaVcanvasGroup",ri("vcanvas-area-plot",t.getChildContainer("areaGroup"),e)),e.getChildContainer("lineShadowVcanvasGroup")||e.addChildContainer("lineShadowVcanvasGroup",ri("vcanvas-line-shadow",t.getChildContainer("lineShadowGroup"),e)),e.getChildContainer("lineVcanvasGroup")||e.addChildContainer("lineVcanvasGroup",ri("vcanvas-line-plot",t.getChildContainer("lineGroup"),e)),e.getChildContainer("defaultShadowVcanvasGroup")||e.addChildContainer("defaultShadowVcanvasGroup",ri("vcanvas-default-shadow",t.getChildContainer("defaultShadowGroup"),e)),e.getChildContainer("defaultVcanvasGroup")||e.addChildContainer("defaultVcanvasGroup",ri("vcanvas-default-plot",t.getChildContainer("defaultGroup"),e)),e.getChildContainer("vcanvasLabelGroup")||e.addChildContainer("vcanvasLabelGroup",ri("vcanvas-label",t.getChildContainer("datalabelsGroup"),e)),e.getChildContainer("columnTrendGroup")||e.addChildContainer("columnTrendGroup",ri("columnTrendGroup",e.getChildContainer("columnVcanvasGroup"),e)),e.getChildContainer("sumLabelsLayer")||e.addChildContainer("sumLabelsLayer",ri("vcanvas-sumLabelsLayer",t.getChildContainer("sumLabelsLayer"),e))}applyTranslation(){var e=this,t=function(e){return ai(ii(e.h),ii(e.v))}(e.getHorizontalVerticalAxes()),a=function(a){(a=e.getChildContainer(a)).attr({transform:t})};e.createContainer(),oi.forEach(function(e){a(e)})}draw(){this.applyTranslation(),this.setState("drawn",!0)}getCanvasPadding(){var e,t,a={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};return this._mapChildren(i=>{if(i.getCanvasPadding&&!i.getState("removed"))for(t in e=i.getCanvasPadding()||{})e.hasOwnProperty(t)&&(a[t]=Math.max(e[t],a[t]))}),a}rtShiftAnim(e,t){var a,i=this,n=i.getFromEnv("xAxis"),o=i.getFromEnv("yAxis"),r=n.getPixel(1)-n.getPixel(0),l=o.getPixel(1)-o.getPixel(0),s=i.getFromEnv("animationManager");a=ai(e=(e||0)*r,t=(t||0)*l),oi.forEach(function(e){i.getChildContainer(e).attr({transform:a}),s.setAnimation({el:i.getChildContainer(e),attrs:{transform:"T0,0"}})})}},ci=function(e){var t,a,i,n,o,l,s,c=e.getChildren("canvas"),d=c.length,g=[],h=[];for(n=0;n<d;n++,g=[],h=[])if(!(t=c[n]).getState("removed")){for(i=t.getFromEnv("xAxis"),l=0;l<(i&&i.length);l++)i[l].getState("removed")||g.push(i[l]);for(i=t.getFromEnv("yAxis"),l=0;l<(i&&i.length);l++)i[l].getState("removed")||h.push(i[l]);for(Object(r.G)(t,si,"vCanvas",g.length*h.length),a=t.getChildren("vCanvas"),o=0,l=0;o<(g&&g.length);o++)for(s=0;s<(h&&h.length);s++,l++)a[l].xAxis(g[o]).yAxis(h[s]).canvas(t),a[l].configure(),a[l].addToEnv("vCanvas",a[l])}},di=window,gi=di.document,hi="ontouchstart"in di,pi=function(e){let t;e.config.enablemousetracking?(Object(r.G)(e,class extends o.a{constructor(){var e;super(),this.pIndex=1,this.handler=(e=this,function(t){e.config.lastTouchStartEvent=t.originalEvent,t.originalEvent&&e.getFromEnv("chart")._mouseEvtHandler(t,e.config.evtData)}),this.globalHandler=function(e){return function(t){var a,i,n=e.getFromEnv("chart");("touchstart"===t.type||"mousedown"===t.type)&&(a=n.getChildren("canvas")[0],i=Object(r.W)(e.getFromEnv("chart-container"),t.originalEvent,n),e.config.lastTouchStartEvent===t.originalEvent||a&&a.isWithinCanvas(i.chartX,i.chartY))||(t.originalEvent&&n._mouseEvtHandler(t,e.config.evtData),e._removeDocEvents(),e.globalHandlerAttached=!1)}}(this),this.eventsList=["mousedown","touchstart","mouseup","touchend","mousemove","touchmove","click","mouseover"],this.config={},this.config.evtData={}}getMouseEvents(e,t,a){var i=this,n=i._lastDatasetIndex,o=i._lastPointIndex,l=e.type,s={fireOut:!1,events:[]};if(i.hasTouchEvent&&("mousedown"===l||"mouseout"===l))return s;switch(l){case"click":s.events.push("click");break;case"touchmove":case"mousemove":n===t&&o===a?(clearTimeout(i.mouseoutTimer),s.events.push("mousemove")):(s.events.push("mouseover"),s.fireOut=!0);break;case"touchstart":i.hasTouchEvent=!0;case"mousedown":i.globalHandlerAttached||(i.globalHandlerAttached=!0,hi?i.eventOutput=Se.a.listen(gi,"touchstart",i.globalHandler):r.Ia&&(i.eventOutput=Se.a.listen(gi,"mousedown",i.globalHandler))),n!==t||o!==a?(s.fireOut=!0,s.events.push("mouseover")):hi&&s.events.push("mousemove"),s.events.push("mousedown");break;case"mouseover":n===t&&o===a?clearTimeout(i.mouseoutTimer):(s.fireOut=!0,s.events.push("mouseover"));break;case"touchend":case"mouseup":i.hasTouchEvent=!1,s.events.push("mouseup");break;case"mouseout":if(r.Ia&&!e.originalEvent.relatedTarget)return s;s.fireOut=!0}return s}addEvents(){var e,t,a,i=this,n=i.getFromEnv("chart"),o=n.getChildren("canvas"),r=i.config.evtData,l=i.eventsList;for(n.config.enableMouseOutEvent&&l.push("mouseout"),i._removeListners(),r.chart=n,r.mouseTracker=i,t=0;t<o.length;t++)for(a in e=o[t],l)e.addEventListener(l[a],i.handler)}_removeListners(){var e,t,a,i=this,n=i.getFromEnv("chart").getChildren("canvas"),o=i.eventsList;for(a=0;a<n.length;a++)for(t in e=n[a],o)e.removeEventListener(o[t],i.handler);i._removeDocEvents()}_removeDocEvents(){this.eventOutput&&this.eventOutput.unlisten(),this.eventOutput=r.z}_dispose(){this._removeListners(),super._dispose()}},"mouseTracker"),t=e.getChildren("mouseTracker")[0],!e.config.mouseTrackerEventAdded&&(t.addEvents(),e.config.mouseTrackerEventAdded=!0)):((t=e.getChildren("mouseTracker")&&e.getChildren("mouseTracker")[0])&&t._removeListners(),e.config.mouseTrackerEventAdded=!1)};let ui=Math.max,mi=Math.min;var bi=function(e){let t,a,i,n,o=e.getFromEnv("dataSource").dataset,l=t=e.getChildren().canvas[0].getChildren("vCanvas")[0],s=e.config.defaultDatasetType||"";return o?((i=e.getDSGroupdef())&&(Object(r.G)(t,i,"datasetGroup_"+s,1,[o]),n=t.getChildren("datasetGroup_"+s)),n&&(l=n[0]),a=e.getDSdef(),void Object(r.K)(l,a,"dataset",o.length,o)):void e.setChartMessage()};let fi=r.Ua.POINTER,vi=function(e,t){let a=e.config,i=e.getLinkedParent().config,n=i.symbolWidth,o=Object(r.Sa)(i.padding,4),s=.5*n,c=(i.initialItemX||0)+a._legendX+o+i.symbolPadding+s,d=(i.initialItemY||0)+a._legendY-o+(a._markerYGutter||0)+i.symbolPadding+s,g=Object(l.k)(a.anchorSide),h=a.symbol=g&&g.split("_")||[],p="spoke"===h[0]?1:0;return("line"===a.type||a.drawLine)&&(s*=.6),{path:Object(r.Ta)([h[1]||2,c,d,s,a.startAngle,a.spoke||p]),cursor:t.cursor||fi,stroke:t.stroke,fill:t.fill,"stroke-width":t["stroke-width"]||.5}};Object(s.a)({name:"legendItemAnimation",type:"animationRule",extension:{"*.legendItem.legendItem":()=>({"icon.appearing":()=>[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:1}}],"background.appearing":e=>[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:e.attr.opacity}}],"icon.disappearing":()=>[{finalAttr:{opacity:0},slot:"initial"}]})}});let xi=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}],Ci=[{slot:"plot",startEnd:{start:0,end:.5}}],Oi=[{slot:"intial"}];var yi={"*.legend.legend":()=>({"legendGroup.appearing":xi,"legendGroup.updating":Ci,"legendGroup.disappearing":Oi,"scroller.appearing":xi,"scroller.updating":Ci,"scroller.disappearing":Oi})},Si=a("NamR");let wi={left:r.s,right:r.o,center:r.q},Li=Math,Fi=Li.min,ji=Li.max,ki=Li.floor,Ai=Li.ceil,Ei=r.Ua.NORMAL,Ti={fontWeight:{1:r.Ua.BOLD,0:Ei},fontStyle:{1:"italic",0:Ei},textDecoration:{1:"underline",0:r.Ua.noneStr}};Object(s.a)({name:"legendAnimation",type:"animationRule",extension:yi});var Ii=class extends o.a{constructor(){super();let e=this;e._stateCosmetics={},e._legendState=[],e.dragDraw=function(){e.draw()},e.drawScroll=function(){e.createItemGroup()},e.config.handlers=function(e){let t,a;return{dragstart:()=>{t=e.config.xL||e.config.xPos,a=e.config.yL||e.config.yPos},dragmove:i=>{let n,o,r=i.originalEvent.data[0],l=i.originalEvent.data[1],s=e.config,c=e.getFromEnv("chartConfig"),d=(s.borderWidth||0)+2;n=Fi(ji(t+r,d),c.width-s.width-d),o=Fi(ji(a+l,d),c.height-s.height-d),s.xPos=s.xL=n,s.yPos=s.yL=o,e.addJob("draw",e.dragDraw,Si.b&&Si.b.draw)}}}(e)}createItem(e){var t;return t=new class extends o.a{constructor(){super(),this._stateCosmetics={},this._legendState=[]}getName(){return"legendItem"}parseLegendCosmetics(){let e,t,a,i=this,n=this.getLinkedParent(),o=n.getLegendState(),l=i.getLegendState(),s=["default"],c={};for(s=s.concat(o,l),a=0;a<s.length;a++)e=n.getStateCosmetics(s[a]),t=i.getStateCosmetics(s[a]),e&&("function"==typeof e?c=e(c,i):Object(r.N)(c,e)),t&&("function"==typeof t?c=t(c,i):Object(r.N)(c,t));return c}getType(){return"legendItem"}configure(e){var t,a,i=this.config;for(t in e)if(e.hasOwnProperty(t))if("object"!=typeof e[t])i[t]=e[t];else{let n=i[t]?i[t]:{};for(a in e[t])n[a]=e[t][a];i[t]=n}}itemClickFn(){let e=this,t=e.getFromEnv("chart-attrib"),a=Object(r.Sa)(t.interactivelegend,1),i=e.getLinkedItem("owner");a&&i.legendInteractivity(e)}dispose(){this.removeEventListener("click",this.click),this.removeEventListener("mouseover",this.mouseover),this._dispose()}getLegendState(){return this._legendState}hasState(e){var t,a,i=this.getLegendState();for(t=0,a=i.length;t<a;t++)if(i[t]===e)return!0;return!1}setLegendState(e,t){this.hasState(e)||(t?this._legendState.push(e):this._legendState.unshift(e)),this.asyncDraw()}removeLegendState(e){var t,a,i=1;if(e)for(t=0,a=this._legendState.length;t<a&&i;t++)e===this._legendState[t]&&(this._legendState.splice(t,1),i=0);else this._legendState.length=0;this.asyncDraw()}removeStateCosmetics(e){delete this._stateCosmetics[e]}setStateCosmetics(e,t){this._stateCosmetics[e]=t}getStateCosmetics(e){return this._stateCosmetics[e]}draw(){var e,t,a,i,n,o,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L,F,j,k,A,E,T,I,P,_,D,B=this.getLinkedParent(),M=B.getFromEnv("chart").config,R=this,V=R.getFromEnv("animationManager"),G=R.config,N=B.config,z=N.legendHeight,W=N.symbolPadding,H=N.symbolWidth,Q=N.interactiveLegend,Y=N.textPadding||2,K=Object(r.Sa)(N.padding,4),X=N.itemHoverStyle,Z=B.getChildContainer("itemGroup"),U=N.drawCustomLegendIcon,$=R.hasState("hidden"),q={};a=(e=R.parseLegendCosmetics()).symbol,s=G.type,v=e.symbol.stroke||"000000",x=e.symbol.fill,t=e.symbol.lineWidth||N.lineWidth,O=G.anchorSide,y=G.drawLine,c=(N.initialItemX||0)+G._legendX+K,d=(N.initialItemY||0)+G._legendY-K,A=R.getGraphicalElement("legendItemBackground"),o=R.getGraphicalElement("legendItemText"),g=R.getGraphicalElement("legendItemLine"),p=R.getGraphicalElement("legendItemSymbol"),(Q=Object(r.Qa)(G.interactiveLegend,Q))||(e.cursor="default"),E=e.text,_=c+z+Y-2,D=d+(G._legendTestY||0),E.text=G.name,E.x=_,E.y=D,n=V.setAnimation({el:o||"text",attr:E,component:R,container:Z,label:"icon"}),o||(n=R.addGraphicalElement("legendItemText",n)),n.data("legendItem",G),T=!1,U&&!1!==G.customLegendIcon?(L=!$&&a.borderColor,F=Object(r.Qa)(a.borderAlpha),S=!$&&a.bgColor,w=Object(r.Qa)(a.bgAlpha,"100"),j=e.symbol.rawFillColor,x=$?e.symbol.fill:S||j,x=Object(l.c)(x,w),v=$?e.symbol.stroke:L||e.symbol.rawStrokeColor||j,v=Object(l.c)(v,F),u=c+W+(m=.5*H),i=d+(G._markerYGutter||0)+W+m,b="spoke"===(f=Object(l.k)(a.sides)&&Object(l.k)(a.sides).split("_")||[])[0]?1:0,I={path:Object(r.Ta)([f[1]||2,u,i,m,a.startAngle||0,b]),cursor:e.symbol.cursor||fi,stroke:v,fill:x,"stroke-width":Object(r.Sa)(a.borderThickness,1)}):"line"===s||y?(P={path:["M",c+W,i=d+(G._markerYGutter||0)+W+.5*H,"L",c+W+H,i]},T=!0,q={opacity:M.legendiconalpha||1,"stroke-width":t,stroke:v,cursor:e.cursor||fi},O&&(I=vi(R,e.symbol))):O?I=vi(R,e.symbol):"line"!==s&&(v=G.symbolStroke||v,I={path:((e,t,a,i,n)=>{var o,r,l,s,c,d,g,h,p,u,m,b=["M"];return{path:b=b.concat("column"===n||"dragColumn"===n||"column3D"===n||"realtimeColumn"===n||"errorBar2D"===n?[e,t+H,"l",0,-(l=.7*H),o=.25*H,0,0,l,"z","m",o+(r=.5*o),0,"l",0,-H,o,0,0,H,"z","m",o+r,0,"l",0,-(s=.4*H),o,0,0,s,"z"]:"bar2D"===n||"bar3D"===n?[e,t,"L",e+(r=.6*H),t,e+r,t+(l=H/4),e,t+l,"Z","M",e,t+l+(s=l/2),"L",e+H,t+l+s,e+H,t+l+s+l,e,t+2*l+s,"Z","M",e,t+2*(l+s),"L",e+(o=.3*H),t+2*(l+s),e+o,t+H,e,t+H,"Z"]:"area"===n||"area3d"===n||"areaspline"===n||"dragArea"===n||"realTimeArea"===n||"splinearea"===n?[e,t+(c=.8*H),"L",e,t+(l=.6*H),e+(o=.3*H),t+(s=.2*H),e+(r=.6*H),t+l,e+H,t+s,e+H,t+c,"Z"]:"pie2D"===n||"pie3d"===n||"doughnut2D"===n||"doughnut3D"===n?[d=e+(o=.5*H)+(u=1),h=t+o-u,"L",d,h-(r=.9*o)+u,"A",r-u,r-u,0,0,1,d+r-u,h,"Z","M",g=e+o-(m=1),p=t+o+m,"L",g,p-r,"A",r,r,0,1,0,g+r,p,"Z"]:[e,t,"L",e+H,t,e+H,t+H,e,t+H,"Z"])}})(c+W,d+(G._markerYGutter||0)+W,0,0,s).path,"stroke-width":.5,stroke:v,fill:x,cursor:e.cursor||fi}),P&&T?(Object.assign(P,q),g=V.setAnimation({el:g||"path",attr:P,component:R,callback:function(){this.show()},container:Z}),!R.getGraphicalElement("legendItemLine")&&(g=R.addGraphicalElement("legendItemLine",g))):g&&g.hide(),I?(I.opacity=Object(r.Sa)(e.symbol.opacity,1),h=V.setAnimation({el:p||"path",attr:I,component:R,callback:function(){this.show()},container:Z,label:"icon"}),(!p||!p.node)&&(h=R.addGraphicalElement("legendItemSymbol",h)),h.data("legendItem",G)):p&&p.hide(),C=e.background&&e.background.legendBackgroundColor?Object(l.c)(e.background.legendBackgroundColor,e.background.alpha):r.y,k=V.setAnimation({el:A||"rect",attr:{x:c,y:d,width:G._totalWidth,height:G._legendH,r:0,fill:C,opacity:1,"stroke-width":1,stroke:"none",cursor:e.symbol.cursor||fi},css:void 0,component:R,label:"background",container:Z}),A||R.addGraphicalElement("legendItemBackground",k),k.data("legendItem",R).data("interactive",Q).data("itemHoverStyle",X).data("itemStyle",e)}},this.attachChild(t,"legendItem"),t.setLinkedItem("owner",e),t.addEventListener("mouseover",function(){t.setLegendState("hover",!0)}),t.addEventListener("mouseout",function(){t.removeLegendState("hover")}),t.getId()}getItem(e){var t=this.getChildren().legendItem;if(void 0===e)return!1;if(t)for(let a=0;a<t.length;a++)if(t[a].getId()===e)return t[a]}getSortedLegendItems(){let e,t,a=this.getChildren("legendItem")||[],i=this.config.reverselegend,n={},o=[];for(e=0,t=a.length;e<t;e++)void 0===a[e].config.index?n[t+e]=a[e]:n[a[e].config.index]=a[e];return Object.keys(n).sort(function(e,t){return i?t-e:e-t}).forEach(e=>{o.push(n[e])}),o}disposeItem(e){var t=this.getItem(e);t&&t.remove()}getName(){return"legend"}getType(){return"legend"}__setDefaultConfig(){super.__setDefaultConfig();let e=this.config;e.enabled=!0,e.symbolWidth=12,e.borderRadius=1,e.lastScrollPos=0,e.oriSymbolPadding=3,e.textPadding=4,e.scrollY=0,e.backgroundColor="#FFFFFF",e.initialItemX=0,e.title={text:r.b,x:0,y:0,padding:2},e.scroll={},e.itemStyle={}}createLegendGroup(){let e,t=this,a=t.config,i=t.getFromEnv("chart"),n=i.config,o=t.getFromEnv("animationManager"),r=.5*(a.borderWidth||0)+2,l=t.getContainer("legendGroup");a.xL&&(a.xL=Fi(ji(a.xL,r),n.width-a.width-r)),a.yL&&(a.yL=Fi(ji(a.yL,r),n.height-a.height-r)),e=o.setAnimation({el:l||"group",attr:{name:"legendGroup",transform:["T",a.xL||a.xPos,a.yL||a.yPos]},container:i.getChildContainer("legendGroup"),component:t}),l||t.addContainer("legendGroup",e)}draw(){this.createLegendGroup(),this.drawLegendBox(),this.createItemGroup(),this.drawCaption(),this.decideScroll()}decideScroll(){let e=this,t=e.getFromEnv("animationManager"),a=e.config,i=e.getLinkedItem("legendScrollBar");a.scroll.enabled?(this.createScrollGroup(),this.createScrollBar()):a.hasScroll&&(e.removeLinkedItem("legendScrollBar"),t.setAnimation({el:e.getChildContainer("itemGroup"),attr:{"clip-rect":null,transform:"none"},component:e}),i.config.node.hide(),a.scrollY=0,a.hasScroll=!1)}createItemGroup(){var e,t=this,a=t.getFromEnv("animationManager"),i=t.getContainer("legendGroup"),n=t.getChildContainer("itemGroup");return e=a.setAnimation({el:n||"group",attr:{name:"item",transform:["T",0,t.config.scrollY||0]},container:i,component:t}),n||t.addChildContainer("itemGroup",e),e}createScrollGroup(){let e,t=this,a=t.getFromEnv("animationManager"),i=t.getChildContainer("scrollGroup"),n=t.getContainer("legendGroup");e=a.setAnimation({el:i||"group",attr:{name:"scrollGroup"},container:n,component:t,label:"scroller"}),i||t.addChildContainer("scrollGroup",e)}createScrollBar(){var e,t,a=this,i=a.config,n=a.getLinkedItem("legendScrollBar"),o=a.getChildContainer("itemGroup"),s=a.getFromEnv("toolbox"),c=a.getFromEnv("toolBoxAPI"),d=c&&c.Scroller,g=i.borderWidth||0,h=Object(r.Sa)(i.padding,4),p=.5*h,u=i.width,m=i.height;e={conf:{isHorizontal:!1,color:Object(l.c)(a.getFromEnv("chart-attrib").legendscrollbgcolor)},handler:{scroll:function(e){i.lastScrollPos=e,i.scrollY=(t-i.totalHeight)*e,a.addJob("scrollDraw",a.drawScroll,Si.b&&Si.b.draw)},mousedown:function(e){e.preventDefault(),e.stopPropagation()}}},n||((n=new d).configure(e.conf,(s.idCount||0)+1,s.pId,a.getFromEnv("chartInstance").id),n.attachEventHandlers(e.handler),this.setLinkedItem("legendScrollBar",n),this.config.hasScroll=!0),o.attr({"clip-rect":"0,"+p+","+u+","+(t=m-h)}),n.draw(u-10+p-g,.5*g,{height:m-g,scrollRatio:(t+h)/i.totalHeight,startPercent:0,scrollPosition:i.lastScrollPos||0,color:i.legendScrollBgColor,parentLayer:a.getChildContainer("scrollGroup")})}drawCaption(){var e,t,a,i,n=this,o=n.getChildContainer("itemGroup"),l=n.getGraphicalElement("caption"),s=this.getFromEnv("animationManager"),c=this.config,d=Object(r.Sa)(c.padding,4),g=c.scroll.enabled,h=c.width;if(c.title&&c.title.text!==r.b&&c.validLegendItem){switch(c.title.align){case r.s:a=d;break;case r.o:a=h-d-(g?10:0);break;default:a=.5*h}t=c.title.style,e={text:c.title.text,title:c.title.originalText||r.b,x:a,y:d,fill:c.title.style.color,direction:c.textDirection,"line-height":t.lineHeight,"vertical-align":r.t,"text-anchor":c.title.align,opacity:1},i={"font-weight":t.fontWeight,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-size":t.fontSize},l&&l.show(),l?s.setAnimation({el:l,attr:e,component:n}):(l=s.setAnimation({el:"text",attr:e,component:n,container:o}),(l=this.addGraphicalElement("caption",l)).css(i)),n.getFromEnv("toolTipController").enableToolTip(l,c.title.originalText)}else l&&s.setAnimation({el:l,component:n,doNotRemove:!0,callback:function(){l.hide()}})}drawLegendBox(){var e,t=this,a=this.getFromEnv("animationManager"),i=t.config,n=t.getContainer("legendGroup"),o=i.width,r=t.getGraphicalElement("box");return e=a.setAnimation({el:r||"rect",attr:{x:0,y:0,width:o,height:i.height,r:i.borderRadius,stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none","stroke-opacity":i.borderAlpha/100,"fill-opacity":i.backgroundAlpha/100,cursor:i.legendAllowDrag?"move":"default"},container:n,component:t,label:"legendGroup"}),r||(t.addGraphicalElement("box",e),e.shadow(i.shadow)),e}getPosition(){var e,t,a,i,n=this.getFromEnv("chart").config,o=this.config,l=n.height-n.canvasBottom,s=n.canvasLeft,c=n.canvasWidth,d=o.chartMarginLeft||0,g=o.chartMarginRight||0,h=o.chartMarginBottom||0,p=n.actionBarHeight||0,u=o.actualCanvasMarginLeft||0,m=n.actualCanvasMarginBottom||0,b=n.actualCanvasMarginRight||0,f=o.alignLegendWithCanvas,v=n.height,x=n.canvasTop,C=o.width||0,O=o.height||0,y=n.borderWidth,S=n.oriCanvasLeft,w=n.oriTopSpace,L=n.oriBottomSpace,F=0,j=o.borderWidth||0;return o.legendPos===r.r&&(o.align=r.r,o.verticalAlign=r.q,i=o.layout="vertical"),i?(e=n.width-g-b-C-y,t=(F=Object(r.Sa)(w,x))+.5*(v-Object(r.Sa)(L,l)-F-O)+(o.y||0)):(a=f?c-C:n.width-(d+u+(g+b))-C,e=(f?Object(r.Sa)(S,s):d+u)+a/2,t=v-O-m-h-p),Object(r.J)(e,t,C,O,j)}reverseLegendFn(){var e,t=this,a=t.config.items||[],i=[],n=0,o=t.config;for(e=a.length-1;0<=e;e--)a[e].configuration.mainDS?(i=i.concat(a.splice(e,n+1)),n=0):n++;i.length&&(o.orderReversed=!0,t.config.items=i.slice(0))}allocatePosition(){var e=this.config,t=this.getPosition();e.xPos=t.x,e.yPos=t.y,e.width=t.width,e.height=t.height}_manageLegendPosition(e){var t=this,a=t.config,i=t.getFromEnv("chart").hasSubDataset,n=a.legendPos,o=t.getChildren().legendItem;return a.reversed===a.prevReversed?i&&a.orderReversed&&t.reverseLegendFn():i?!a.orderReversed&&t.reverseLegendFn():o&&o.reverse(),a.prevReversed=a.reversed,n===r.r?t._placeLegendBlockRight(e):t._placeLegendBlockBottom(e)}_placeLegendBlockBottom(e){var t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L,F,j,k=this,A=k.getFromEnv("chart"),E=A.config,T=E.width,I=E.height,P=E.canvasLeft,_=E.width-(E.canvasRight||0),D=A.getFromEnv("smartLabel"),B=k.config,M=B.chartMarginLeft,R=B.chartMarginRight,V=B.chartMarginTop,G=B.alignLegendWithCanvas,N=B.minimiseWrappingInLegend,z=B.legendScale,W=B.numColumns,H=B.padding,Q=2*e,Y=2*H,K={width:Y,height:Y},X=B.title,Z=X.padding,U=k.getStateCosmetics("default"),$=parseInt(U.text["font-size"],10)||10,q=k.getSortedLegendItems(),J=q.length,ee=B.oriSymbolPadding,te=B.textPadding,ae=B.legendPadding,ie=E.canvasMarginRight,ne=E.canvasMarginLeft,oe=A.getChildren("yAxis"),re=oe&&oe[0].config.isVertical?oe:A.getChildren("xAxis"),le=re&&re[0],se=re&&re[1],ce=le&&le.config||{},de=se&&se.config||{},ge=ce.nameMaxW,he=de.nameMaxW,pe=ce.name&&ce.name.style||{},ue=de.name&&de.name.style||{},me=ce.axisName||r.b,be=de.axisName||r.b,fe=0,ve=0,xe=0,Ce=0,Oe=0,ye=0,Se=0,we=0,Le=[],Fe=!1,je=0,ke=0,Ae=E.canvasWidth-E.canvasMarginLeft-E.canvasMarginRight,Ee=Ae;if(B.paddingBottom=E.height-E.canvasBottom,D.useEllipsesOnOverflow(E.useEllipsesWhenOverflow),D.setStyle(pe),f=D.getOriSize(me),D.setStyle(ue),v=D.getOriSize(be),0>=(x=$+1)&&(x=1),ee*=z,0>=(x=Fi(x*=z,Ae-=Y))&&(ee=x=0),B.symbolWidth=x,B.textPadding=4,B.legendHeight=g=x+2*ee,B.rowHeight=i=ji(parseInt(U.text["line-height"],10)||12,g),a=te+ee+H,D.setStyle(Object(r.N)({},U.text)),o=D.getOriSize(r.x).height,n=Fi(n=ae+B.borderWidth/2+1,e-o-8),ae=.05*i,(f||v)&&(m=Object(r.Sa)(f.height,0)>Object(r.Sa)(v.height,0)?(b=ge)&&f.width:(b=he)&&v.width),Ae=G?Ae:T-(m+V>I-e?2*b+R+M+ie+ne:R+M+ne+ie),B.initialItemY=0,B.initialItemX=0,B.showLegend&&0!==J){for(l=0;l<J;l+=1)w=L=(t=q[l]).config||(t.config={}),(F=L.name=Object(r.Pa)(w.label))===r.b||0===w.enabled||!1===w.enabled||t.getState("removed")?L.enabled=0:(L.enabled=1,xe+=1,s=!0,c=D.getOriSize(F),fe=ji(fe,c.width),ye=ji(ye,Fi(c.height,Q)),ve+=c.width);if(B.validLegendItem=s,Ce=ve/xe,ve+=(d=g+ae+te+ee+Y)*xe,B.x=(P-M-_+R)/2,B.x=!G&&ve>Ee?0:B.x,s){for(Ce+=d,fe+=d,0<W&&xe<W&&(W=xe),ve<=Ae&&(0>=W||W===xe)?(W=xe,Oe=Ce=ve/xe,Fe=!0,ye>i&&(we=(ye-i)/2,i=ye)):0<W&&(Oe=Ae/W)>Ce?Oe>fe&&(Oe=fe):Ae>fe&&(N||1.5*Ce>fe)?(xe<(W=ki(Ae/fe))&&(W=xe),Oe=fe):Ae>=2*Ce?(xe<(W=ki(Ae/Ce))&&(W=xe),(Oe=ki(Ae/W))>fe&&(Oe=fe)):(W=1,Oe=Ae),B.itemWidth=Oe,0>(p=Ai(Oe-d))&&(ee=p=te=0),B.symbolPadding=ee,B.textPadding=te,B.width=Oe*W-ae,X.oriText!==r.b&&(D.setStyle(X.style),c=D.getSmartText(X.oriText,Ae,Q),X.text=c.text,c.tooltext&&(X.originalText=c.tooltext),B.width<(S=c.width+Y)&&(B.initialItemX=(S-B.width)/2,B.width=S),B.initialItemY=Se=c.height+Z),D.setStyle(Object(r.N)({},U.text)),l=0;l<J;l+=1)if(0!==(L=(t=q[l]).config).enabled){if(0===p&&(Le[ke]=!0,L.name=r.b,u=1,h=parseInt(ke/W,10),L._legendX=ke%W*Oe,L._legendY=h*i+Y,L._legendH=u*i,L._totalWidth=x+ee),Fe)(c=D.getOriSize(L.name)).height<i&&(L._legendTestY=(i-c.height)/2),L._markerYGutter=we,L._legendX=je,L._legendY=Y,L._legendH=i,L._totalWidth=x+a+c.width,je+=c.width+d;else{for(c=D.getSmartText(L.name,p,Q),L.name=c.text,c.tooltext&&(L.originalText=c.tooltext);!0===Le[ke];)ke+=1;for(O=c.height/i,y=ke,u=0;u<O;u+=1,y+=W)Le[y]=!0;c.height<i&&(L._legendTestY=(i-c.height)/2),h=parseInt(ke/W,10),L._legendX=ke%W*Oe,L._legendY=h*i+Y,L._legendH=u*i,L._totalWidth=x+a+c.width}ke++}C=Fe?1:Ai(Le.length/W),K.height+=C*i+Se,B.height=B.totalHeight=K.height,B.rowHeight=i,B.legendNumColumns=W,B.height-2*ee>e?(B.height=e,(j=B.scroll||(B.scroll={})).enabled=!0,j.flatScrollBars=B.flatScrollBars,j.scrollBar3DLighting=B.scrollBar3DLighting,B.width=B.width+12>Ae?B.width:B.width+12):B.scroll.enabled=!1,n+=B.height,B.isActive=!0,B.enabled=!0}else B.enabled=!1,B.width=0,n=0}else n=0,B.height=0,B.width=0;return{bottom:n,right:0}}_placeLegendBlockRight(e){var t,a,i,n,o,l,s,c,d,g,h=this,p=h.config,u=h.getFromEnv("chart"),m=u.config,b=u.getFromEnv("smartLabel"),f=u.getChildren("canvas")[0].config.canvasBorderThickness||0,v=p.textPadding,x=p.title.padding,C=p.oriSymbolPadding,O=p.legendPadding,y=p.legendScale,S=h.getStateCosmetics("default"),w=parseInt(S.text["font-size"],10),L=2*m.canvasHeight,F=0,j=2*p.padding,k={width:j,height:j},A={},E=!1,T=h.getSortedLegendItems(),I=T.length,P=0;if(p.initialItemY=0,p.initialItemX=0,e-=j+O,0>=(n=w+1)&&(n=1),C*=y,0>=(n=Fi(n*=y,e))&&(C=n=0),p.symbolPadding=C,p.symbolWidth=n,p.legendHeight=o=n+2*C,p.rowHeight=ji(parseInt(S.text["line-height"],10)||12,o),t=O+p.borderWidth/2+f,0>(i=e-o-O-v)&&(i=0),b.useEllipsesOnOverflow(m.useEllipsesWhenOverflow),b.setStyle(Object(r.N)({},S.text)),p.showLegend&&0!==I){for(P=0;P<I;P+=1)d=l=(g=T[P]).config||(g.config={}),s=l.name=Object(r.Pa)(d.label),l._legendX=0,l._legendY=k.height,0!==d.enabled&&!1!==d.enabled&&s!==r.b?(l.enabled=1,E=!0,0===i?(k.height+=l._legendH=o,l.name=r.b,l._totalWidth=n+C):(a=b.getSmartText(s,i,L),l.name=a.text,a.tooltext&&(l.originalText=a.tooltext),a.height<o&&(l._legendTestY=(o-a.height)/2),l._totalWidth=n+C+v+a.width+O,k.height+=l._legendH=ji(a.height,o),F=ji(a.width,F))):l.enabled=0;p.validLegendItem=E,E?(p.itemWidth=F+o+O+v,p.width=p.itemWidth+j,p.title.oriText!==r.b&&(b.setStyle(p.title.style),a=b.getSmartText(p.title.oriText,e,L),p.title.text=a.text,a.tooltext&&(p.title.originalText=a.tooltext),p.width<(c=a.width+j)&&(p.initialItemX=(c-p.width)/2,p.width=c),p.initialItemY=a.height+x,k.height+=p.initialItemY),p.height=p.totalHeight=k.height,t=Fi(p.width+t,e),A.right=t+O,p.isActive=!0,p.enabled=!0):(p.enabled=!1,p.width=0,A.right=0)}else A.right=0,p.height=0,p.width=0;return A}postSpaceManager(){var e=this.config,t=e.legendPos,a=this.getFromEnv("chart").config.canvasHeight;t===r.r&&(e.height>a?(e.height=a,e.scroll.enabled=!0,e.scroll.flatScrollBars=e.flatScrollBars,e.scroll.scrollBar3DLighting=e.scrollBar3DLighting,e.width+=(e.scroll.scrollBarWidth=10)+(e.scroll.scrollBarPadding=2)):e.scroll.enabled=!1)}configure(){var e,t,a,i,n,o=this,s=o.config,c=o.getFromEnv("chart"),d=c.config,g=o.getFromEnv("style"),h=c.getFromEnv("chart-attrib"),p=c.config.is3D,u=o.getFromEnv("color-manager"),m=p?r.E.chart3D:r.E.chart2D,b=s.interactiveLegend=!1!==c.hasInteractiveLegend&&!!Object(r.Sa)(h.interactivelegend,1),f=Object(r.Sa)(h.useroundedges,0),v=g.outCancolor,x=Object(r.Qa)(h.legenditemfont,g.outCanfontFamily),C=Object(r.Sa)(h.legendiconscale,1),O=Object(r.Ra)(h.legenditemfontsize,g.fontSize)+"px",y=Object(r.Qa)(h.legenditemfontcolor,v).replace(/^#?([a-f0-9]+)/gi,"#$1"),S=Object(l.g)(Object(r.Qa)(h.legenditemhoverfontcolor,y));s.isActive=!1,s.chartMarginTop=d.origMarginTop,s.chartMarginRight=d.origMarginRight,s.chartMarginBottom=d.origMarginBottom,s.chartMarginLeft=d.origMarginLeft,s.reverselegend=Object(r.Sa)(h.reverselegend,0),s.showLegend=Object(r.Sa)(h.showlegend,!c.dontShowLegendByDefault,1),e=Object(r.ab)({fontSize:O}),s.legendPos=Object(r.Qa)(h.legendposition,c.legendposition,r.n).toLowerCase(),s.numColumns=Object(r.Sa)(h.legendnumcolumns,0),s.xL=s.yL=0,(0>=C||5<C)&&(C=1),s.drawCustomLegendIcon=Object(r.Sa)(h.drawcustomlegendicon,0),s.legendScale=C,s.legendPadding=Object(r.Sa)(h.legendpadding,7),s.alignLegendWithCanvas=d.alignLegendWithCanvas,s.title.style={fontFamily:Object(r.Qa)(h.legendcaptionfont,x),fontSize:Object(r.Ra)(h.legendcaptionfontsize,g.fontSize)+"px",color:Object(r.Qa)(h.legendcaptionfontcolor,v).replace(/^#?([a-f0-9]+)/gi,"#$1"),fontWeight:Ti.fontWeight[Object(r.Sa)(h.legendcaptionfontbold,1)]||r.b},n=h.legendcaptionalignment?h.legendcaptionalignment.toLowerCase():wi.center,s.title.align=wi[n]||wi.center,s.title.style["text-anchor"]=s.title.align,s.padding=4,t=Object(r.Qa)(h.legendbordercolor,u.getColor(m.legendBorderColor)),a=s.borderAlpha=Object(r.Sa)(h.legendborderalpha,100),s.borderColor=Object(l.c)(t,a),s.borderWidth=Object(r.Sa)(h.legendborderthickness,!f||h.legendbordercolor?1:0),s.borderRadius=Object(r.Sa)(f,0),s.backgroundAlpha=i=Object(r.Sa)(h.legendbgalpha,100),s.backgroundColor=Object(l.c)(Object(r.Qa)(h.legendbgcolor,u.getColor(m.legendBgColor)),i),s.symbol3DLighting=!!Object(r.Sa)(h.use3dlighting,h.useplotgradientcolor,1),s.shadow=!!Object(r.Sa)(h.legendshadow,1),s.shadow&&(s.shadow={enabled:s.shadow,opacity:ji(a,i)/100}),s.prevReversed=!!Object(r.Sa)(s.reversed,0),s.reversed=!!Object(r.Sa)(h.reverselegend,0),s.lineWidth=Object(r.Sa)(h.linethickness,2),s.borderRadius=Object(r.Sa)(h.legendborderradius,f?3:0),s.legendAllowDrag=!!Object(r.Sa)(h.legendallowdrag,0),s.title.oriText=Object(r.Pa)(Object(r.T)(h.legendcaption,r.b)),s.legendScrollBgColor=Object(l.g)(Object(r.Qa)(h.legendscrollbgcolor,h.scrollcolor,u.getColor("altHGridColor"))),s.legendScrollBarColor=Object(r.Qa)(h.legendscrollbarcolor,t),s.legendScrollBtnColor=Object(r.Qa)(h.legendscrollbtncolor,t),s.minimiseWrappingInLegend=Object(r.Sa)(h.minimisewrappinginlegend,0),s.flatScrollBars=Object(r.Sa)(h.flatscrollbars,0),s.scrollBar3DLighting=Object(r.Sa)(h.scrollbar3dlighting,1),s.orderReversed=!1,o.setStateCosmetics("hidden",{symbol:{fill:Object(l.c)(Object(r.Qa)(h.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1")),stroke:Object(l.c)(Object(r.Qa)(h.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))},text:{fill:Object(l.c)(Object(r.Qa)(h.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))}}),o.setStateCosmetics("default",{text:{fill:Object(l.c)(y),"font-family":x,cursor:b?r.Ua.POINTER:"default","font-size":O,"line-height":e,"vertical-align":r.t,"text-anchor":r.s,direction:"rtl"===d.textDirection?"rtl":"initial","font-weight":Ti.fontWeight[Object(r.Sa)(h.legenditemfontbold,0)]||r.b},symbol:{bgColor:Object(r.Qa)(h.legendiconbgcolor),cursor:b?r.Ua.POINTER:"default",borderColor:Object(r.Qa)(h.legendiconbordercolor),bgAlpha:Object(r.Qa)(h.legendiconbgalpha,h.legendiconalpha,100),borderAlpha:Object(r.Qa)(h.legendiconborderalpha,h.legendiconalpha,100),borderThickness:Object(r.Sa)(h.legendiconborderthickness),startAngle:Object(r.Sa)(h.legendiconstartangle,45),sides:Object(r.Sa)(h.legendiconsides,4)}}),o.setStateCosmetics("hover",function(e,t){return t.hasState("hidden")||(!e.text&&(e.text={}),e.text.fill=Object(l.c)(S.replace(/^#?([a-f0-9]+)/gi,"#$1")),e.text.cursor="inherit"),e}),s.legendAllowDrag&&!s._dragEvtListenerBinded?(o.addEventListener("dragstart",s.handlers.dragstart),o.addEventListener("dragmove",s.handlers.dragmove),s._dragEvtListenerBinded=!0):(o.removeEventListener("dragstart",s.handlers.dragstart),o.removeEventListener("dragmove",s.handlers.dragmove),s._dragEvtListenerBinded=!1)}getLegendState(){return this._legendState}hasState(e){var t,a,i=this.getLegendState();for(t=0,a=i.length;t<a;t++)if(i[t]===e)return!0;return!1}setLegendState(e,t){this.hasState(e)||(t?this._legendState.push(e):this._legendState.unshift(e)),this.asyncDraw()}removeLegendState(e){var t,a,i=1;if(e)for(t=0,a=this._legendState.length;t<a&&i;t++)e===this._legendState[t]&&(this._legendState.splice(t,1),i=0);else this._legendState.length=0;this.asyncDraw()}setStateCosmetics(e,t){this._stateCosmetics[e]=t}removeStateCosmetics(e){delete this._stateCosmetics[e]}getStateCosmetics(e){return this._stateCosmetics[e]}hide(){var e=this.getFromEnv("chart").getChildContainer("legendGroup");e&&e.hide()}},Pi=function(e){let t;Object(r.G)(e,Ii,"legend"),(t=e.getChildren("legend")[0]).configure(),e.addToEnv("legend",t),e.config.showLegend||t.remove()},_i=class extends class extends class extends Bt{_spaceManager(){var e,t,a,i,n,o,l,s,c,d,g,h,p,u,m,b,f,v,x=this,C=x.config,O=x.getChildren("xAxis")&&x.getChildren("xAxis")[0],y=x.getChildren("yAxis")&&x.getChildren("yAxis")||[],S=C.legendposition,w=C.xDepth,L=C.yDepth,F=C.canvasBgDepth,j=C.canvasBaseDepth,k=C.canvasBasePadding,A=x.getChildren("canvas")[0],E=A.config.canvasBorderWidth,T=C.realTimeConfig&&C.realTimeConfig.showRTValue,I=C.borderWidth,P=C.canvasMarginTop,_=C.canvasMarginBottom,D=C.canvasMarginLeft,B=C.canvasMarginRight,M=C.minCanvasHeight,R=C.minCanvasWidth,V=C.minChartWidth,G=C.minChartHeight,N=C.height,z=C.width,W=!1,H=!1,Q=C.origCanvasTopMargin,Y=C.origCanvasBottomMargin,K=C.origCanvasLeftMargin,X=C.origCanvasRightMargin,Z=[];for(C.canvasWidth-2*I<V&&(p=(C.canvasWidth-V)/2),C.canvasHeight-2*I<G&&(h=(C.canvasHeight-G)/2),x._allocateSpace({top:h||I,bottom:h||I,left:p||I,right:p||I}),c=0,a=y.length;c<a;c++)f=(t=y[c])&&t.placeAxis(.7*C.availableWidth)||{},Z.push({axisIndex:c,spaceTaken:f}),t&&x._allocateSpace(f);C.yAxisSpaceAllocation=Z,x._allocateSpace(x._manageActionBarSpace&&x._manageActionBarSpace(.225*C.availableHeight)||{}),x._manageLegendSpace&&C.showLegend&&x._manageLegendSpace(void 0),e=S===r.n?.6*C.availableHeight:.6*C.availableWidth,L&&(x._allocateSpace({bottom:L}),C.shift=w+k+j),F&&x._allocateSpace({right:F}),C.canvasWidth-2*E<R&&(m=(C.canvasWidth-R)/2),x._allocateSpace({left:m||E,right:m||E}),R>z-D-B&&(H=!0,D=C.canvasMarginLeft=(i=C.canvasWidth-R)*D/(v=D+B),B=C.canvasMarginRight=i*B/v),x._allocateSpace({left:l=D>C.canvasLeft?D-C.canvasLeft:0,right:s=B>z-C.canvasRight?B+C.canvasRight-z:0}),H&&(v=K+X,(g=C.canvasWidth)>R&&(l=(i=g-R)*K/v,s=i*X/v),x._allocateSpace({left:l,right:s})),C.actualCanvasMarginRight=s,C.actualCanvasMarginBottom=o,x._manageChartMenuBar(e),e=.2*C.availableHeight,x._getSumValueSpace&&x._allocateSpace(x._getSumValueSpace(e)),e=.3*C.availableHeight,C.realtimeEnabled&&(T?x._allocateSpace(x._realTimeValuePositioning(e)):x._hideRealTimeValue()),x._resetViewPortConfig&&x._resetViewPortConfig(),x._setAxisScale&&x._setAxisScale(),e=.6*C.availableHeight,C.xAxisSpaceAllocation=b=O&&O.placeAxis(e),O&&x._allocateSpace(b),C.canvasHeight-2*E<M&&(u=(C.canvasHeight-M)/2),x._allocateSpace({top:u||E,bottom:u||E}),x._allocateSpace({bottom:j}),M>N-P-_&&(W=!0,P=C.canvasMarginTop=(i=C.canvasHeight-M)*P/(v=P+_),_=C.canvasMarginBottom=i*_/v),x._allocateSpace({top:n=P>C.canvasTop?P-C.canvasTop:0,bottom:o=_>N-C.canvasBottom?_+C.canvasBottom-N:0}),W&&(v=Q+Y,(d=C.canvasHeight)>M&&(n=(i=d-M)*Q/v,o=i*Y/v),x._allocateSpace({top:n,bottom:o})),C.actualCanvasMarginTop=n,C.actualCanvasMarginLeft=l,A.setDimension({top:C.canvasTop,left:C.canvasLeft,width:C.canvasWidth,height:C.canvasHeight})}_postSpaceManagement(){var e,t=this,a=t.config,i=t.getChildren(),n=i.xAxis&&i.xAxis[0],o=i.legend&&i.legend[0],r=a.xDepth,l=t.getChildren("canvas");for(t.setAxisDimention&&t.setAxisDimention(),n&&t._allocateXAxisLabelSpace(n),n&&n.shiftLabels(-r,0),o&&o.postSpaceManager(),e=0;e<(l&&l.length);e++)l[e].setCanvasPadding();t.setAxisDimention&&t.setAxisDimention()}}{constructor(){super(),this.registerFactory("axis",$a,["canvas"]),this.registerFactory("canvas",ei),this.registerFactory("vCanvas",ci,["axis"]),this.registerFactory("mouseTracker",pi,["canvas"])}static getName(){return"Cartesian"}getName(){return"Cartesian"}getType(){return"chartAPI"}_allocateXAxisLabelSpace(e){var t,a=this.config,i=e.getAxisEndLabelDisplaySpace(),n=i.left,o=i.right,r=i.top,l=i.bottom,s=a.availableWidth,c=a.availableHeight,d=a.canvasRight,g=a.canvasTop,h=a.canvasBottom,p=a.width,u=a.height,m=function(e,t){return e<t&&0<t?t-e:0};r+l>c&&(r=c*r/(t=r+l),l=c*l/t),n+o>s&&(n=s*n/(t=n+o),o=s*o/t),n=m(a.canvasLeft,n),o=m(p-d,o),r=m(g,r),l=m(u-h,l),this._allocateSpace({left:n,right:o,top:r,bottom:l})}_setCategories(){var e=this.getFromEnv("dataSource"),t=this.getChildren("xAxis");t&&t[0].setTickValues(e.categories&&e.categories.length&&e.categories[0].category)}_feedAxesRawData(){var e,t,a=this,i=a.config,n=a.getFromEnv("dataSource");return e=a.getSpecificxAxisConf(),t=a.getSpecificyAxisConf(),e.vtrendlines=Object(r.N)([],n.vtrendlines),t.trendlines=Object(r.N)([],n.trendlines),i.isstacked&&(t.isPercent=Object(r.Sa)(i.stack100percent,0)),{yAxisConf:[t],xAxisConf:[e]}}getSpecificxAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config,i=e.config.is3D,n=e.getBasexAxisConf();return n.isReverse=a.reverseXAxis,n.axisLineColor=Object(r.Qa)(t.xaxislinecolor,t.axislinecolor,"#000000"),n.showAlternateGridColor=Object(r.Sa)(t.showalternatevgridcolor,0),n.numDivLines=Object(r.Sa)(t.numvdivlines,a.numVDivLines),n.axisName=t.xaxisname,n.setAdaptiveMin=Object(r.Sa)(t.setadaptivexmin,a.setadaptivexmin,a.setadaptivexmin),n.showLimits=Object(r.Sa)(t.showvlimits,a.showvlimits),n.showDivLineValues=Object(r.Sa)(t.showvdivlinevalues,t.showvdivlinevalues,a.showvdivlinevalues),n.zeroPlaneThickness=Object(r.Sa)(t.vzeroplanethickness,t.vdivlinethickness,a.zeroplanethickness,2),n.zeroPlaneAlpha=Object(r.Sa)(t.vzeroplanealpha,t.vdivlinealpha,a.zeroplanealpha),n.showZeroPlaneValue=Object(r.Sa)(t.showvzeroplanevalue,a.showzeroplanevalue),n.showAxisLine=i?0:Object(r.Sa)(t.showxaxisline,t.showaxislines,t.drawAxisLines,a.showxaxisline,0),n.maxLabelHeight=t.maxlabelheight,n.showZeroPlane=Object(r.Sa)(t.showvzeroplane,a.showzeroplane),n}getSpecificyAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config,i=e.config.is3D,n=i?r.E.chart3D:r.E.chart2D,o=a.isInverse,l=e.getFromEnv("color-manager"),s=Object(r.Sa)(t.showzeroplane,a.showzeroplane,1),c=Object(r.Sa)(t.showzeroplanevalue,a.showzeroplanevalue);return s||void 0!==c||(c=0),{isVertical:!0,isReverse:!o,isOpposit:!1,outCanfontFamily:Object(r.Qa)(t.outcnvbasefont,t.basefont,"Verdana,sans"),outCanfontSize:Object(r.Ra)(t.outcnvbasefontsize,t.basefontsize,10),outCancolor:Object(r.Qa)(t.outcnvbasefontcolor,t.basefontcolor,l.getColor(n.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:t.yaxisbreaks,axisNamePadding:t.yaxisnamepadding,axisValuePadding:t.yaxisvaluespadding,axisNameFont:t.yaxisnamefont,axisNameFontSize:t.yaxisnamefontsize,axisNameFontColor:t.yaxisnamefontcolor,axisNameFontBold:t.yaxisnamefontbold,axisNameFontItalic:t.yaxisnamefontitalic,axisNameBgColor:t.yaxisnamebgcolor,axisNameBorderColor:t.yaxisnamebordercolor,axisNameAlpha:t.yaxisnamealpha,axisNameFontAlpha:t.yaxisnamefontalpha,axisNameBgAlpha:t.yaxisnamebgalpha,axisNameBorderAlpha:t.yaxisnameborderalpha,axisNameBorderPadding:t.yaxisnameborderpadding,axisNameBorderRadius:t.yaxisnameborderradius,axisNameBorderThickness:t.yaxisnameborderthickness,axisNameBorderDashed:t.yaxisnameborderdashed,axisNameBorderDashLen:t.yaxisnameborderdashlen,axisNameBorderDashGap:t.yaxisnameborderdashgap,axisNameWidth:t.yaxisnamewidth,useEllipsesWhenOverflow:t.useellipseswhenoverflow,rotateAxisName:Object(r.Sa)(t.rotateyaxisname,1),axisName:t.yaxisname,divLineColor:Object(r.Qa)(t.divlinecolor,l.getColor(n.divLineColor)),divLineAlpha:Object(r.Qa)(t.divlinealpha,l.getColor(i?"divLineAlpha3D":"divLineAlpha")),divLineThickness:Object(r.Sa)(t.divlinethickness,1),divLineIsDashed:!!Object(r.Sa)(t.divlinedashed,t.divlineisdashed,0),divLineDashLen:Object(r.Sa)(t.divlinedashlen,4),divLineDashGap:Object(r.Sa)(t.divlinedashgap,2),showAlternateGridColor:Object(r.Sa)(t.showalternatehgridcolor,1),alternateGridColor:Object(r.Qa)(t.alternatehgridcolor,l.getColor("altHGridColor")),alternateGridAlpha:Object(r.Qa)(t.alternatehgridalpha,l.getColor("altHGridAlpha")),numDivLines:Object(r.Sa)(t.numdivlines,a.numDivLines),axisMinValue:a.yRangeMin||t.yaxisminvalue,axisMaxValue:a.yRangeMax||t.yaxismaxvalue,setAdaptiveMin:Object(r.Sa)(t.setadaptivesymin,t.setadaptiveymin,a.setAdaptiveMin),adjustDiv:t.adjustdiv,labelStep:t.yaxisvaluesstep,showAxisValues:Object(r.Sa)(t.showyaxisvalues,t.showyaxisvalue,a.showyaxisvalues),showLimits:Object(r.Sa)(t.showyaxislimits,t.showlimits,e.showLimits),showDivLineValues:Object(r.Sa)(t.showdivlinevalues,t.showdivlinevalue,a.showdivlinevalues),showZeroPlane:s,zeroPlaneColor:t.zeroplanecolor,zeroPlaneThickness:Object(r.Sa)(t.zeroplanethickness,t.divlinethickness,a.zeroplanethickness,2),zeroPlaneAlpha:Object(r.Sa)(t.zeroplanealpha,t.divlinealpha,a.zeroplanealpha),showZeroPlaneValue:c,showZeroPlaneOnTop:a.showzeroplaneontop,trendlineColor:t.trendlinecolor,trendlineToolText:t.trendlinetooltext,trendlineThickness:t.trendlinethickness,trendlineAlpha:t.trendlinealpha,showTrendlinesOnTop:t.showtrendlinesontop,showAxisLine:i?0:Object(r.Sa)(t.showyaxisline,t.showaxislines,t.drawAxisLines,a.showyaxisline,0),axisLineThickness:Object(r.Sa)(t.yaxislinethickness,t.axislinethickness,1),axisLineAlpha:Object(r.Sa)(t.yaxislinealpha,t.axislinealpha,100),axisLineColor:Object(r.Qa)(t.yaxislinecolor,t.axislinecolor,"#000000"),forceTrendBelow:!!a.is3D}}getBasexAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config.is3D,i=a?r.E.chart3D:r.E.chart2D,n=e.getFromEnv("color-manager");return{isVertical:!1,isOpposit:!1,outCanfontFamily:Object(r.Qa)(t.outcnvbasefont,t.basefont,"Verdana,sans"),outCanfontSize:Object(r.Ra)(t.outcnvbasefontsize,t.basefontsize,10),outCancolor:Object(r.Qa)(t.outcnvbasefontcolor,t.basefontcolor,n.getColor(i.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:t.xaxisnamepadding,axisValuePadding:t.labelpadding,axisNameFont:t.xaxisnamefont,axisNameFontSize:t.xaxisnamefontsize,axisNameFontColor:t.xaxisnamefontcolor,axisNameFontBold:t.xaxisnamefontbold,axisNameFontItalic:t.xaxisnamefontitalic,axisNameBgColor:t.xaxisnamebgcolor,axisNameBorderColor:t.xaxisnamebordercolor,axisNameAlpha:t.xaxisnamealpha,axisNameFontAlpha:t.xaxisnamefontalpha,axisNameBgAlpha:t.xaxisnamebgalpha,axisNameBorderAlpha:t.xaxisnameborderalpha,axisNameBorderPadding:t.xaxisnameborderpadding,axisNameBorderRadius:t.xaxisnameborderradius,axisNameBorderThickness:t.xaxisnameborderthickness,axisNameBorderDashed:t.xaxisnameborderdashed,axisNameBorderDashLen:t.xaxisnameborderdashlen,axisNameBorderDashGap:t.xaxisnameborderdashgap,useEllipsesWhenOverflow:t.useellipseswhenoverflow,divLineColor:Object(r.Qa)(t.vdivlinecolor,t.divlinecolor,n.getColor(i.divLineColor)),divLineAlpha:Object(r.Qa)(t.vdivlinealpha,t.divlinealpha,n.getColor(a?"divLineAlpha3D":"divLineAlpha")),divLineThickness:Object(r.Sa)(t.vdivlinethickness,t.divlinethickness,1),divLineIsDashed:!!Object(r.Sa)(t.vdivlinedashed,t.vdivlineisdashed,t.divlinedashed,t.divlineisdashed,0),divLineDashLen:Object(r.Sa)(t.vdivlinedashlen,t.divlinedashlen,4),divLineDashGap:Object(r.Sa)(t.vdivlinedashgap,t.divlinedashgap,2),alternateGridColor:Object(r.Qa)(t.alternatevgridcolor,n.getColor("altVGridColor")),alternateGridAlpha:Object(r.Qa)(t.alternatevgridalpha,n.getColor("altVGridAlpha")),labelFont:t.labelfont,labelFontSize:t.labelfontsize,labelFontColor:t.labelfontcolor,labelFontAlpha:t.labelalpha,labelFontBold:t.labelfontbold,labelFontItalic:t.labelfontitalic,axisMinValue:t.xaxisminvalue,axisMaxValue:t.xaxismaxvalue,adjustDiv:t.adjustvdiv,labelDisplay:t.labeldisplay,showLabels:t.showlabels,rotateLabels:t.rotatelabels,slantLabel:Object(r.Sa)(t.slantlabels,t.slantlabel),labelStep:Object(r.Sa)(t.labelstep,t.xaxisvaluesstep),showAxisValues:Object(r.Sa)(t.showxaxisvalues,t.showxaxisvalue),zeroPlaneColor:t.vzeroplanecolor,trendlineColor:t.trendlinecolor,trendlineToolText:t.trendlinetooltext,trendlineThickness:t.trendlinethickness,trendlineAlpha:t.trendlinealpha,showTrendlinesOnTop:t.showtrendlinesontop,axisLineThickness:Object(r.Sa)(t.xaxislinethickness,t.axislinethickness,1),axisLineAlpha:Object(r.Sa)(t.xaxislinealpha,t.axislinealpha,100)}}getConfig(e){return e?this.config[e]:this.config}_getSumValueSpace(e){var t,a=Math.max,i=this,n={},o=i.isBar,l=i.getFromEnv("dataSource").chart,s=0===i.showsum?0:Object(r.Sa)(l.showsum,i.showsum,0),c=Object(r.Sa)(i.config.stack100percent),d=i.config.isstacked,g=0,h=[],p=0;if(i.iterateComponents(e=>{("cartesianStackGroup"===e.getName()||"marimekkoStackgroup"===e.getName())&&h.push(e)}),s&&c&&d&&h.length){for(t=h.length-1;0<=t;t--)n=h[t].getMaxSumValueSpace(),o?g=a(g,n.maxWidth):p=a(p,n.maxHeight);p>e&&(p=e),g>e&&(g=e)}return{top:p,right:g}}setAxisDimention(){var e=Math.max;let t=this,a=t.getChildren("xAxis")&&t.getChildren("xAxis")[0],i=t.getChildren("yAxis")&&t.getChildren("yAxis")[0],n=t.getFromEnv("chartConfig"),o=n.xDepth,r=t.getChildren("canvas")&&t.getChildren("canvas")[0].config,l=r&&r.canvasBorderWidth,s=r&&r.canvasPadding,c=r.canvasLeft,d=r&&r.canvasPaddingLeft,g=r&&r.canvasPaddingRight,h=r.canvasTop,p=r&&r.canvasPaddingTop;a&&a.setAxisConfig({canvasPaddingLeft:e(d,s),canvasPaddingRight:e(g,s)}),a&&a.setAxisDimention({x:c+(o||0)+e(d,s),y:n.canvasBottom+(n.shift||0)+l,opposite:h-l,axisLength:r.canvasWidth-(o||0)-e(d,s)-e(g,s)}),i&&i.setAxisDimention({x:c-l,y:h+p,opposite:n.canvasRight+l,axisLength:n.canvasHeight-p-r.canvasPaddingBottom})}_getTrendLineMinMax(e,t){var a,i,n,o,r,l="v"===e?this.getFromEnv("dataSource").vtrendlines:this.getFromEnv("dataSource").trendlines,s={max:-1/0,min:1/0};if(t=t||"p",l)for(i=0,o=l.length;i<o;i+=1)for(n=0,r=l[i].line?l[i].line.length:0;n<r;n+=1)a=l[i].line[n],!("s"===t&&"s"!==a.parentyaxis||"s"!==t&&"s"===a.parentyaxis)&&(s.max=ui(a.startvalue||-1/0,a.endvalue||-1/0,s.max),s.min=mi(a.startvalue||1/0,a.endvalue||1/0,s.min));return s}}{constructor(){super(),this.registerFactory("dataset",bi,["vCanvas"]),this.registerFactory("legend",Pi)}static getName(){return"MSCartesian"}getName(){return"MSCartesian"}getType(){return"chartAPI"}_createLayers(){super._createLayers();let e=this.getFromEnv("animationManager");this.getChildContainer("legendGroup")||this.addChildContainer("legendGroup",e.setAnimation({el:"group",attr:{name:"legend"},component:this,container:this.getContainer("parentgroup"),label:"group"}))}_manageLegendSpace(){(function(){var e,t,a,i,n=this,o=n.config,l=n.getChildren("legend")&&n.getChildren("legend")[0],s=n.getChildren("gLegend")&&n.getChildren("gLegend")[0],c=n.getFromEnv("dataSource").colorrange,d=o.hasLegend,g={},h=n.hasGradientLegend,p=n.getFromEnv("dataSource").chart,u=Object(r.Sa)(p.mapbycategory,0);h&&c&&Object(r.Sa)(c.gradient)&&!u?(e=s.conf,h=!0,o.gLegendEnabled=!0,i=.5,t=e.legendPosition):(e=l&&l.config,h=!1,o.gLegendEnabled=!1,i=(t=e&&e.legendPos)===r.r?.8:.4),a=t===r.r?o.availableWidth*i:o.availableHeight*i,h?g=n.manageGradientLegendSpace(a):!1!==d&&l&&!l.getState("removed")&&(g=l&&l._manageLegendPosition(a)),n._allocateSpace({bottom:g&&g.bottom||0,right:g&&g.right||0})}).call(this)}manageGradientLegendSpace(e){return(function(e){var t,a,i,n,o=this,l=o.config,s=o.getFromEnv("gLegend"),c=s&&s.conf;return l.gLegendPadding=Object(r.Sa)(o.getFromEnv("chart-attrib").legendpadding,10),i=Math.min(l.gLegendPadding,.5*e),c?(t=c.legendPosition,n=s.getLogicalSpace(e),a=t===r.n?{bottom:(n.height||0)+i}:{right:(n.width||0)+i}):a={bottom:0,right:0},a}).call(this,e)}},Di=a("Ztfu"),Bi=a("MIw+"),Mi=[{initialAttr:function(){return{opacity:0}},finalAttr:function(){return{opacity:1}}}],Ri={"initial.dataset.entities":function(){return{"path.appearing":()=>(Mi[0].slot="plot",Mi),"path.updating":e=>[{finalAttr:function(){return e.finalAttr}}],"labelConnectors.appearing":()=>(Mi[0].slot="final",Mi),"labelConnectors.updating":null,"entityLabel.appearing":()=>[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"*":null}},"initial.dataset.markers":function(){return{markers:null,"markerItem.appearing":()=>(Mi[0].slot="final",Mi),"markerItem.updating":e=>[{finalAttr:function(){return e.finalAttr}}]}},"initial.group.mapGroup":function(){return{"group.appearing":e=>[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}],"group.updating":e=>[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}],"*":null}}};let Vi,Gi=Object(s.b)("redraphael","plugin"),Ni=window.navigator.userAgent,zi=/msie/i.test(Ni)&&!window.opera,Wi=",",Hi="",Qi="top",Yi="bottom",Ki="right",Xi="left",Zi="middle",Ui="center",$i="crisp",qi=window.Math,Ji=qi.min,en=qi.max,tn=/stroke/gi,an=/AppleWebKit/.test(Ni),nn=qi.ceil,on=function(e,t){let a=t?Object(r.N)(e.FCcolor,t,!1,!0):{FCcolor:e};return a.toString=r.db,a},rn=function(e,t){let a,i={};if(t=t||1,!e||"object"!=typeof e)return i;for(a in e)tn.test(a)||("stroke-width"===a?(i[a]=+e[a]/t,an&&(i[a]=i[a]&&nn(i[a])||0)):i[a]=e[a]);return i},ln={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*Ji(t,e-t)}},sn={top:function(){return arguments[1]},middle:function(e,t){return 2*Ji(t,e-t)},bottom:function(e,t){return e-t}},cn=function(e){let t,a=e&&e.length||0,i={};for(;a--;)(t=e[a]).id!==Vi&&(i[t.id.toLowerCase()]=t);return i};var dn,gn,hn,pn,un,mn,bn,fn,vn,xn,Cn;Object(s.a)({name:"mapsAnimation",type:"animationRule",extension:Ri}),dn=Gi,un=window.parseFloat,mn=dn._createNode,bn=dn._setFillAndStroke,fn=dn.el.constructor,vn={Q:"L",Z:"X",q:"l",z:"x",",":" "},xn=/,?([achlmqrstvxz]),?/gi,Cn=function(){return this.join(",").replace(xn,gn)},dn.svg?(gn="$1",hn=function(){var e=dn.is(arguments[0],"array")?arguments[0]:Array.prototype.slice.call(arguments);e?"string"==typeof e?e=e.replace(xn,gn):e.toString=Cn:e="M0,0",this.node.setAttribute("d",e.toString())},dn._engine.litepath=function(e,t,a,i,n){var o,r=mn("path");return(i||t).canvas.appendChild(r),(o=new fn(r,t,i)).type="litepath",o.id=r.raphaelid=dn._oid++,r.raphael=!0,bn(o,n||{fill:"none",stroke:"#000"}),o},dn._getPath.litepath=function(e){return dn.parsePathString(e.node.getAttribute("d"))}):dn.vml&&(gn=function(e,t){return vn[t]||t},pn=function(){var e=this;return e._transform.apply(e,arguments),e._.bcoord&&(e.node.coordsize=e._.bcoord),e},hn=function(e){return e?"string"==typeof e?e=e.replace(xn,gn):e.toString=Cn:e="M0,0",this.node.path=e,this},dn._engine.litepath=function(e,t,a,i,n){var o,r=mn("shape"),l=r.style,s=new fn(r,t,i);return l.cssText="position:absolute;left:0;top:0;width:21600px;height:21600px;",a=un(a),isNaN(a)?r.coordsize="21600 21600":(s._.bzoom=a,l.width="1px",l.height="1px",r.coordsize=s._.bcoord=a+" "+a),r.coordorigin=t.coordorigin,s.type="litepath",s.id=r.raphaelid=dn._oid++,r.raphael=!0,s._transform=s.transform,s.transform=pn,dn._setFillAndStroke(s,n||{fill:"none",stroke:"#000"}),(i||t).canvas.appendChild(r),(o=mn("skew")).on=!0,r.appendChild(o),s.skew=o,s},dn._getPath.litepath=function(e){return dn.parsePathString(e.node.path||"")}),dn.fn.litepath=function(e,t,a){var i,n,o;return"object"==typeof e&&e.constructor!==fn&&(i=e,n=(e=e.litepath).zoom,a=e.group),t&&t.constructor===fn?(a=t,n=void 0):n=t,e&&e.constructor===fn&&(a=e,e=""),(o=dn._engine.litepath(e,this,n,a,i)).ca.litepath=hn,e&&o.attr("litepath",dn.is(e,"array")?[e]:e),this.__set__&&this.__set__.push(o),this._elementsById[o.id]=o};class On extends o.a{constructor(){super(),this.components={}}getName(){return"entities"}getType(){return"dataset"}configureAttributes(e){if(!e)return;this.JSONData={data:e};let t,a,i,n,o,l,s,c,d=this,g=d.getFromEnv("chart").jsonData,h=d.config,p=g.map||g.chart,u=[],m=d.getFromEnv("colorManager"),b=g.entitydef||[];for(o in!h.attachEvent&&m&&(d.addExtEventListener("legendUpdate",function(){if("legend"===(c=arguments[1]).component)d.legendInteractivity(c.legendItem,c.colorObj);else for(l=(u=c.maxMinArray).length,s=0;s<l;s++)d.updateEntityColors(u[s].min,u[s].max)},m),h.attachEvent=!0),t=d.JSONData=g.data&&g.data[0]&&g.data[0].data?g.data[0].data||[]:g.data||[],h.useSNameAsId=Object(r.Sa)(p.usesnameasid,0),this._redefineEntities(b),a=d.components.data,h.showTooltip=Object(r.Sa)(p.showtooltip,1),h.showHoverEffect=Object(r.Sa)(p.showhovereffect,0),t=cn(t),d.calculateDataLimits(),g.colorrange||d.detachChild(d.getChildren("colorRange")&&d.getChildren("colorRange")[0].getId()),a)this._configureEntity(o,n=a[o],(i=t[o])?Object(r.Fa)(On._sanitizeEntityOptions(Object(r.N)({},i)),n.config):n.config)}updateEntityColors(e,t){let a,i,n,o,r,l,s=this.components.data,c=this.getFromEnv("chart"),d={"fill-opacity":0};for(o in s)n=(i=(a=s[o]).config).cleanValue,l={"fill-opacity":(r=i.alphaArr||[])[0]/100||1},n<e||n>t?(On.setCustomAttrs(a,d,c),a.hidden=!0):(a.hidden=!1,On.setCustomAttrs(a,l,c))}legendInteractivity(e,t){let a,i,n,o,r,l,s=this,c=s.getFromEnv("chart"),d=s.components.data,g=e.config,h=e.hasState("hidden"),p=s.getFromEnv("colorManager"),u={},m={"fill-opacity":0};for(a in c.getFromEnv("animationManager").setAnimationState("legendInteraction"),d)d.hasOwnProperty(a)&&(l=p.getColorObj(n=(g=(i=d[a]).config).cleanValue),u["fill-opacity"]=(o=g.visibleEntityAttr)["fill-opacity"],r=h?u:m,t.code===(!l.outOfRange&&l.code)&&(i.hidden=!h,On.setCustomAttrs(i,r,c),h?e&&e.removeLegendState("hidden"):e.setLegendState("hidden")))}static setCustomAttrs(e,t){let a,i;e&&(i=(a=e.graphics).outlines).attr(t)}calculateDataLimits(){let e,t,a,i,n=this.getFromEnv("chart"),o=this.config,r=n.jsonData.data||[],l=this.getFromEnv("number-formatter"),s=1/0,c=-1/0;for(i=0,a=r.length;i<a;i++)e=l.getCleanValue(t=r[i].value),s=Ji(s,e),c=en(c,e);o.max=c,o.min=s}_configureEntity(e,t,a){let i,n,o,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L,F,j=this,k=j.getFromEnv("chart"),A=j.config,E=this.getFromEnv("number-formatter"),T=k.config.entityOpts,I=t.config,P=t.labelConfig,_=a.value,D=I.cleanValue=E.getCleanValue(_),B=I.formattedValue=D===Vi?Vi:E.dataLabels(D),M=Object(r.Sa)(a.showtooltip,T.showTooltip),R=this._getDefaultTooltip(t,a,j),V={formattedValue:B,sName:a.shortLabel,lName:a.label},G=T.dataLabels.style,N=I.toolText=M?Object(r.Pa)(Object(r.Qa)(Object(r.Oa)(Object(r.Qa)(a.tooltext,T.tooltext,R),[1,2,7,38,39],V,a))):Hi,z=I.borderColor=Object(r.Qa)(a.bordercolor,T.borderColor),W=I.borderAlpha=Object(r.Qa)(a.borderalpha,T.borderAlpha),H=I.borderThickness=Object(r.Sa)(a.borderthickness,T.borderThickness),Q=T.hoverOnNull,Y=I.useHoverColor=Object(r.Sa)(a.showhovereffect,a.usehovercolor,Q?T.showHoverEffect:isNaN(_)?0:T.showHoverEffect),K=I.labelAlignment,X=j.getFromEnv("colorManager");if(t.hidden=!1,I.showLabel=Object(r.Sa)(a.showlabel,T.showLabels),I.labelPadding=Object(r.Sa)(a.labelpadding,T.labelPadding),I.fontFamily=Object(r.Qa)(a.font,G.fontFamily),I.fontSize=Object(r.Sa)(parseInt(a.fontsize,10),parseInt(G.fontSize,10)),I.fontBold=Object(r.Sa)(a.fontbold,0),I.fontColor=Object(r.Qa)(a.fontcolor,G.color),I.connectorColor=Object(r.Qa)(a.labelconnectorcolor,T.connectorColor),I.connectorAlpha=Object(r.Qa)(a.labelconnectoralpha,T.connectorAlpha),I.hoverBorderThickness=Object(r.Sa)(a.borderhoverthickness,a.hoverborderthickness,T.hoverBorderThickness),I.hoverBorderColor=Object(r.Qa)(a.borderhovercolor,a.hoverbordercolor,T.hoverBorderColor,I.borderColor),I.hoverBorderAlpha=Object(r.Qa)(a.borderhoveralpha,a.hoverborderalpha,T.hoverBorderAlpha,I.borderAlpha),I.connectorThickness=Object(r.Sa)(a.labelconnectorthickness,T.connectorThickness),I.origConnectorThickness=I.connectorThickness,I.borderThickness=H,I.link=a.link,I.isVisible=!0,I.id=e,I.originalId=a.origId,null!==D&&(i=X&&X.getColor(D))&&!i.outOfRange&&(C=i.code,i.oriAlpha!==Vi&&(O=i.oriAlpha+"")),Object(r.Qa)(a.color,a.alpha,a.angle,a.ratio)===Vi?(v=on({color:Object(r.Qa)(C,T.fillColor),alpha:Object(r.Qa)(O,T.fillAlpha),angle:Object(r.Qa)(T.fillAngle),ratio:Object(r.Qa)(T.fillRatio)}),f=on({color:Object(r.Qa)(T.nullEntityColor),alpha:Object(r.Qa)(T.nullEntityAlpha),angle:Object(r.Qa)(T.nullEntityAngle),ratio:Object(r.Qa)(T.nullEntityRatio)}),c=(p=null===D?f:v).FCcolor.color,d=p.FCcolor.alpha,g=p.FCcolor.angle,h=p.FCcolor.ratio):(c=Object(r.Qa)(a.color,C,T.fillColor),d=Object(r.Qa)(a.alpha,O,T.fillAlpha),g=Object(r.Qa)(a.angle,T.fillAngle),h=Object(r.Qa)(a.ratio,T.fillRatio),p=on({color:c,alpha:d,angle:g,ratio:h})),N===Hi&&(A.showTooltip=0),I.visibleEntityAttr={stroke:Object(l.c)(z,W),fill:(I.fillColor=p).toString(),"fill-opacity":d/100},F=d.split(Wi),I.alphaArr=F,Y&&(Object(r.Qa)(a.fillhovercolor,a.fillhoveralpha,a.fillhoverangle,a.fillhoverratio,a.hoverfillcolor,a.hoverfillalpha,a.hoverfillratio,a.hoverfillangle)===Vi?(!T.hoverColorObject&&(T.hoverColorObject=on({color:T.hoverFillColor,alpha:T.hoverFillAlpha,angle:T.hoverFillAngle,ratio:T.hoverFillRatio})),x=T.hoverColorObject):(c=Object(r.Qa)(a.fillhovercolor,a.hoverfillcolor,T.hoverFillColor),d=Object(r.Qa)(a.fillhoveralpha,a.hoverfillalpha,T.hoverFillAlpha),g=Object(r.Qa)(a.fillhoverangle,a.hoverfillangle,T.hoverFillAngle),h=Object(r.Qa)(a.fillhoverratio,a.hoverfillratio,T.hoverFillRatio),x=on({color:c,alpha:d,angle:g,ratio:h})),I.hoverColor=x),P||(P=t.labelConfig={}),u=I.fontColor,m=I.fontFamily,b=I.fontBold,N=I.toolText,n=I.link,K?(o=K[0],s=K[1]):(o=Ui,s=Zi),P.align=o,P.vAlign=s,P.bgColor=Hi,P.borderColor=Hi,P.fontColor=u,P.fontFamily=m,P.fontBold=b,P.toolText=N,P.link=n,"object"==typeof I.options)for(y=I.entityLabels=I.entityLabels||[],L=(w=I.labels||[]).length;L--;)y[L]||(y[L]={config:{}}),P=y[L].config,(K=w[L].labelAlignment)?(o=K[0],s=K[1]):(o=Ui,s=Zi),P.align=o,P.vAlign=s,P.displayValue=j.getDisplayValue(t,w[L],I.options.isDataEnabled,!L,a),P.bgColor=Hi,P.borderColor=Hi,P.toolText=N,P.align=o,P.vAlign=s,P.bgColor=Hi,P.borderColor=Hi,P.fontColor=u,P.fontFamily=m,P.fontBold=b,P.toolText=N;else P.displayValue=j.getDisplayValue(t,S={shortText:I.shortLabel,text:I.label},!0,!0,a)}getDisplayValue(e,t,a,i,n){let o,l=this.getFromEnv("chart").config.entityOpts,s=e.config,c=s.cleanValue,d=s.formattedValue,g=l.labelSepChar;return a?i&&void 0!==n.displayvalue?o=n.displayvalue:(o=Object(r.Qa)(l.includeNameInLabels?l.useShortName?t.shortText:t.text:""),l.includeValueInLabels&&null!==c&&(o=o===Vi?d:o+g+d)):o=s.label,o}static _sanitizeEntityOptions(e){return delete e.outlines,delete e.label,delete e.shortlabel,delete e.labelposition,delete e.labelalignment,delete e.labelconnectors,e}_redefineEntities(e){let t,a,i,n,o,l,s,c,d,g,h,p,u=this,m=u.config,b={},f={},v=u.getFromEnv("chart").config.entities,x=m.useSNameAsId,C=0;for(t=e.length;t--;)if(i=(a=e[t]).internalid,n=a.newid?a.newid:i,o=a.sname,l=a.lname,p=v[i],i=Object(r.fb)(i),n=(n=Object(r.fb)(n))&&n.toLowerCase(),p){for(h in b[n]=c={origId:i},f[i]=!0,p)c[h]=p[h];c.shortLabel=o||p.shortLabel,c.label=l||p.label,c.showhovereffect=a.showhovereffect,c.fillhovercolor=a.fillhovercolor,c.fillhoveralpha=a.fillhoveralpha,c.fillhoverangle=a.fillhoverangle,c.fillhoverratio=a.fillhoverratio,c.borderhoverthickness=a.borderhoverthickness}for(s in(g=u.components.data)||(g=u.components.data={}),b)g[s=s.toLowerCase()]||(g[s]={config:{}}),g[s].config=b[s],C+=1;for(s in d=g,v)if(c=v[s],!f[s=Object(r.fb)(s)]){for(h in x?(!(p=d[c.shortLabel.toLowerCase()])&&(p=d[c.shortLabel.toLowerCase()]={}),p.config={},p.origId=c.shortLabel):(!(p=d[s.toLowerCase()])&&(p=d[s.toLowerCase()]={}),p.config={},p.config.origId=s),c)p.config[h]=c[h];C+=1}m.entityCount=C}draw(){let e,t=this.config,a=this.getFromEnv("chart"),i=r.Ba?200:10;this.config.ready=!1,t.BATCH_SIZE=i,t.labelBatchSize=r.Ba?200:20,(e=this._batchRender())(0),a.config.entityFlag=!0,a.checkComplete()}_batchRender(){let e,t,a,i,n,o=this,r=o.config,l=o.getFromEnv("chart").config.entities.firstEntity,s=o.components.data,c=r.BATCH_SIZE,d=r.entityKeys=l?o._getKeys(l,s):Object.keys(s),g=r.entityLength=d.length,h=function(r){for(e=r,a=0;d[e]!==Vi;)if(n=o.drawEntity(t=s[d[e]],c),a+=n,t.config.drawn&&((i=e===g-1?t:s[d[e-1]])&&(i.config.drawn=!1,i.config.outlineStartIndex=Vi),e++),a>=c){o.addJob("entityDraw",h.bind(this,e),Si.b.entitydraw);break}e===g&&(o._addEventListenersToEntities(0),o.initComplete())};return h}_addEventListenersToEntities(e){let t,a,i,n,o=this,r=o.components.data,l=o.config,s=l.BATCH_SIZE,c=l.entityKeys,d=l.entityLength,g=0;for(t=e;t<d;t++)if((i=(n=(a=r[c[t]]).config).options)&&!1===i.isDataEnabled||o.addMouseGestures(a),++g===s){o.addJob("_addEventListenersToEntities",o._addEventListenersToEntities.bind(this,t),Si.b.entitydraw);break}}static _getKeys(e,t){let a=[e],i=e;for(;t[i];)a.push(i=t[i].nextId);return a}_getDefaultTooltip(e,t){let a,i,n=e.config.cleanValue,o=e.config.formattedValue,r=this.getFromEnv("chart").config.entityOpts;if("object"==typeof e.config.options){if(!(i=t.labels&&t.labels[0]))return Vi;a=(r.useSNameInTooltip?i.shortText:i.text)+(null===n?Hi:r.tooltipSepChar+o)}else a=(r.useSNameInTooltip?t.shortLabel:t.label)+(null===n?Hi:r.tooltipSepChar+o);return a}drawEntity(e,t){let a,i,n,o,l,s,c,d,g,h=this,p=h.getFromEnv("chart"),u=p.getFromEnv("animationManager"),m=e.config,b=r.Ba||!zi?"litepath":"path",f=p.config.entityOpts,v=m.outlines,x=h.getFromEnv("toolTipController"),C=this.getLinkedParent().getChildContainer("plot"),O=this.getLinkedParent().getChildContainer("plotShadow"),y=m.toolText,S=f.shadow,w=[],L={};if(h._configureEntityDrawingParams(e),n=(m=e.config).visibleEntityAttr,g=m.shadowOptions,a=m.outlineStartIndex===Vi?v.length:m.outlineStartIndex,e.graphics||(e.graphics={}),c=0,w=m.outlinePath||(m.outlinePath=[]),d=m.customStrokeWidthModifier,"object"==typeof m.options){for(;a--;)if(w=v[a].outline,o=!0===m.options.isDataEnabled?n:Object(r.N)(Object(r.N)({},n),rn(v[a].style,d)),(l=e.graphics.outlines)||(l=e.graphics.outlines=[]),l[a]||(l[a]={}),s=l[a].outline,o[b]=w,(s=l[a].outline=u.setAnimation({el:b,container:C,attr:o,component:h,label:"path"})).shadow(!!S&&g,O),x.enableToolTip(s,y),c++,m.outlineStartIndex=a,c===t)return c;return m.drawn=!0,c}for(;a--;)if(w=(i=v[a]).concat(w),c++,m.outlineStartIndex=a,c===t)return m.outlinePath=w,c;return e.graphics.outlines||(n[b]=w),Object.assign(L,n,e.hidden&&{"fill-opacity":0}||{}),e.graphics.outlines=u.setAnimation({el:e.graphics.outlines||b,container:C,attr:L,component:h,label:"path"}),m.drawn=!0,m.outlineStartIndex=0,m.outlinePath=[],e.graphics.outlines.shadow(!!S&&g,O),x.enableToolTip(e.graphics.outlines,y),c}_configureEntityDrawingParams(e){let t,a=this.getFromEnv("chart"),i=e.config,n=a.config.scalingParams,o=!zi||r.Ba,l=n.scaleFactor,s=n.strokeWidth,c=(o?a.baseScaleFactor:1)*s,d=1===a.config.entityOpts.scaleBorder,g=i.borderThickness,h=i.origConnectorThickness,p=i.hoverBorderThickness,u=i.visibleEntityAttr,m=u["fill-opacity"];i.shadowOptions={scalefactor:[l,l*a.config.baseScaleFactor],opacity:en.apply(qi,i.alphaArr)/100,useFilter:0},i.fillOpacity=e.hidden?0:m,o?(g=i.entityBorderThickness=d?g*c:g/l,h/=l,t=d?l:n.sFactor,p&&(p=i.hoverBorderThickness=d?p*c:p/l)):(g=d?g*s:g,t=d?n.scaleFactor:a.baseScaleFactor),i.entityBorderThickness=g,i.connectorThickness=h,i.customStrokeWidthModifier=t,u["stroke-width"]=g,u.transform=r.Ba||!zi?"":n.transformStr}drawLabels(e){let t,a,i,n,o=this,r=e,l=o.getFromEnv("chart"),s=o.config,c=s.labelBatchSize,d=s.entityLength,g=[],h=0,p=l.getChildren("mapLabelAnnotations")&&l.getChildren("mapLabelAnnotations")[h],u=0,m=0,b=l.getFromEnv("toolTipController"),f=l.config.annotationConfig;for(t in p||(n=new Di.a,l.attachChild(n,"mapLabelAnnotations"),p=l.getChildren("mapLabelAnnotations")[h]),p.clear(),p._renderer&&(p._renderer=null),f.showbelow=0,r){if(o.drawLabel(r[t],g),++u===c){for(p.annotation.injectDependency("paper",l.getFromEnv("paper")),p.annotation.injectDependency("toolTipController",b),a=0;a<g.length;a++)g[a].animationLabel="entityLabel";for(i=p.addGroup(Object.assign(f,{id:"entityLabels"+h,items:g,animationLabel:"entityLabelGroup"}),o),l.config.labelsOnTop&&i.store.element.toFront(),a=0;a<i.items.length;a++)i.items[a].addEventListener("mouseover",g[a].onmouseover),i.items[a].addEventListener("mouseout",g[a].onmouseout),i.items[a].addEventListener("click",g[a].onclick);h++,(p=l.getChildren("mapLabelAnnotations")&&l.getChildren("mapLabelAnnotations")[h])||(n=new Di.a,l.attachChild(n,"mapLabelAnnotations"),p=l.getChildren("mapLabelAnnotations")[h]),p.clear(),p._renderer&&(p._renderer=null),u=0,g=[]}else if(m==d-1){for(p.annotation.injectDependency("paper",l.getFromEnv("paper")),p.annotation.injectDependency("toolTipController",b),a=0;a<g.length;a++)g[a].animationLabel="entityLabel";for(i=p.addGroup(Object.assign(f,{id:"entityLabels"+h,items:g,animationLabel:"entityLabelGroup"}),o),l.config.labelsOnTop&&i.store.element.toFront(),a=0;a<i.items.length;a++)i.items[a].addEventListener("mouseover",g[a].onmouseover),i.items[a].addEventListener("mouseout",g[a].onmouseout),i.items[a].addEventListener("click",g[a].onclick)}m++}o.drawLabelConnFn(0)}drawLabelConnFn(e){let t,a,i,n,o,r=this,l=r.config,s=r.components.data,c=l.BATCH_SIZE,d=l.entityKeys,g=d.length,h=0;for(a=e;a<g;a++){if("object"==typeof(n=(o=s[d[a]]).config).options)for(t=(i=n.labels)&&i.length||0;t--;)i[t].labelConnectors&&(r.drawLabelConnectors(o,i[t].labelConnectors,r),h++);else n.labelConnectors&&(r.drawLabelConnectors(o,n.labelConnectors,r),h++);if(h===c){r.addJob("drawLabelConnectors",r.drawLabelConnFn.bind(this,a),Si.b.entitydraw);break}}}_getLabelObject(e,t,a){let i,n,o,r,l,s,c,d,g,h,p,u,m=this,b=m.getFromEnv("chart"),f=e.config,v=b.config.scalingParams,x=e.graphics&&e.graphics.outlines,C=f.fontSize,O=f.labelPadding;return t===Vi?(i=e.labelConfig,n=f.labelPosition,o=f.labelAlignment):(r=(i=(u=(f.entityLabels||[])[t]).config).style=(p=(f.labels||[])[t]).style,n=p.labelPosition,o=p.labelAlignment),n?(l=n[0],s=n[1]):(l=(c=x.getBBox()).x+c.width/2,s=c.y+c.height/2),o?(g=o[1],(d=o[0])===Ki?l-=O:d===Xi&&(l+=O),g===Qi?s-=O:g===Yi&&(s+=O)):(d=Ui,g=Zi),h=parseFloat(C)/v.sFactor,!a&&r&&(r.color&&(i.fontColor=r.color),r["font-size"]&&(h=parseFloat(r["font-size"])/v.sFactor),r["font-family"]&&(i.fontFamily=r["font-family"]),r["font-weight"]!==Vi&&(i.fontBold="bold"===r["font-weight"])),i.x=l.toString(),i.y=s.toString(),i.wrap=1,i.type="text",i.fontSize=h,{x:l.toString(),y:s.toString(),wrapwidth:ln[d](void 0,l+void 0)-O,wrapheight:sn[g](void 0,s+void 0)-O,wrap:1,type:"text",align:i.align,valign:i.vAlign,text:i.displayValue,tooltext:i.toolText,css:i.link!==Vi&&{cursor:"pointer",_cursor:"hand"},bgcolor:i.bgColor,bordercolor:i.borderColor,fillcolor:i.fontColor,fontsize:i.fontSize,font:i.fontFamily,bold:i.fontBold,onclick:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)m.entityClick(n[a].outline,t);else m.entityClick(n,t)},onmouseover:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)m.entityRollOver(n[a].outline,t);else m.entityRollOver(n,t)},onmouseout:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)m.entityRollOut(n[a].outline,t);else m.entityRollOut(n,t)},ontouchstart:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)m.entityRollOver(n[a].outline,t);else m.entityRollOver(n,t);m.entityRollOver(n,t)}}}drawLabel(e,t){let a,i,n,o=this,r=e.config;if(r.showLabel)if("object"==typeof r.options)for(i=(n=r.labels)&&n.length||0,a=r.options.isDataEnabled;i--;)t.push(o._getLabelObject(e,i,a,!i));else t.push(o._getLabelObject(e,Vi,!0,!0))}drawLabelConnectors(e,t,a){let i,n,o=e.config,s=this,c=s.getFromEnv("chart"),d=c.getFromEnv("animationManager"),g=c.config.scalingParams,h=a.getLinkedParent().getChildContainer("plot"),p=t&&t.length||0,u=o.showLabel;for(;p--;)i=e.graphics.connectorElem,u?e.graphics.connectorElem=i=d.setAnimation({el:e.graphics.connectorElem||"path",attr:{path:n=t[p],opacity:1,transform:r.Ba||!zi?"":g.transformStr,stroke:Object(l.c)(o.connectorColor,o.connectorAlpha),"shape-rendering":$i,"stroke-width":o.connectorThickness},container:h,component:s,label:"labelConnectors"}):i&&i.hide()}entityClick(e,t){let a=e.node.__entity,i=this.getFromEnv("chart"),n=i.config.scalingParams,o=a.graphics.outlines.getBBox(),r=i.getFromEnv("linkClickFN"),l=a.config,s=l.link;o.width*=n.scaleFactor,o.height*=n.scaleFactor,o.x=o.x*n.scaleFactor+n.translateX,o.y=o.y*n.scaleFactor+n.translateY,o.x2=o.x+o.width,o.y2=o.y+o.height,i.fireChartInstanceEvent("entityclick",l.eventArgs,t),s!==Vi&&r.call({link:s,entity:a,entityBox:o},!0)}entityRollOver(e,t){let a=e.node.__entity,i=a.config,n=this.getFromEnv("chart"),o=n.getFromEnv("animationManager"),r=i.hoverAttr;n.plotEventHandler(e,t,"entityRollOver"),e.data("hovered")?clearTimeout(a.config.timer):i.useHoverColor&&i.isVisible&&!a.hidden&&r&&(n.config.hoverEntity=e,o.setAnimation({el:e,attr:r,component:this,state:"updating",label:"path"}),e.data("hovered",!0))}entityRollOut(e,t){let a,i=e.node.__entity,n=this,o=n.getFromEnv("chart"),r=o.getFromEnv("animationManager"),l=i.config.revertAttr;o.plotEventHandler(e,t,"entityRollOut"),i.config.timer=setTimeout(function(){!0!==(a=i.hidden)&&l&&(r.setAnimation({el:e,attr:l,component:n,state:"updating",label:"path"}),e.data("hovered",!1))},100)}addMouseGestures(e){let t,a,i,n,o,s=e.config,c=s.originalId,d=this,g=e.graphics,h=s.useHoverColor,p=s.hoverBorderThickness,u=s.hoverBorderColor,m=s.hoverBorderAlpha,b=s.entityBorderThickness,f=s.borderColor,v=s.borderAlpha,x=s.link,C=s.visibleEntityAttr,O=function(t){x!==Vi&&t.css({cursor:"pointer",_cursor:"hand"}),t.data("eventArgs",s.eventArgs),t.data("groupId","groupId"+c),t.node.__entity=e,e._listenersBinded||t.click(d.entityClick.bind(d,t)).hover(d.entityRollOver.bind(d,t),d.entityRollOut.bind(d,t))};for(t in s.eventArgs={value:s.cleanValue,label:s.label,shortLabel:s.shortLabel,originalId:s.origId,id:s.id||s.origId},s.legacyEventArgs={value:s.value,lName:s.label,sName:s.shortLabel,id:s.originalId||s.id},h&&(s.hoverAttr={fill:Object(r.db)(s.hoverColor)},s.revertAttr={fill:Object(r.db)(s.fillColor),stroke:Object(r.db)(s.borderColor,s.borderAlpha)},s.revertAttr["fill-opacity"]=C["fill-opacity"],p!==b&&(s.hoverAttr["stroke-width"]=Object(r.Sa)(p,b),s.revertAttr["stroke-width"]=b),(u!==f||m!==v)&&(s.hoverAttr.stroke=Object(l.c)(u,m),s.revertAttr.stroke=Object(l.c)(f,v))),g)if(g.hasOwnProperty(t))if(g[t]instanceof Array){for(a=0,n=(o=g[t]).length;a<n;a++)O(i=o[a].outline);e._listenersBinded=!0}else O(i=g[t]),e._listenersBinded=!0}getDataLimits(){let e=this.config;return{max:e.max,min:e.min}}initComplete(){let e=this.getFromEnv("chart");this.drawLabels(this.components.data),e.config.entitiesReady=!0,e.checkComplete()}}var yn,Sn=On,wn=function(e,t,a,i,n){var o=Math.pow;return o(a-e,2)+o(i-t,2)<=o(n,2)},Ln=Math.PI,Fn=Math.cos,jn=Math.sin,kn=Math.max,An=Math.min,En=Ln/180,Tn=function(e,t,a,i,n,o){var r,l,s;return r=(i-t)*(n-a),l=(a-e)*(o-i),isNaN(r)&&(r=0),isNaN(l)&&(l=0),0==(s=r-l)?0:0<s?1:2},In=function(e,t,a,i,n,o){return!!(a<=kn(e,n)&&a>=An(e,n)&&i<=kn(t,o)&&i>=An(t,o))},Pn=function(e,t,a,i,n,o,r,l){var s=Tn(e,t,a,i,n,o),c=Tn(e,t,a,i,r,l),d=Tn(n,o,r,l,e,t),g=Tn(n,o,r,l,a,i);return!!(s!==c&&d!==g||0===s&&In(e,t,n,o,a,i)||0===c&&In(e,t,r,l,a,i)||0===d&&In(n,o,e,t,r,l)||0===g&&In(n,o,a,i,r,l))},_n=function(e,t,a,i,n,o,r){var l,s,c,d,g,h,p,u=0,m=!1;if(wn(e,t,a,i,n)&&3<=o){for(p=2*Ln/o,c=a+n*Fn(-(s=r===yn?.5*Ln:r%360*En)),h=i+n*jn(-s),l=0;l<o;l++){if(d=a+n*Fn(-(s+=p)),g=i+n*jn(-s),Pn(c,h,d,g,e,t,1/0,t)){if(0===Tn(c,h,e,t,d,g))return In(c,h,e,t,d,g);u++}c=d,h=g}m=0!=u%2}return m},Dn=(e,t)=>!e||e&&t&&t.i>e.i?t:e;class Bn{constructor(e){this.configure(e)}configure(e){var t=this;t.validatorFn=e?t.shapeValidator():t.defaultValidator()}defaultValidator(){var e=Math.pow,t=this;return function(a){var i=t.mousePoint;return!!(a&&1>=e((a.x-i.x)/t.xLimit,2)+e((a.y-i.y)/t.yLimit,2))}}shapeValidator(){var e=this;return function(t){var a,i,n,o,r=e.mousePoint,l=t&&t.shapeInfo,s=!1,c=r.x,d=r.y;return"circle"===(a=l&&l.type)?s=wn(c,d,t.x,t.y,i=l.radius):"arc"===a?(i=l.radius,s=!wn(c,d,t.x,t.y,l.innerradius)&&wn(c,d,t.x,t.y,i)):"polygon"===a?s=_n(c,d,t.x,t.y,i=l.radius,l.sides,l.startAngle):"rect"===a||"rectangle"===a?(o=t.y,s=c>=(n=t.x)&&c<=n+(l.width||0)&&d>=o&&d<=o+(l.height||0)):"default"===a&&(s=!1),s}}buildKdTree(e){return this.kdTree=function(e){function t(e,t,a){var i=e[t];e[t]=e[a],e[a]=i}var a,i,n,o=e&&e[0]&&e[0].r||5,r=Math.max,l=Math.floor,s=Math.sqrt,c=Math.min,d=Math.log,g=Math.exp,h=Math.pow;for(i=function(e,a,n,o){for(var h,p,u,m,b,f,v,x,C,O;o>n;){for(600<o-n&&(p=a-n+1,u=d(h=o-n+1),m=.5*g(2*u/3),b=.5*s(u*m*(h-m)/h)*(0>p-h/2?-1:1),f=r(n,l(a-p*m/h+b)),v=c(o,l(a+(h-p)*m/h+b)),i(e,a,f,v)),x=e[a],C=n,O=o,t(e,n,a),e[o].x>x.x&&t(e,n,o);C<O;){for(t(e,C,O),C++,O--;e[C].x<x.x;)C++;for(;e[O].x>x.x;)O--}e[n].x===x.x?t(e,n,O):t(e,++O,o),O<=a&&(n=O+1),a<=O&&(o=O-1)}},n=function(e,a,i,o){for(var h,p,u,m,b,f,v,x,C,O;o>i;){for(600<o-i&&(p=a-i+1,u=d(h=o-i+1),m=.5*g(2*u/3),b=.5*s(u*m*(h-m)/h)*(0>p-h/2?-1:1),f=r(i,l(a-p*m/h+b)),v=c(o,l(a+(h-p)*m/h+b)),n(e,a,f,v)),x=e[a],C=i,O=o,t(e,i,a),e[o].y>x.y&&t(e,i,o);C<O;){for(t(e,C,O),C++,O--;e[C].y<x.y;)C++;for(;e[O].y>x.y;)O--}e[i].y===x.y?t(e,i,O):t(e,++O,o),O<=a&&(i=O+1),a<=O&&(o=O-1)}},a=(e=e||[]).length;a--;)e[a].r>o&&(o=e[a].r),e[a].i=a,e[a].x=+e[a].x,e[a].y=+e[a].y;return{tree:0===e.length?{}:function e(t,a,o,r){var l,s={},c=r?"y":"x";return a===o?(s.point=t[a],s):1==o-a?(t[a][c]>t[o][c]?(s.point=t[a],s.left={point:t[o]}):(s.point=t[o],s.left={point:t[a]}),s):(l=a+o>>1,r?n(t,l,a,o):i(t,l,a,o),s.point=t[l],s.left=e(t,a,l-1,!r),s.right=e(t,l+1,o,!r),s)}(e,0,e.length-1,!1),search:function(e,t,a,i){function n(e,t,a,i){return s(h(e-a,2)+h(t-i,2))}function r(i,o){return"circle"===a?n(i,o,e,t)<=m:i>=m&&i<=b&&o>=f&&o<=v}function l(e,t,a){return e>=t&&e<=a}function c(a){var i=l(e,a.x1,a.x2)&&l(t,a.y1,a.y2),o=n(e,t,a.point.x,a.point.y);return g?void(i?x?a.point.i>g.point.i&&(g=a,x=i,C=o):(g=a,x=i,C=o):!x&&o<C&&(g=a,x=i,C=o)):(g=a,x=i,void(C=o))}function d(i,n){"circle"===a?m=i:(m=e-i||0,b=e+i||0,f=t-n||0,v=t+n||0)}var g,p,u,m=e-o,b=e+o,f=t-o,v=t+o,x=!1,C=0;return i=i||{},u=function(e){e&&e.point&&(d(i.rx||e.point.r,i.ry||e.point.r),r(e.point.x,e.point.y)&&c(e),f<=e.point.y&&p(e.left),v>=e.point.y&&p(e.right))},(p=function(e){e&&e.point&&(d(i.rx||e.point.r,i.ry||e.point.r),r(e.point.x,e.point.y)&&c(e),m<=e.point.x&&u(e.left),b>=e.point.x&&u(e.right))})(this.tree),g&&g.point||g}}}(e),this.tree=this.kdTree.tree,this}getNeighbour(e,t,a){var i=this,n=i.tree,o={x1:e.x-i.xLimit,x2:e.x+i.xLimit,y1:e.y-i.yLimit,y2:e.y+i.yLimit},r=i.validatorFn;return i.mousePoint=e,t?this.kdTree&&this.kdTree.search(e.x,e.y,a,e.options):n?i._searchBtwnLimit(o,n,!0,r):void 0}_searchBtwnLimit(e,t,a,i){var n,o,r=a?e.x1:e.y1,l=a?e.x2:e.y2;if((n=t&&t.point&&t.point[a?"x":"y"])!==yn)return i(t.point)&&(o=t.point),n>=r&&t.left&&(o=Dn(o,this._searchBtwnLimit(e,t.left,!a,i))),n<=l&&t.right&&(o=Dn(o,this._searchBtwnLimit(e,t.right,!a,i))),o}_setSearchLimit(e,t){this.xLimit=e,this.yLimit=t}}Bn.prototype.constructor=Bn;var Mn=Bn;let Rn,Vn=window.navigator.userAgent,Gn=/msie/i.test(Vn)&&!window.opera,Nn="",zn="top",Wn="bottom",Hn="right",Qn="left",Yn="middle",Kn="center",Xn=.6,Zn=window.Math,Un=Zn.min,$n=Zn.max,qn="items",Jn=Math.PI/180,eo="rgba(192,192,192,"+(Gn?.002:1e-6)+")",to=function(e,t){let a=t?Object(r.N)(e.FCcolor,t,!1,!0):{FCcolor:e};return a.toString=r.db,a},ao=function(e,t){let a,i=e&&e.length||!1,n=t||"id",o={};if(!e)return e;for(;i--;)(a=e[i])[n]!==Rn&&(o[a[n].toLowerCase()]=a);return o};Object(s.a)({name:"mapsAnimation",type:"animationRule",extension:Ri});class io extends Sn{constructor(){super(),this.components={},this.getLabelAlignment={top:function(e,t,a){return{x:e.toString(),y:(t-a).toString(),align:Kn,valign:zn}},left:function(e,t,a){return{x:(e-a).toString(),y:t.toString(),align:Hn,valign:Yn}},right:function(e,t,a){return{x:(e+a).toString(),y:t.toString(),align:Qn,valign:Yn}},bottom:function(e,t,a){return{x:e.toString(),y:(t+a).toString(),align:Kn,valign:Wn}},center:function(e,t){return{x:e.toString(),y:t.toString(),align:Kn,valign:Yn}}},this.getWrapWidth={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*Un(t,e-t)}},this.getWrapHeight={top:function(){return arguments[1]},middle:function(e,t){return 2*Un(t,e-t)},bottom:function(e,t){return e-t}}}getName(){return"markers"}getType(){return"dataset"}configureAttributes(e){if(e){this.JSONData=e;let t=this,a=t.getFromEnv("chart").config.markerOpts;t.calculateDataLimits(),a.dataEnabled?this._parseMarkers():this.defineMarkersNShapes(),this.configureConnectors()}}calculateMarkerRadiusLimits(){if(this.JSONData){let e=this,t=e.JSONData,a=e.config,i=e.getFromEnv("chart"),n=io.getMarkerRadiusLimits(i.config.width,i.config.height,t.markermaxradius,t.markerminradius);a.minRadius=n.min,a.maxRadius=n.max}}calculateDataLimits(){let e,t,a,i,n,o=this.getFromEnv("chart"),r=this.config,l=(o.jsonData.markers||{})[qn]||[],s=this.getFromEnv("number-formatter"),c=1/0,d=-1/0;for(n=0,a=l.length;n<a;n++)null!==(t=s.getCleanValue(i=(e=l[n]).value))&&(c=Un(t,c),d=$n(t,d));r.min=c,r.max=d}_parseMarkers(){let e,t,a,i,n,o,l,s,c=this,d=c.getFromEnv("chart"),g=d.jsonData.markers,h=g[qn],p=g.shapes,u=d.config.markerOpts,m=this.getFromEnv("number-formatter"),b=c.components.shapeObjs={},f=c.components.markerObjs={};if(h&&h.length){if(p&&p.length)for(t=p.length;t;t-=1)(s=(i=p[t-1]).id.toLowerCase())&&(b[s]=i);for(t=h.length;t--;)(s=(i=h[t]).id&&i.id.toLowerCase())&&((e=i.value)!==Rn&&""!==e&&(e=parseFloat(e)),(n=(a=io._initializeMarkerItem(s,i,null,d)).config.options.shapeid)&&"string"==typeof n&&(n=n.toLowerCase()),l=(o=a.config).options,o.cleanValue=m.getCleanValue(e),o.formattedValue=null===o.cleanValue?Rn:m.dataLabels(e),o.fillColor=Object(r.Qa)(l.fillcolor,l.color,u.fillColor),o.fillAlpha=Object(r.Qa)(l.fillalpha,l.alpha,u.fillAlpha),o.fillRatio=Object(r.Qa)(l.fillratio,u.fillRatio),o.fillAngle=Object(r.Qa)(l.fillangle,u.fillAngle),o.borderThickness=Object(r.Sa)(l.borderthickness,u.borderThickness),o.borderColor=Object(r.Qa)(l.bordercolor,u.borderColor),o.borderAlpha=Object(r.Qa)(l.borderalpha,u.borderAlpha),o.labelPadding=l.labelpadding||u.labelPadding,a.dataset=c,i.__hideMarker&&(a._isHidden=!0),n&&(a.shapeObj=b[n]),f[s]=a)}}defineMarkersNShapes(){let e,t,a,i,n,o,l,s,c=this,d=c.getFromEnv("chart"),g=d.jsonData.markers,h=g.definition,p=this.getFromEnv("number-formatter"),u=d.config.markerOpts,m=ao(h)||{},b=ao(g.application)||{},f=g.shapes,v=c.components.shapeObjs=c.components.shapeObjs||(c.components.shapeObjs={}),x=c.components.markerObjs=c.components.markerObjs||(c.components.markerObjs={});if(h&&h.length){if(f&&f.length)for(i=f.length;i;i-=1)(s=(o=f[i-1]).id.toLowerCase())&&(v[s]=o);for(s in m)(n=x[s]=io._initializeMarkerItem(s,o=m[s],b[s],d)).dataset=c,l=n.config.options.shapeid,(t=n.config).cleanValue=p.getCleanValue(a=o.value),e=t.options,t.formattedValue=null===t.cleanValue?Rn:p.dataLabels(a),t.fillColor=Object(r.Qa)(e.fillcolor,e.color,u.fillColor),t.fillAlpha=Object(r.Qa)(e.fillalpha,e.alpha,u.fillAlpha),t.fillRatio=Object(r.Qa)(e.fillratio,u.fillRatio),t.fillAngle=Object(r.Qa)(e.fillangle,u.fillAngle),t.borderThickness=Object(r.Sa)(e.borderthickness,u.borderThickness),t.borderColor=Object(r.Qa)(e.bordercolor,u.borderColor),t.borderAlpha=Object(r.Qa)(e.borderalpha,u.borderAlpha),t.labelPadding=e.labelpadding||u.labelPadding,t.options.tooltext=Object(r.Qa)(e.tooltext,u.tooltext),t.link=e.link,l&&(n.shapeObj=v[l.toLowerCase()])}}static getMarkerRadiusLimits(e,t,a,i){let n=Un(e,t);return i=parseFloat(i),a=parseFloat(a),isNaN(i)||isNaN(a)?isNaN(i)?isNaN(a)?{min:.02*n,max:.07*n}:{min:parseInt(a/10,10),max:a}:{min:i,max:10*i}:i<a?{min:i,max:a}:{min:a,max:i}}getDataLimits(){let e=this.config;return{min:e.min,max:e.max}}static _initializeMarkerItem(e,t,a){let i,n={},o=n.config;return o||(o=n.config={}),o.id=e,o.definition=t,o.application=a,o.hasValue=null,o.value=null,o.options=null,o.label=null,o.markerShape=null,o.markerLabel=null,o.drawOptions={shape:null,label:null},o.drawComplete=!1,i=n.config.options=Object(r.N)({},o.definition),o.dataEnabled?!isNaN(i.value)&&""!==i.value&&(n.value=parseFloat(i.value),n.hasValue=!0):o.applyAll?o.options=Object(r.N)(i,o.application):a&&(o.options=Object(r.N)(i,o.application)),n}configureConnectors(){let e,t,a,i,n,o,l,s,c,d,g,h,p,u,m=this,b=m.getFromEnv("chart"),f=b.jsonData.markers||{},v=f.connector||f.connectors||[],x=m.components.markerObjs,C=v.length,O=m.components.connectors,y=function(e){return function(t){let a=this,i=a.getElement();i&&a.unfilteredConfig.hoverEffect&&i.attr(a.unfilteredConfig._hoverAttrs),b.fireChartInstanceEvent("connectorrollover",e,t)}},S=function(e){return function(t){let a=this,i=a.getElement();i&&a.unfilteredConfig.hoverEffect&&i.attr(a.unfilteredConfig._defaultAttrs),b.fireChartInstanceEvent("connectorrollout",e,t)}},w=function(e){return function(t){b.fireChartInstanceEvent("connectorClick",e,t)}},L=b.config.connectorOpts,F={};for(O=m.components.connectors=[],u=0;u<C;u++)((p=v[u]).from||p.to)&&(t=x[p.from.toLowerCase()],a=x[p.to.toLowerCase()],t&&a)&&(i=v[u].label,(F=O[u])||(F=O[u]={}),F.config||(e=F.config={}),F.graphics||(F.graphics={}),(e=F.config=Object(r.N)({},p)).fromMarker=t,e.toMarker=a,e.link=p.link,e.showTooltip=Object(r.Sa)(p.showtooltip,L.showTooltip),n=e.tooltext=e.showTooltip?Object(r.Qa)(p.tooltext,L.tooltext):Nn,o=e.thickness=Object(r.Qa)(p.thickness,L.thickness),l=e.color=Object(r.Qa)(p.color,L.color),s=e.alpha=Object(r.Qa)(p.alpha,L.alpha),e.hoverEffect=Object(r.Sa)(p.showhovereffect,L.showHoverEffect),c=Object(r.Qa)(p.hovercolor,L.hoverColor,l),d=Object(r.Qa)(p.hoveralpha,L.hoverAlpha,s),g=Object(r.Qa)(p.hoverthickness,L.hoverThickness,o),e.dashed=Object(r.Qa)(p.dashed,L.dashed),e.dashLen=Object(r.Sa)(p.dashlen,L.dashlen),e.dashGap=Object(r.Sa)(p.dashgap,L.dashgap),n&&(e.tooltext=n=Object(r.Pa)(Object(r.Oa)(n,[3,40,41,42,43],{label:i,fromId:t.config.definition.id,toId:a.config.definition.id,fromLabel:t.config.definition.label,toLabel:a.config.definition.label},void 0))),e.eventArgs={fromMarkerId:t.config.id,toMarkerId:a.config.id,label:i},e._hoverAttrs={stroke:to({color:c,alpha:d}).toString(),"stroke-width":g},e._defaultAttrs={stroke:to({color:l,alpha:s}).toString(),"stroke-width":o},e.type="line",e.onclick=w(e.eventArgs),e.onmouseover=y(e.eventArgs),e.onmouseout=S(e.eventArgs),i&&(!(h=F.labelConfig)&&(h=F.labelConfig={}),h.type="text",h.text=i,h.align=Kn,h.valign=Yn,h.font=L.font,h.fillcolor=L.fontColor,h.bgcolor=L.labelBgColor,h.bordercolor=L.labelBorderColor,h.tooltext=e.tooltext))}draw(){let e,t,a,i,n,o,r,l=this,s=l.getFromEnv("chart"),c=l.config,d=s.getChildren("mapAnnotations")[0],g=l.components.markerObjs,h=s.config,p=h.markerOpts,u=h.scalingParams,m=s.config.annotationConfig,b=l.getFromEnv("toolTipController"),f=[],v=[],x={};for(i in this._drawConnectors(),l.imageLoadCount=0,l.imageCount=0,r=d.addGroup(Object.assign(m,{id:"markers",fillalpha:"100",items:f,scaleimages:1}),l),o=d.addGroup(Object.assign(m,{id:"markerLabels",items:v,scaleimages:1}),l),h.labelsOnTop&&s.getChildren("mapLabelAnnotations")&&s.getChildren("mapLabelAnnotations")[0].annotation.groups[0].store.element.toFront(),l.components.markerGroup=r,l.components.markerLabelGroup=o,c.autoScale=p.autoScale?u.sFactor:1,g)e=null,(a=(t=g[i]).config).conIsHidden||(e=this._drawMarkerItem.call(t)),e&&(a._annotationIndex=f.length,x[i]=t,t.markerShape=e.markerShape&&d.addItem(r.getId(),Object.assign({align:"center",valign:"middle",animationLabel:"markerItem"},e.markerShape),!0,l),(n=t.markerShape&&t.markerShape.getElement())&&b.enableToolTip(n,t.config.tooltext),f.push(t.markerShape),t.markerLabel=e.markerLabel&&d.addItem(o.getId(),Object.assign({animationLabel:"markerItem"},e.markerLabel),!0,l),v.push(t.markerLabel));l.addJob("buildKdtree",l._buildKdTree.bind(l),Si.b.kdTree)}_buildKdTree(){let e,t,a=this,i=a.components.kdArrayMap,n=a.components.markerGroup,o=[],r=n&&n.items,l=r&&r.length||0;for(t=0;t<l;t++)i[e=r[t].config.id]&&o.push(i[e]);a.components.kDTree||(a.components.kDTree=new Mn(!0)),a.components.kDTree._setSearchLimit(1/0,1/0),a.components.kDTree.buildKdTree(o)}_drawMarkerItem(){let e,t,a,i,n,o,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y=this,S=y.dataset,w=S.getFromEnv("chart"),L=w.config,F=S.config,j=L.scalingParams,k=y.config,A=k.options,E=k.definition,T=L.markerOpts,I=T.dataLabels.style,P=A.shapeid,_=A.scale||1,D=A.label||Nn,B=w.config.scalingParams.scaleFactor*w.config.baseScaleFactor,M=(A.labelpos||zn).toLowerCase(),R=k.formattedValue===Rn?Rn:k.formattedValue,V=A.tooltext||T.tooltext,G=Object(r.Sa)(E.radius,k.radius,T.radius)*_*F.autoScale||1e-4,N=k.fillColor,z=k.fillAlpha,W=k.fillRatio,H=k.fillAngle,Q=k.borderThickness,Y=k.borderColor,K=k.borderAlpha,X=S.components.kdArrayMap||(S.components.kdArrayMap={}),Z=y.config.id;if(k.autoScale=T.autoScale?B:1,P)return V=V?Object(r.Pa)(Object(r.Oa)(V,[1,2,3],{formattedValue:R,label:D},A)):R?D+T.tooltipSepChar+R:D,R!==Rn&&null!==R?D=D+T.labelSepChar+R:isNaN(_)?_=1:0>_?_=0:5<_&&(_=5),Object(r.N)(A,{x:A.x&&A.x.toString(),y:A.y&&A.y.toString(),fillcolor:N,fillalpha:z,fillratio:W,fillangle:H,borderthickness:Q,bordercolor:Y,borderalpha:K,hovereffect:Object(r.Qa)(T.showHoverEffect),radius:G&&G.toString(),link:A.link,showshadow:Object(r.Sa)(A.showshadow,k.shadow),_markerLabel:D,_markerId:A.id,id:(A.id+Nn).toLowerCase()}),delete A.tooltext,k.tooltext=!!T.showTooltip&&V,b=+A.x*j.sFactor+j.translateX,f=+A.y*j.sFactor+j.translateY,G=A.radius,"triangle"===P?(Object(r.N)(A,{type:"polygon",sides:3,startangle:T.startAngle}),O="polygon",C=3):"diamond"===P?(Object(r.N)(A,{type:"polygon",sides:4,startangle:T.startAngle}),O="polygon",C=4):"arc"===P?(x=G*Xn,Object(r.N)(A,{type:"arc",startangle:0,endangle:360,innerradius:x}),O="arc"):"circle"===P?(A.type="circle",O="circle"):(h=S.getShapeArgs.call(y),T.dataEnabled&&T.valueToRadius&&A.radius!==Rn?delete h.radius:(!h.radius&&(h.radius=T.radius),h.radius*=_*k.autoScale),Object(r.N)(A,h),A.id=A._markerId&&A._markerId.toLowerCase(),x=h.innerradius,h.radius&&(G=h.radius),O=h.type&&h.type.toLowerCase(),C=h.sides||5,(G=+G)&&x&&G<x&&(m=G,A.radius=G=x,A.innerradius=x=m)),A.type=A.type&&A.type.toLowerCase(),Object(r.N)(A,{hoverfillcolor:Object(r.Qa)(A.fillhovercolor,T.hoverFillColor,A.fillcolor),hoverfillalpha:Object(r.Qa)(A.fillhoveralpha,T.hoverFillAlpha,A.fillalpha),hoverfillratio:Object(r.Qa)(A.fillhoverratio,T.hoverFillRatio,A.fillratio),hoverfillangle:Object(r.Qa)(A.fillhoverangle,T.hoverFillAngle,A.fillangle),hoverborderthickness:Object(r.Sa)(A.borderhoverthickness,T.hoverBorderThickness,A.borderthickness),hoverbordercolor:Object(r.Qa)(A.borderhovercolor,T.hoverBorderColor,A.bordercolor),hoverborderalpha:Object(r.Qa)(A.borderhoveralpha,T.hoverBorderAlpha,A.borderalpha)}),p={alpha:A.fillalpha,color:A.fillcolor,angle:360-A.fillangle,ratio:A.fillratio},u={alpha:A.hoverfillalpha,color:A.hoverfillcolor,angle:360-A.hoverfillangle,ratio:A.hoverfillratio},A._defaultattrs={fill:Object(r.db)(p),"stroke-width":"0"===A.showborder?0:A.borderthickness,stroke:Object(l.c)(A.bordercolor,A.borderalpha)},A._hoverattrs={fill:Object(r.db)(u),"stroke-width":"0"===A.showborder?0:A.hoverborderthickness,stroke:Object(l.c)(A.hoverbordercolor,A.hoverborderalpha)},"image"===A.type?(A.borderthickness=A.borderthickness||0,A.onload=function(e){let t=this.config,a=e.width,i=e.height,n={},o=(+t.x-a/(2*j.sFactor))*j.sFactor,r=(+t.y-i/(2*j.sFactor))*j.sFactor;(n=X[Z]||(X[Z]={})).x=o+j.translateX,n.y=r+j.translateY,n.element=y,n.shapeInfo={type:"rect",width:a,height:i},a&&i&&this.getElement().attr({x:o,y:r,width:a,height:i}),S.imageLoadCount++,S.imageLoadCount===S.imageCount&&S._buildKdTree()},A.onerror=function(){S.imageLoadCount++,S.imageLoadCount===S.imageCount&&S._buildKdTree()},S.imageCount++):((v=X[Z]||(X[Z]={})).x=b,v.y=f,v.element=y,v.shapeInfo={type:O,sides:C,radius:+G+A.borderthickness/2,innerradius:x}),k.drawOptions.shape=A,T.showLabels?(t=(e=S._getLabelOptions(M,g=A.labelpadding||T.labelPadding,A)).align,a=e.valign,n=k._labelBaseHeight,s=k._labelYOffset,c=T.labelWrapWidth?T.labelWrapWidth:S.getWrapWidth[t](i=k._labelBaseWidth,+e.x+(o=k._labelXOffset)),d=T.labelWrapHeight?T.labelWrapHeight:S.getWrapHeight[a](n,+e.y+s),c>g&&(c-=g),d>g&&(d-=g),k.drawOptions.label=Object(r.N)({type:"text"},{text:D,tooltext:A.tooltext,x:e.x,y:e.y,align:t,valign:e.valign,wrap:1,wrapwidth:c,wrapheight:d,fontsize:I.fontSize/j.sFactor,font:I.fontFamily,fillcolor:I.fontColor}),{markerShape:A,markerLabel:k.drawOptions.label}):{markerShape:A}}getHoverFn(){let e=this.getFromEnv("chart");return function(){let t,a,i=this.data("marker"),n=i.markerShape,o=n.unfilteredConfig,l=o._markerEventArgs,s=n.getElement(),c=s.getBBox(),d=i.config;s&&o.hovereffect&&("circle"===n.config.type&&(a={color:o.hoverfillcolor,alpha:o.hoverfillalpha,angle:360-o.hoverfillangle,ratio:o.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:"radial"===n.config.rawFillPattern},o._hoverattrs.fill=Object(r.db)(a)),t=Object(r.N)({},o._hoverattrs),"image"===s.type&&(delete t.fill,delete t.stroke,delete t["stroke-width"]),s.attr(t)),l||(l=o._markerEventArgs={x:c.x,y:c.y,scaledX:c.x/n.groupConfig.scaleX,scaledY:c.y/n.groupConfig.scaleY,chartX:c.x+c.width/2,chartY:c.y+c.height/2,id:o.id,label:o.label}),Object(Je.e)(d.options.id,"markerRollOver",l,e.getFromEnv("chartInstance"),d,Rn,Rn,Rn)}}getHoverOutFn(){let e=this.getFromEnv("chart");return function(){let t,a=this.data("marker"),i=a.markerShape,n=i.getElement(),o=a.config;n&&i.unfilteredConfig.hovereffect&&("circle"===i.config.type&&(i.unfilteredConfig._defaultattrs.fill=Object(r.db)({alpha:i.config.rawAlpha,color:i.config.rawColor,angle:360-i.config.rawAngle,ratio:i.config.rawRatio,radialGradient:"radial"===i.config.rawFillPattern})),t=Object(r.N)({},i.unfilteredConfig._defaultattrs),"image"===n.type&&(delete t.fill,delete t.stroke,delete t["stroke-width"]),n.attr(t)),Object(Je.e)(o.id,"markerRollOut",i.unfilteredConfig._markerEventArgs,e.getFromEnv("chartInstance"),Rn,Rn,Rn)}}getClickFn(){let e=this;return function(t){let a=this.data("marker"),i=a.config.options,n=e.getFromEnv("chart"),o=a.markerShape,r=o.config,l=this.getBBox(),s=r._markerEventArgs;s||(s=r._markerEventArgs={x:l.x,y:l.y,scaledX:l.x/o.groupConfig.scaleX,scaledY:l.y/o.groupConfig.scaleY,chartX:l.x+l.width/2,chartY:l.y+l.height/2,id:i.id,label:i.label}),n.fireChartInstanceEvent("markerClick",s,t)}}highlightPoint(e){let t,a,i,n,o,r,l,s,c,d,g=e.element,h=this,p=h.getFromEnv("chart"),u=p.graphics,m=h.getFromEnv("animationManager"),b=u.trackerElems||(u.trackerElems={}),f=e.shapeInfo,v=h.getFromEnv("toolTipController"),x=e.x,C=e.y,O=p.config.lastHoveredPoint,y=!1;return!1===e?((a=b[t=O&&O.shapeInfo.type])&&a.hide(),void(p.config.lastHoveredPoint=null)):(i={fill:eo,stroke:eo},"circle"===(t=f.type)&&(t="polygon"),a=b[t],"polygon"===t?(o=f.startAngle,l=f.radius,!a&&(y=!0),a=u.trackerElems[t]=m.setAnimation({el:u.trackerElems[t]||"polypath",container:a,attr:Object.assign({polypath:[n=f.sides||1,x,C,l,o]},i),component:h,label:"markers"})):"rect"===t?(!a&&(y=!0),a=u.trackerElems[t]=m.setAnimation({el:u.trackerElems[t]||"rect",container:a,attr:Object.assign({x:x,y:C,width:r=f.width,height:c=f.height},i),component:h,label:"markers"})):"arc"===t&&(o=(360-g.markerShape.config.startAngle)*Jn,l=f.radius,!a&&(y=!0),a=u.trackerElems[t]=m.setAnimation({el:u.trackerElems[t]||"ringpath",container:a,attr:Object.assign({ringpath:[x,C,l,s=g.markerShape.config.innerRadius,d=(360-g.markerShape.config.endAngle)*Jn,o]},i),component:h,label:"markers"})),p.config.lastHoveredPoint=e,y&&a.click(h.getClickFn()).hover(h.getHoverFn(),h.getHoverOutFn()),a.show().data("marker",g),void v.enableToolTip(a,g.config.tooltext))}_drawConnectors(){let e,t,a,i,n,o,r,l,s=this,c=s.getFromEnv("chart"),d=c.config.annotationConfig,g=s.components.connectors||(s.components.connectors=[]),h=g.length,p=c.config.scalingParams,u=c.config.connectorOpts,m=u.showLabels,b=c.getChildren("mapAnnotations")[0],f=[],v=[],x=[];for(x.push({id:"connectorLabels",fillalpha:"100",items:v}),x.push({id:"connectors",fillalpha:"100",items:f}),b.addGroup(Object.assign(d,x[1]),s),b.addGroup(Object.assign(d,x[0]),s),t=0;t<h;t++)g[t]&&(i=(r=g[t].config.fromMarker.config).options.y,n=(l=g[t].config.toMarker.config).options.x,o=l.options.y,g[t].config.x=a=r.options.x,g[t].config.y=i,g[t].config.tox=n,g[t].config.toy=o,f.push(g[t].config),(e=b.addItem("connectors",Object.assign({animationLabel:"markerItem"},g[t].config),!0,s)).addEventListener("mouseover",g[t].config.onmouseover),e.addEventListener("mouseout",g[t].config.onmouseout),e.addEventListener("click",g[t].config.onclick),g[t].labelConfig&&m&&(g[t].labelConfig.x=((+a+ +n)/2).toString(),g[t].labelConfig.y=((+i+ +o)/2).toString(),g[t].labelConfig.fontsize=u.fontSize/(p.scaleFactor*c.config.baseScaleFactor),v.push(g[t].labelConfig),b.addItem("connectorLabels",Object.assign({animationLabel:"markerItem"},g[t].labelConfig),!0,s)))}getShapeArgs(){let e,t=this.config,a=Object(r.N)({},this.shapeObj);return t.autoScale=1,a?("polygon"===a.type?3>a.sides?a.type="circle":a.startangle=t.startAngle:"arc"===a.type&&(a.radius=e=(a.radius||t.markerRadius)*t.autoScale,a.innerradius=a.innerradius&&a.innerradius*t.autoScale||e*Xn),a):null}_getLabelOptions(e,t,a,i,n){let o,r,l,s=e&&e.toLowerCase();return this.getLabelAlignment[s]||(s="center"),r=+a.x,l=+a.y,o=i===Rn||n===Rn?a.radius||0:/^(top|bottom)$/gi.test(s)&&.5*n||/^(left|right)$/gi.test(s)&&.5*i||0,this.getLabelAlignment[s](r,l,o=+o+ +t)}addMarkerItem(e){let t,a,i,n,o,l,s=this,c=s.getFromEnv("chart"),d=e,g=s.components.markerObjs,h=s.components.shapeObjs,p=s.components.markerGroup,u=s.components.markerLabelGroup,m=c.getChildren("mapAnnotations")[0],b=s.getFromEnv("number-formatter"),f=c.config.markerOpts;if(l=d.id.toLowerCase()){if(g[l])return;delete d.value,s.imageLoadCount=0,(t=io._initializeMarkerItem(l,d,null)).dataset=s,o=t.config.options.shapeid,(i=t.config).cleanValue=b.getCleanValue(n=d.value),e=i.options,i.formattedValue=null===i.cleanValue?Rn:b.dataLabels(n),i.fillColor=Object(r.Qa)(e.fillcolor,e.color,f.fillColor),i.fillAlpha=Object(r.Qa)(e.fillalpha,e.alpha,f.fillAlpha),i.fillRatio=Object(r.Qa)(e.fillratio,f.fillRatio),i.fillAngle=Object(r.Qa)(e.fillangle,f.fillAngle),i.borderThickness=Object(r.Sa)(e.borderthickness,f.borderThickness),i.borderColor=Object(r.Qa)(e.bordercolor,f.borderColor),i.borderAlpha=Object(r.Qa)(e.borderalpha,f.borderAlpha),i.labelPadding=e.labelpadding||f.labelPadding,i.options.tooltext=Object(r.Qa)(e.tooltext,f.tooltext),i.link=e.link,o&&(t.shapeObj=h[o&&o.toLowerCase()]),g[l]=t,a=s._drawMarkerItem.call(t),p&&u&&(t.markerShape=a.markerShape&&m.addItem(p.getId(),Object.assign({align:"center",valign:"middle",animationLabel:"markerItem"},a.markerShape),!0,s),t.markerLabel=a.markerLabel&&m.addItem(u.getId(),Object.assign({animationLabel:"markerItem"},a.markerLabel),!0,s)),s._buildKdTree()}}updateMarkerItem(e,t){let a,i,n,o,l=this,s=l.getFromEnv("chart"),c=s.getChildren("mapAnnotations")[0],d=s.config.markerOpts,g={},h=l.components.markerObjs[e];if(h){for(i in a=h.config.options,Object(r.N)(a,t),l.imageLoadCount=0,n=h.config,t)g[i.toLowerCase()]=t[i]&&t[i].toString();n.fillColor=Object(r.Qa)(g.fillcolor,g.color,d.fillColor),n.fillAlpha=Object(r.Qa)(g.fillalpha,g.alpha,d.fillAlpha),n.fillRatio=Object(r.Qa)(g.fillratio,d.fillRatio),n.fillAngle=Object(r.Qa)(g.fillangle,d.fillAngle),n.borderThickness=Object(r.Sa)(g.borderthickness,d.borderThickness),n.borderColor=Object(r.Qa)(g.bordercolor,d.borderColor),n.borderAlpha=Object(r.Qa)(g.borderalpha,d.borderAlpha),n.labelPadding=g.labelpadding||d.labelPadding,n.options.tooltext=Object(r.Qa)(g.tooltext,d.tooltext),n.link=g.link,o=l._drawMarkerItem.call(h).markerShape,l._buildKdTree(),c.update(e,o)}}_removeMarkerItem(e){let t,a,i=this.components,n=i.markerObjs,o=n[e],r=i.kdArrayMap;o&&(a=o.markerLabel,(t=o.markerShape)&&t.dispose(),a&&a.dispose(),delete r[e],this._buildKdTree()),delete n[e]}getElement(e){if(this.components.kDTree)return this.components.kDTree.getNeighbour(e)}}var no=io;Object(s.a)({name:"mapsAnimation",type:"animationRule",extension:Ri});var oo=function(e){var t,a=e.getFromEnv("dataSource"),i=a.data||{},n=a.markers;Object(r.G)(e,class extends o.a{getType(){return"group"}getName(){return"mapGroup"}configure(){this._mapChildren(e=>{e.configure&&e.configure()})}createContainer(){let e,t=this,a=t.getLinkedParent(),i=t.getFromEnv("animationManager");e=a.getChildContainer().plotGroup,t.getChildContainer("plotShadow")||t.addChildContainer("plotShadow",i.setAnimation({el:"group",attr:{name:"manager-plot-shadow",opacity:1},container:e,component:t,label:"group"})),t.getChildContainer("plot")||t.addChildContainer("plot",i.setAnimation({el:"group",attr:{name:"manager-plot",opacity:1},container:e,component:t,label:"group"}))}_transformGroup(){let e=this,t=this.getFromEnv("chart"),a=t.getFromEnv("chartInstance"),i=e.getFromEnv("animationManager"),n=e.getChildContainer("plot"),o=e.getChildContainer("plotShadow"),l=t.config.scalingParams;n.hide(),o.hide(),t.config.entitiesReady=!1,a.addEventListener("internal.mapdrawingcomplete",function(t){t.detachHandler(),r.Ba&&(n&&i.setAnimation({el:n,attr:{transform:l.transformStr},component:e,label:"group"}),o&&i.setAnimation({el:o,attr:{transform:l.transformStr},component:e,label:"group"})),n.show(),o.show()}),t.checkComplete()}draw(){this.createContainer(),this._transformGroup()}getDataLimits(e){let t,a=1/0,i=-1/0,n=0,o=function(e){i=Math.max(i,e.max),a=Math.min(a,e.min)};return this._mapChildren(a=>a.getState("removed")||!1===a.getState("visible")?void(e&&(t=a.getDataLimits(e),o(t))):(n++,t=a.getDataLimits(e),void o(t))),this.setState("visible",!!n),this.config.range||(this.config.range={},this.config.range.min=this.config.dataMin,this.config.range.max=this.config.dataMax),{max:i,min:a}}},"mapGroup"),t=e.getChildren("mapGroup")[0],Object(r.K)(t,Sn,"entities",1,[i]),n?Object(r.K)(t,no,"markers",1,[n]):e.getDatasets()[1]&&e.getDatasets()[1].remove()};let ro=(e,t,a)=>{var i,n,o=Math.round,r=e.value,s=e.code,c=Object(l.a)(s),d=t.value,g=t.code,h=Object(l.a)(g);return n=[o(c[0]+(h[0]-c[0])/(i=d-r)*(a-r)),o(c[1]+(h[1]-c[1])/i*(a-r)),o(c[2]+(h[2]-c[2])/i*(a-r))],Object(l.b)(n)};function lo(e){return Object(l.j)(e||co)||co}let so="rgba(192,192,192,"+(r.Ha?.002:1e-6)+")",co="#000000",go=function(){var e,t={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return t.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:Object(r.db)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},t.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:so,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:so,stroke:"#FFFFFF"}}},t.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(t){e=t.chart},legacyDataParser:function(t,a){var i,n,o,s,c,d,g,h,p,u,m,b,f=Math.max,v=Math.min,x={},C=e.getFromEnv("number-formatter"),O=e.getFromEnv("dataSource"),y=O.dataset,S=O.data;if(a=a||{},!t)return!1;for("maps"!==e.defaultDatasetType||void 0!==a.min&&void 0!==a.max?"HeatMap"===e.getName()&&(void 0===a.min||void 0===a.max)&&(a={min:1/0,max:-1/0},y.forEach(e=>{e.data&&e.data.forEach(e=>{a.min=v(a.min,Object(r.Sa)(e.value,a.min)),a.max=f(a.max,Object(r.Sa)(e.value,a.max))})})):(a={min:1/0,max:-1/0},S&&S.forEach(e=>{a.min=v(a.min,Object(r.Sa)(e.value,a.min)),a.max=f(a.max,Object(r.Sa)(e.value,a.min))})),x.mapByPercent=m=!!Object(r.Sa)(t.mapbypercent,0),i=t.color||[],void 0===t.minvalue&&(t.minvalue=void 0===a.min?0:m?0:a.min),void 0===t.maxvalue&&(t.maxvalue=void 0===a.max?100:m?100:a.max),(t.maxvalue===t.minvalue||a.min===1/0||a.max===-1/0)&&(t.minvalue=0,t.maxvalue=100),b=!1,c=0,g=i.length;c<g;c++)if(i[c].maxvalue){b=!0;break}for(b||(i=[]),o=t.code,h=x.colorRange=[],x.gradient=!!Object(r.Sa)(t.gradient,1),i.length?o=lo(o):(o?(s=lo(o),o=lo()):s=function(e){return Object(l.h)(e,1)}(o=lo()),i.push({code:s,maxvalue:t.maxvalue,label:void 0})),function(t){var a,i,n,o=e.getFromEnv("number-formatter");for(a=0,i=t.length;a<i;a++)(n=t[a].maxvalue)&&(t[a].maxvalue=o.getCleanValue(n))}(i),i=i.sort(function(e,t){return e.maxvalue-t.maxvalue}),p=u=t.minvalue&&C.getCleanValue(t.minvalue),u=(void 0!==p||null!==p)&&(m?p+"%":C.legendValue(p)),h.push({code:Object(r.L)(o),value:p,displayValue:u,label:t.startlabel}),c=0,g=i.length;c<g;c++)d=lo((n=i[c]).code||n.color),p=u=n.maxvalue,!isNaN(parseInt(p,10))&&(u=(void 0!==p||null!==p)&&(m?p+"%":C.legendValue(p)),h.push({code:Object(r.L)(d),value:p,displayValue:u,label:n.label||n.displayvalue}));return h[h.length-1].label=t.endlabel||n.label,x},getDefaultConf:function(e){return t[e]}}}();var ho=function(e){!function(e){let t=e.getChildren("colorManager");e.getFromEnv("dataSource").colorrange?t?(e.addToEnv("colorManager",t[0]),t[0].configure()):(t=new class extends o.a{constructor(){super(),this.datasource={},this.config.legendItemIds=[]}configure(){let e,t,a,i=this,n=this.getFromEnv("chart"),l="maps"===n.defaultDatasetType,s="TreeMap"===n.getName(),c=this.getFromEnv("dataSource").chart.mapbycategory,d=n.getFromEnv("number-formatter"),g=n.config.showLegend,h=n.getChildren("colorRange")&&n.getChildren("colorRange")[0];n.addToEnv("colorManager",i),i.datasource=n.getFromEnv("dataSource"),e=i.datasource.colorrange,h&&h.remove({instant:!0}),g||(i.config.legendItemIds=[]),"gradient"==(t=l?e.gradient&&+e.gradient?"gradient":e.color?"icon":"none":s?"gradient":e.gradient&&"0"!=e.gradient&&!+c?"gradient":"icon")?(go.init({chart:n}),a=go.legacyDataParser(e),Object(r.G)(n,class extends o.a{constructor(){super(),this.colorRange={},this.valueRatio={},this.data={},this.mapByPercent=void 0}getType(){return"colorComponent"}getName(){return"gradientColorRange"}configure(e){if(!e)return;let t,a,i,n=this;for(n.data=e,n.appender="",i=n.colorRange=e.colorRange.sort(function(e,t){return e.value-t.value}),n.valueRatio=void 0,n.values=[],t=0,a=i.length;t<a;t++)n.values.push(i[t].value)}getValueRatio(){var e,t,a=this.colorRange,i=a.length,n=this.valueRatio,o=a[i-1].value,r=a[0].value,l=0;if(n)return n;for(n=this.valueRatio=[],e=0;e<i;e++)n.push(100*((t=(a[e].value-r)/(o-r))-l)),l=t;return n}getCumulativeValueRatio(){var e,t=this.colorRange,a=t.length,i=t[0].value,n=t[a-1].value,o=[];for(e=0;e<a;e++)o.push((t[e].value-i)/(n-i)*100);return o}getBoxFill(e){var t,a,i,n=this.colorRange,o=n.length,l=[];for(i=e?90:0,t=0;t<o;t++)l.push(n[t].code);return a={FCcolor:{alpha:"100,100,100",angle:i,color:l.join(","),ratio:this.getValueRatio().join(",")}},Object(r.db)(a)}getColorByValue(e){var t,a,i,n,o=this.values,r=this.colorRange;if(void 0!==e&&null!==e){for(a=0,t=o.length;a<t;a++){if(e===o[a]){n=r[a].code;break}if(!a&&e<o[a]){i=!0;break}if(a===t-1&&e>o[a]){i=!0;break}if(e>o[a]&&e<o[a+1]){n=ro(r[a],r[a+1],e);break}}return i?void 0:n}}},"colorRange",1,[a]),h=n.getChildren("colorRange")[0],n.addToEnv("colorRange",h),a||(h._dontPlot=!0),i.config.legendItemIds=[],i._configureGradientLegend(h)):"icon"===t?(Object(r.G)(n,class extends o.a{constructor(){super();let e=this;e.mapByCategory=!1,e.colorArr=[],e.noValidRange=!0,e.sortLegend=!1}__setDefaultConfig(){super.__setDefaultConfig(),this.config.defaultObj={code:"CCCCCC",alpha:"100"}}getType(){return"colorComponent"}getName(){return"colorBucket"}configure(e){if(!e)return;let t,a,i,n,o,l,s,c,d,g,h,p=this,u=p.mapByCategory,m=e.numberFormatter,b=e.colorRange||{},f=Object(r.N)([],b.color),v=this.getLinkedParent(),x=p.getFromEnv("dataSource"),C=Math.min(Math.max(Object(r.Sa)(x.chart.palette,0)-1,0),4),O=v.defaultPaletteOptions&&v.defaultPaletteOptions.paletteColors[C],y=Object(r.Sa)(m.getCleanValue(b.maxvalue),1/0),S=Object(r.Sa)(m.getCleanValue(b.minvalue),-1/0),w=p.colorArr;if(void 0!==e.mapByCategory&&(u=p.mapByCategory=!!+e.mapByCategory),(f=f.filter(u?e=>e.code||e.color:e=>e.minvalue||e.maxvalue)).forEach(e=>{e.minvalue&&e.maxvalue&&+e.maxvalue<+e.minvalue&&(c=e.maxvalue,e.maxvalue=e.minvalue,e.minvalue=c),e.minvalue?e.maxvalue?(g=m.getCleanValue(e.minvalue),d=m.getCleanValue(e.maxvalue),e.rangeLabel=m.dataLabels(g)+"-"+m.dataLabels(d)):(g=m.getCleanValue(e.minvalue),e.maxvalue=d=y,e.rangeLabel=d===1/0?">"+m.dataLabels(g):m.dataLabels(g)+"-"+m.dataLabels(d)):(e.minvalue=g=S,d=m.getCleanValue(e.maxvalue),e.rangeLabel=g===-1/0?"<"+m.dataLabels(d):m.dataLabels(g)+"-"+m.dataLabels(d))}),f.sort((e,t)=>+e.minvalue==+t.minvalue?e.maxvalue-t.maxvalue:e.minvalue-t.minvalue),f&&(t=f.length)){for(w.length=0,a=0;a<t;a+=1)s=f[a],i=Object(r.Qa)(s.color,s.code,O&&O[a]),n=Object(r.Qa)(s.alpha),l=Object(r.Qa)(s.bordercolor),o=Object(r.Qa)(s.borderalpha,100),d=Object(r.Sa)(s.maxvalue),g=Object(r.Sa)(s.minvalue),h=Object(r.Qa)(s.label,s.displayvalue,s.rangeLabel),(i&&d>=g||u&&h)&&w.push({code:i,alpha:n||"100",oriAlpha:n,maxvalue:d,minvalue:g,label:Object(r.Pa)(h),labelId:h.toLowerCase(),bordercolor:l,borderAlpha:o,name:s.name});p.sortedColorArr=p.colorArr.slice(0)}else p.noValidRange=!0,p.colorArr=[],p.sortedColorArr=[]}getColorObj(e){if(void 0===e)return{outOfRange:!0};let t,a=this,i=a.sortedColorArr,n=a.gradient?1:0,o=i[n];if(a.mapByCategory){for(e=Object(r.Pa)(e).toLowerCase()||e.toString().toLowerCase();o;){if(o.labelId===e||o.maxvalue>=e&&o.minvalue<=e)return{code:o.code,alpha:o.alpha||"100",oriAlpha:o.oriAlpha,seriesIndex:n,legendItemId:o.legendItemId};o=i[n+=1]}return{outOfRange:!0}}if(a.gradient){if(a.scaleMin<=e&&a.scaleMax>=e){for(;o&&o.maxvalue<e;)o=i[n+=1];return{code:function(e,t,a){let i=e[0],n=e[1],o=e[2],r=i+(t[0]-i)*a,l=n+(t[1]-n)*a,s=o+(t[2]-o)*a;return{hex:("#000000"+(r<<16|l<<8|s).toString(16)).slice(-6),rgb:[r,l,s]}}(i[n-1].codeRGB,o.codeRGB,t=(e-o.minvalue)/o.range).hex}}return{outOfRange:!0}}for(;o;){if(e<o.minvalue)return 0==n?{code:o.code,alpha:o.alpha||"100",oriAlpha:o.oriAlpha,seriesIndex:n,name:o.name,label:o.label,outOfRange:!0,bordercolor:o.bordercolor,borderalpha:o.borderAlpha}:{code:i[n-1].code,alpha:i[n-1].alpha||"100",oriAlpha:i[n-1].oriAlpha,seriesIndex:n,name:i[n-1].name,label:i[n-1].label,outOfRange:!0,bordercolor:i[n-1].bordercolor,borderalpha:i[n-1].borderAlpha};if(e>o.maxvalue&&n==i.length-1)return{code:o.code,alpha:o.alpha||"100",oriAlpha:o.oriAlpha,seriesIndex:n,name:o.name,label:o.label,outOfRange:!0,bordercolor:o.bordercolor,borderalpha:o.borderAlpha};if(o.maxvalue>=e&&o.minvalue<=e)return{code:o.code,alpha:o.alpha||"100",oriAlpha:o.oriAlpha,seriesIndex:n,name:o.name,label:o.label,bordercolor:o.bordercolor,borderalpha:o.borderAlpha};o=i[n+=1]}return i.length?void 0:{outOfRange:!0}}getColorRangeArr(e,t){var a,i,n,o,l,s,c,d,g=this.colorArr,h=[];if(!this.defaultAsigned&&(e>t&&(a=e,e=t,t=a),e<t&&(o=this.getColorObj(e),s=this.getColorObj(t),o&&s))){for(l=e,i=o.seriesIndex,n=s.seriesIndex;i<=n;i+=1)(c=Object(r.N)({},g[i])).minvalue!==l&&(c.minvalue=l),h.push(c),d=c,l=c.maxvalue;d&&(d.maxvalue=t)}return h}},"colorRange",1,[{colorRange:e,sortLegend:0,mapByCategory:Object(r.Sa)(c,0),defaultColor:"cccccc",numberFormatter:d}]),n.addToEnv("colorRange",n.getChildren("colorRange")[0]),g&&i._addLegendItems()):"none"===t&&(n.deleteFromEnv("colorManager"),i.config.legendItemIds=[])}_configureGradientLegend(e){let t=this,a=t.getFromEnv("chart").getFromEnv("gLegend");a&&(a.setColorRange(e),t.addExtEventListener("rangeUpdated",function(e,a){t.fireEvent("legendUpdate",{"original-event":e,maxMinArray:a,component:"gradientlegend"})},a))}_addLegendItems(){let e,t,a,i,n,o=this,s=o.config,c=o.getFromEnv("chart"),d=c.getChildren("legend")[0],g=c.getFromEnv("colorRange").colorArr,h=g.length;for(i=0;i<h;i++)n={label:Object(r.Qa)(g[i].label,g[i].displayvalue),datasetObj:g[i],index:i},t=Object(l.h)(g[i].code,40),e={FCcolor:{color:g[i].code+","+g[i].code+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}},(a=d.getItem(s.legendItemIds[i]))||(s.legendItemIds.push(d.createItem(o)),(a=d.getItem(s.legendItemIds[i])).addEventListener("click",a.itemClickFn)),a.removeLegendState("hidden"),g[i].legendItemId=a&&a.getId(),a.configure(n),a.setStateCosmetics("default",{symbol:{fill:Object(r.db)(e),rawFillColor:g[i].code}});for(i=h;i<s.legendItemIds.length;i++)d.disposeItem(s.legendItemIds[i]);s.legendItemIds.splice(h)}legendInteractivity(e){let t=this.getFromEnv("colorRange").colorArr[e.config.index];this.fireEvent("legendUpdate",{legendItem:e,colorObj:t,component:"legend"})}getColor(e){let t=this;return!+t.datasource.chart.mapbycategory&&+t.datasource.colorrange.gradient?{code:t.getColorByValue(e)}:t.getColorObj(e)}getValueRatio(){return this.getFromEnv("colorRange").getValueRatio()}getCumulativeValueRatio(){return this.getFromEnv("colorRange").getCumulativeValueRatio()}getBoxFill(e){return this.getFromEnv("colorRange").getBoxFill(e)}getColorByValue(e){return this.getFromEnv("colorRange").getColorByValue(e)}getColorObj(e){return this.getFromEnv("colorRange").getColorObj(e)}},e.attachChild(t,"colorManager"),e.addToEnv("colorManager",t),t.configure()):(t&&(t[0].config.legendItemIds=[]),e.deleteFromEnv("colorManager"))}(e)};let po,uo,mo,bo,fo={},vo="rgba(192,192,192,"+(r.Ha?.002:1e-6)+")",xo="#000000",Co={}.hasOwnProperty;function Oo(e,t){return function e(t,a){var i,n;for(n in t)Co.call(t,n)&&(i=t[n],a[n]===po?a[n]=i:"object"==typeof i&&null!==i&&e(i,a[n]))}(e,t),t}function yo(e){return Object(l.j)(e||xo)||xo}function So(e){var t,a=e.fontSize+"";return a?(t=a.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function wo(e){return!(e!==po&&void 0!==e&&null!==e&&!isNaN(e))}var Lo,Fo;fo.CAPTION="CAPTION",fo.LEGEND_BODY="LEGEND_BODY",fo.AXIS_LABEL="LEGEND_LABEL",fo.LEGEND_AXIS="LEGEND_AXIS",fo.RANGE="RANGE",fo.AXIS_VALUE="AXIS_VALUE",(Fo={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}}).legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:Object(r.db)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},Fo.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:vo,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:vo,stroke:"#FFFFFF"}}},Fo.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},uo={init:function(e){Lo=e.chart},legacyDataParser:function(e,t){var a,i,n,o,s,c,d,g,h,p,u,m,b,f={},v=Lo.getFromEnv("number-formatter");if(!e)return!1;for(f.mapByPercent=u=!!Object(r.Sa)(e.mapbypercent,0),a=e.color||[],e.minvalue===po&&(e.minvalue=t.min===po?0:u?0:t.min),e.maxvalue===po&&(e.maxvalue=t.max===po?100:u?100:t.max),m=!1,s=0,d=a.length;s<d;s++)if(a[s].maxvalue){m=!0;break}for(m||(a=[]),n=e.code,g=f.colorRange=[],f.gradient=!!Object(r.Sa)(e.gradient,1),a.length?n=yo(n):(n?(o=yo(n),n=yo()):(b=n=yo(),o=Object(l.h)(b,1)),a.push({code:o,maxvalue:e.maxvalue,label:po})),function(e){var t,a,i,n=Lo.getFromEnv("number-formatter");for(t=0,a=e.length;t<a;t++)(i=e[t].maxvalue)&&(e[t].maxvalue=n.getCleanValue(i))}(a),a=a.sort(function(e,t){return e.maxvalue-t.maxvalue}),h=p=e.minvalue&&v.getCleanValue(e.minvalue),p=(h!==po||null!==h)&&(u?h+"%":v.legendValue(h)),g.push({code:Object(r.L)(n),value:h,displayValue:p,label:e.startlabel}),s=0,d=a.length;s<d;s++)c=yo((i=a[s]).code||i.color),h=p=i.maxvalue,!isNaN(parseInt(h,10))&&(p=(h!==po||null!==h)&&(u?h+"%":v.legendValue(h)),g.push({code:Object(r.L)(c),value:h,displayValue:p,label:i.label||i.displayvalue}));return g[g.length-1].label=e.endlabel||i.label,f},getDefaultConf:function(e){return Fo[e]}};class jo{constructor(e){this.conf=e,this.node=[],this._id="GL_LABELS"}configure(e){this.conf=e}getType(){return"label"}getName(){return"LegendLabel"}getEffectivePlotArea(e){var t=this.conf.padding;return e.height-=2*t.v,e.width-=2*t.h,e.x+=t.h,e.y+=t.v,e}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L=Math.max,F="bottom"===this.conf.legendPosition,j=this._lSpace,k=this.conf,A=k.padding,E=[],T=t.gLegend.getFromEnv("chartConfig"),I=[];if(j&&!a)return j.isImpure=!0,j;for(n=t.smartLabel,h=(i=t.colorRange).getCumulativeValueRatio(),o=i.colorRange,m=(j=this._lSpace={bound:{height:0,width:0},node:{logicArea:po,smartTexts:[]}}).node.smartTexts,d=Oo(e,{}),f=this.getEffectivePlotArea(d),w=F?f.width:f.height,n.useEllipsesOnOverflow(T.useEllipsesWhenOverflow),S=Oo(k.style,{}),So(this._metaStyle=S),n.setStyle(S),v=n.getSmartText("W"),r=0,l=o.length;r<l;r++)(g=o[r].label)?I.push({oriIndex:r,label:g}):m[r]=po;if(0===(l=I.length))return{height:0,width:0};for(u=p=1<l?(h[I[l-1].oriIndex]-h[I[0].oriIndex])/2*w/100:L(h[I[0].oriIndex],100-h[I[0].oriIndex])/2*w/100,F?((O=n.getSmartText(I[0].label,u,f.height)).x=h[I[0].oriIndex]*f.width/100,s=O.x+O.width):((O=n.getSmartText(I[0].label,u,f.width)).y=h[I[0].oriIndex]*f.height/100,s=O.y+O.width),E.push(O.height),m[I[0].oriIndex]=O,F?((O=n.getSmartText(I[l-1].label,u,f.height)).x=h[I[l-1].oriIndex]*f.width/100,c=O.x-O.width):((O=n.getSmartText(I[l-1].label,u,f.width)).y=h[I[l-1].oriIndex]*f.height/100,c=O.y-O.width),E.push(O.height),m[I[l-1].oriIndex]=O,C=s,r=1;r<l-1;r++)g=I[r].label,y=I[r].oriIndex,O=po,x=h[I[r].oriIndex]*w/100,(p=Math.min(x-C,(r+1===l-1?c:h[I[r+1].oriIndex]*w/100)-x))>2*v.width&&(F?(O=n.getSmartText(g,p,f.height)).x=h[y]*f.width/100:(O=n.getSmartText(g,p,f.width)).y=h[y]*f.height/100,C=p,E.push(O.height)),m[I[r].oriIndex]=O;return b=L.apply(Math,E),F?(f.height=b,e.height=b+2*A.v):(f.width=b,e.width=b+2*A.v),j.node.logicArea=f,j.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,d,g,h="bottom"===this.conf.legendPosition,p=this.conf,u=p.bound&&p.bound.style||{stroke:"none"},m={};2<=arguments.length&&arguments[1]?(i=arguments[0],r=arguments[1]):1<=arguments.length&&(r=arguments[0]),g=r.animationManager,e=r.parentLayer,this.getLogicalSpace(i,r),s=(o=this._lSpace).node.logicArea,c=o.node.smartTexts,this.group=a=g.setAnimation({el:this.group||"group",attr:{name:"legend-labels"},container:e,component:bo}),this.bound=t=g.setAnimation({el:this.bound||"rect",attr:o.bound,css:u,container:a,component:bo});for(let b=0;b<this.node.length;b++)this.node[b].remove();for(this.node=[],l=0,d=c.length;l<d;l++)(n=c[l])&&(h?(m.y=s.y+n.height/2,m.x=l===d-1?s.x+n.x-n.width/2:l?s.x+n.x:s.x+n.x+n.width/2):(m.x=s.x+n.height/2,m.y=l===d-1?s.y+n.y-n.width/2:l?s.y+n.y:s.y+n.y+n.width/2),this.node.push(g.setAnimation({el:"text",attr:{text:n.text,x:m.x,y:m.y,lineHeight:this._metaStyle.lineHeight,fill:p.style.fill,transform:h?"R0":"R270,"+m.x+","+m.y},container:a,component:bo})));return{group:a,bound:t,node:this.node}}}class ko{constructor(e,t,a){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=a,this.node=po,this.tracker=po,this.currPos=0,this.swing=[]}configure(e,t,a){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=a,this.currPos=0,this.swing=[]}getType(){return"slider"}getName(){return"Slider"}updateSwingRange(e,t){this.swing[+e]=t}draw(e,t,a,i){var n,o,r,l,s,c,d=Math.ceil,g=i.parentLayer,h=i.animationManager,p=this.conf,u=p.outerCircle,m=p.innerCircle,b=d(u.rFactor*i.rCalcBase/2),f=d(m.rFactor*i.rCalcBase/2),v=b-f,x=this.sliderIndex;return p.outerRadius=b,p.innerRadius=f,this._scaleVal=t,m.style["stroke-width"]=v,f+=r=d(u.style["stroke-width"]/2),n=this.node=h.setAnimation({el:this.node||"group",attr:{name:"fc-gl-slider",cursor:"pointer",transform:"t0,0"},container:g,component:bo}),"x"===i.key?(l=a,s=e,s+=x?-f:+f):(l=e,s=a,l+=x?-f:+f),this.oCircle=h.setAnimation({el:this.oCircle||"circle",attr:{cx:l,cy:s,r:b},css:u.style,container:n,component:bo}),this.iCircle=h.setAnimation({el:this.iCircle||"circle",attr:{cx:l,cy:s,r:f},css:m.style,container:n,component:bo}),c=this.tracker=h.setAnimation({el:this.tracker||"circle",attr:{cx:l,cy:s,r:b+5,fill:vo,stroke:vo,cursor:"pointer"},container:n,component:bo}),n.attr({transform:"x"===i.key?"t0,"+this.currPos:"t"+this.currPos+",0"}),mo.enableToolTip(c,t),this._dragAPI=o=this.getDragAPI("x"===i.key),c.undrag(),c.drag(o.dragging,o.dragStart,o.dragEnd),{translateAscending:b+r}}getDragAPI(e){var t,a,i,n,o=this,r=o.node,l=o.sliderIndex,s=o.rangeGroup,c=o.conf.innerRadius;return{dragging:function(d){var g,h,p,u,m;return d.stopPropagation(),d.preventDefault(),p=e?d.data[1]:d.data[0],l?(g=t[0]-t[1]+c,h=0):(g=0,h=t[1]-t[0]-c),(m=o.currPos+p)<g?p+=g-m:m>h&&(p-=m-h),r.attr({transform:e?"t0,"+(o.currPos+p):"t"+(o.currPos+p)+",0"}),a=p,i&&clearTimeout(i),i=setTimeout(function(){s.updateWhenInRest(o,o.currPos+p)},100),u=s.updateWhenInMove(o,o.currPos+p),o.tracker.data("__FC_tooltipText",u),n=!0,!0},dragStart:function(e){e.stopPropagation(),e.preventDefault(),t=o.swing,n=!1,s.dragStarted(o)},dragEnd:function(){s.dragCompleted(o,n,o.currPos+a),n&&(i&&clearTimeout(i),i=setTimeout(function(){s.updateWhenInRest(o,o.currPos)},100),o.currPos+=a,s.updateRange(o,t[+l]+o.currPos))}}}dispose(){this.node.remove(),this.oCircle.remove(),this.iCircle.remove(),this.tracker.remove()}}var Ao=function(e){!function(e){let t,a=e.getFromEnv("dataSource").colorrange,i=e.getFromEnv("dataSource").chart.mapbycategory,n="maps"===e.defaultDatasetType,s="TreeMap"===e.getName(),c=e.getFromEnv("legend"),d=e.getFromEnv("gLegend");"gradient"==(t=a&&e.config.showLegend?n?a.gradient&&+a.gradient?"gradient":a.color?"icon":"none":s?a.gradient&&"0"!=a.gradient?"gradient":"none":a.gradient&&"0"!=a.gradient&&!+i?"gradient":"icon":"none")?(e.deleteFromEnv("legend"),c&&c.remove(),Object(r.G)(e,class extends o.a{getType(){return"gradientLegend"}getName(){return"gLegend"}constructor(){super(),bo=this,this.enabled=!1,this.drawOptions={},this.components={}}setColorRange(e){let t=this.drawOptions.colorRange=e;t&&t._preparationGoneWrong&&(this._dontPlot=!0)}configureAttributes(){var e,t,a,i,n,o,s,c,d,g,h=this,p=h.getFromEnv("chart"),u=h.getFromEnv("dataSource").chart,m=h.conf={},b=u.outcnvbasefont,f=u.outcnvbasefontsize,v=u.outcnvbasefontcolor,x=p.config.dataLabelStyle;uo.init({chart:p}),h.data=h.getFromEnv("dataSource").colorrange,h._dontPlot||(h.drawOptions={smartLabel:h.getFromEnv("smartLabel"),gLegend:h},h._dontPlot=!1,h._recalculateLogicalSpace=!0,mo=h.getFromEnv("toolTipController"),m.caption=Object(r.Qa)(u.legendcaption),m.legendPosition=Object(r.Qa)(u.legendposition,"bottom").toLowerCase(),m.showLegend=Object(r.Sa)(u.showlegend,1),m.interactiveLegend=Object(r.Sa)(u.interactivelegend,1),m.showLegendLabels=Object(r.Sa)(u.showlegendlabels,1),e=u.legenditemfontcolor||v,t=u.legenditemfont||b,a=u.legenditemfontsize||f,i=Object(r.Sa)(u.legenditemfontbold,0),n=u.legendcaptionfontcolor||v,o=u.legendcaptionfont||b,s=u.legendcaptionfontsize||f,c=Object(r.Sa)(u.legendcaptionfontbold,1),g=(d=u.legendaxisbordercolor?Object(r.Da)(Object(r.L)(u.legendaxisbordercolor)):po)?Object(r.Sa)(u.legendaxisborderalpha,100)/100:po,m.axisTextItemConf={style:{fill:e?Object(l.c)(Object(r.Qa)(e)):x.color,fontFamily:t?Object(r.Qa)(t):x.fontFamily,fontSize:a?Object(r.Sa)(a):x.fontSize.match(/\d+/)[0],fontWeight:i?"bold":x.fontWeight}},m.legendCaptionConf={style:{fill:n?Object(l.c)(Object(r.Qa)(n)):x.color,fontFamily:o?Object(r.Qa)(o):x.fontFamily,fontSize:s?Object(r.Sa)(s):x.fontSize.match(/\d+/)[0],fontWeight:c?"bold":x.fontWeight,fontStyle:"normal"}},m.legendAxisConf={legendAxisHeight:11,style:{stroke:d,"stroke-opacity":g},line:{style:{stroke:Object(l.c)(Object(r.Qa)(u.legendscalelinecolor,"FFF8E9"),Object(r.Sa)(u.legendscalelinealpha,100)),"stroke-width":Object(r.Sa)(u.legendscalelinethickness)}}},m.sliderGroupConf={showTooltip:Object(r.Sa)(u.showtooltip,1),outerCircle:{rFactor:Object(r.Sa)(u.sliderdiameterfactor),style:{stroke:Object(l.c)(Object(r.Qa)(u.legendpointerbordercolor,"757575"),Object(r.Sa)(u.legendpointerborderalpha,100))}},innerCircle:{rFactor:Object(r.Sa)(u.sliderholediameterfactor),style:{stroke:Object(l.c)(Object(r.Qa)(u.legendpointercolor,"FFFFFF"),Object(r.Sa)(u.legendpointeralpha,100))}}},m.legendCarpetConf={spreadFactor:Object(r.Sa)(u.legendspreadfactor),allowDrag:!!Object(r.Sa)(u.legendallowdrag,0),captionAlignment:Object(r.Qa)(u.legendcaptionalignment,"center"),style:{fill:Object(l.c)(Object(r.Qa)(u.legendbgcolor,"e4d9c1"),Object(r.Sa)(u.legendbgalpha,100)),stroke:Object(l.c)(Object(r.Qa)(u.legendbordercolor,"c4b89d"),Object(r.Sa)(u.legendborderalpha,100)),"stroke-width":Object(r.Sa)(u.legendborderthickness,1)}})}postConfigureInit(){var e,t,a,i,n,o,l,s,c,d,g,h=this,p=h.conf;h.elem={},p.interactiveLegend?(i=Oo(uo.getDefaultConf("sliderGroupConf"),p.sliderGroupConf),this.sGroup?((a=h.elem.sGroup=this.sGroup).configure(i),h.elem.sGroup.gLegend=h):(this.sGroup=h.elem.sGroup=a=new class{constructor(e){var t={};this._id="GL_SG1",this.conf=e,t.conf=e,this.extremes=[],this.sliders={},this.min=void 0,this.max=void 0,t.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[!1]=new ko(!1,t,this._id+"_0"),this.sliders[!0]=new ko(!0,t,this._id+"_1")}configure(e){var t={};this.min=void 0,this.max=void 0,this.conf=e,t.conf=e,t.sliderGroup=this,this.sliders[!1].configure(!1,t,this._id+"_0"),this.sliders[!0].configure(!0,t,this._id+"_1")}getType(){return"slider"}getName(){return"SliderGroup"}initRange(e,t){this.extremes[+e.sliderIndex]=t}updateRange(e,t){var a=e.sliderIndex;this.sliders[!a].updateSwingRange(a,t)}reset(){var e={};e.conf=this.conf,e.sliderGroup=this,this.min=void 0,this.max=void 0,this.sliders[!1].configure(!1,e,this._id+"_0"),this.sliders[!0].configure(!0,e,this._id+"_1"),this.draw.apply(this,this._drawParams)}draw(e,t,a){var i,n,o,r,l,s=Math.ceil,c=this.sliders,d=c[!1],g=c[!0],h=a.colorRange,p=h.colorRange,u=h.data.mapByPercent,m=a.gLegend.getFromEnv("number-formatter");return this._fcChart=a.gLegend.getFromEnv("chart"),this.getValueFormPixel=function(e,t,a,i){this.getValueFormPixel=function(n){return e+(t-e)/(i-a)*n}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(a,i){var n,o=this.extremes;return n=this.getValueFormPixel(a.sliderIndex?o[1]-o[0]+i:i),t?parseFloat(n).toFixed(2)+"%":e.legendValue(n)}},this._drawParams=[e,t,a],this.updateWhenInMove(m,u),n=d.conf.outerCircle,o=s(d.conf.innerCircle.rFactor*a.rCalcBase/2),o+=s(n.style["stroke-width"]/2),this.extremes[0]=e+o,this.extremes[1]=t-o,r=this.extremes[1]-this.extremes[0],this.min=this.min?this.min:p[0].value,this.max=this.max?this.max:p[p.length-1].value,d.currPos=r*(this.min-p[0].value)/(l=p[p.length-1].value-p[0].value),g.currPos=r*(this.max-p[0].value)/l-r,d.draw(e,u?m.legendPercentValue(this.min):m.legendValue(this.min),a[a.key],a),i=g.draw(t,u?m.legendPercentValue(this.max):m.legendValue(this.max),a[a.key],a),d.swing=this.extremes.slice(0),g.swing=this.extremes.slice(0),d.swing[1]+=g.currPos,g.swing[0]+=d.currPos,this.getValueFormPixel(p[0].value,p[p.length-1].value,this.extremes[0],this.extremes[1]),i}updateWhenInRest(e,t){var a,i,n=this.sliders,o=this.extremes,r=e.sliderIndex;r?(a=n[!r].currPos,i=o[1]-o[0]+t):(a=t,i=o[1]-o[0]+n[!r].currPos),this.min=+this.getValueFormPixel(a).toFixed(2),this.max=+this.getValueFormPixel(i).toFixed(2),this.gLegend.fireEvent("rangeUpdated",[{min:this.min,max:this.max}])}dragStarted(e){var t=this.sliders,a=this.extremes,i=e.conf,n=this._fcChart;n.fireChartInstanceEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t.false.currPos)},{value:this.getValueFormPixel(a[1]-a[0]+t.true.currPos)}],legendPointerHeight:i.outerRadius,legendPointerWidth:i.innerRadius,outerRadius:i.outerRadius,innerRadius:i.innerRadius},[n.id])}dragCompleted(e,t,a){var i,n,o=this.sliders,r=this.extremes,l=e.conf,s=this.getValueFormPixel(o.false.currPos),c=this.getValueFormPixel(r[1]-r[0]+o.true.currPos),d=this._fcChart;e.sliderIndex?(i=s,n=this.getValueFormPixel(r[1]-r[0]+a)):(i=this.getValueFormPixel(a),n=c),t&&d.fireChartInstanceEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:c,minValue:i,maxValue:n},[d.id]),d.fireChartInstanceEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:i},{value:n}],legendPointerHeight:l.outerRadius,legendPointerWidth:l.innerRadius,outerRadius:l.outerRadius,innerRadius:l.innerRadius},[d.id])}dispose(){this.sliders[!1].dispose(),this.sliders[!0].dispose()}}(i),a.configure(i),h.elem.sGroup.gLegend=h)):(this.sGroup&&this.sGroup.dispose(),this.sGroup&&delete this.sGroup),(i=Oo(uo.getDefaultConf("legendCarpetConf"),p.legendCarpetConf)).legendPosition=p.legendPosition,g=uo.getDefaultConf("legendBodyConf"),"bottom"===p.legendPosition?(h.drawOptions.refSideKey="canvasWidth",h.drawOptions.refOffsetKey="canvasLeft",n=Oo(uo.getDefaultConf("axisTextItemConf"),p.axisTextItemConf),g.legendPosition="bottom",(d=Oo(uo.getDefaultConf("legendAxisConf"),p.legendAxisConf)).legendPosition="bottom",n.legendPosition="bottom"):(h.drawOptions.refSideKey="canvasHeight",h.drawOptions.refOffsetKey="canvasTop",n=Oo(uo.getDefaultConf("axisTextItemConf"),p.axisTextItemConf),g.legendPosition="right",(d=Oo(uo.getDefaultConf("legendAxisConf"),p.legendAxisConf)).legendPosition="right",n.legendPosition="right"),Object.keys(this.components).length||(this.components.LegendCarpet=new class{constructor(e){this.conf=e,this._id="GL_CARPET",this.compositionsByCategory={},this.node=po,this.group=po,this._lSpace=po,this.autoRecalculate=!1,this.groupName="fc-gradient-legend",this.moveInstructions={}}configure(e){this.conf=e}getName(){return"LegendCarpet"}getType(){return"legend"}addCompositions(e,t){this.compositionsByCategory[t]=e}removeCompositions(e){delete this.compositionsByCategory[e]}getBoundingBox(e){var t,a,i=this.conf,n=i.spreadFactor,o=e.refSide,r=e.alignment,l=e.refOffset,s=e.x,c=e.y;return"bottom"===this.conf.legendPosition?(t=i.width=o*n,a=e.maxOtherSide,r&&(s===po||null===s)&&(s=(l+o)/2-t/2)):(a=i.height=o*n,t=e.maxOtherSide,r&&(c===po||null===c)&&(c=(l+o)/2-a/2)),{width:t,height:a,x:s,y:c}}getPostCalcDecisionsH(e,t){var a,i=this.conf.padding,n=0;for(a in this.moveInstructions={},t)n+=t[a].height||0;e.height=n+2*i.v}getLogicalSpace(e,t){var a,i,n,o,r,l=this._lSpace,s=["CAPTION","LEGEND_BODY"],c=this.conf.padding,d=this.compositionsByCategory,g=0,h={},p=0;if(l&&!t)return l.isImpure=!0,l;(wo((l=this._lSpace=i=this.getBoundingBox(e)).x)||wo(l.y)||wo(l.height)||wo(l.width))&&(this.autoRecalculate=!0),(n=Oo(i,{})).height-=2*c.v,n.width-=2*c.h,n.x+=c.h,n.y+=c.v;for(let u=0;u<s.length;u++)(a=d[s[u]])&&((r=Oo(n,{})).y+=g,r.height=(g=n.height*a.conf.spreadFactor)+p,o=a.getLogicalSpace(Oo(r,{}),e,t),p=r.height-o.height,h[s[u]]=o,g=o.height);return this.getPostCalcDecisions(i,h),this._lSpace=i,i}setupDragging(){var e=this.group,t=0,a=0,i=0,n=0;e.css({cursor:"move"}),e.drag(function(o,r){e.attr({transform:"t"+(i+(t=o))+","+(n+(a=r))})},function(){i+=t,n+=a},r.bb)}draw(e){var t,a,i,n=this.conf,o=["CAPTION","LEGEND_BODY"],r=this.compositionsByCategory,l=e.animationManager,s=e.parentGroup;this.getLogicalSpace(e,this.autoRecalculate),i=this._lSpace,this.group=t=l.setAnimation({el:this.group||"group",attr:{name:this.groupName},component:bo,container:s,label:"carpetGroup"}),this.node=l.setAnimation({el:this.node||"rect",attr:i,css:n.style,component:bo,container:t,label:"rect"});for(let c=0;c<o.length;c++)(a=r[o[c]])&&a.draw(n.captionAlignment,i,{animationManager:l,colorRange:e.colorRange,numberFormatter:e.numberFormatter,parentLayer:t,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[void 0],gLegend:e.gLegend});return n.allowDrag&&this.setupDragging(),this.node}getPostCalcDecisions(e,t){return"bottom"===this.conf.legendPosition?this.getPostCalcDecisionsH(e,t):this.getPostCalcDecisionsV(e,t)}getPostCalcDecisionsV(e,t){var a,i,n,o=this.conf.padding,r=Number.NEGATIVE_INFINITY,l=this.moveInstructions;for(i in this.getPostCalcDecisionsH(e,t),t)r=r<(a=t[i].width)?a:r;for(i in e.width=r+2*o.h,t)(n=r-(a=t[i].width))&&(l[i]="t"+n/2+",0")}},this.components.LegendBody=new class{constructor(e,t,a){this.colorRange=e,this.conf=t,this.childTextConf=a,this._id="GL_BODY",this.bound=po,this.group=po,this.compositionsByCategory={},this._lSpace=po,this.SC_STACK=[fo.AXIS_LABEL,fo.LEGEND_AXIS,fo.AXIS_VALUE],this.DARW_STACK=[fo.AXIS_VALUE,fo.LEGEND_AXIS,fo.AXIS_LABEL]}configure(e,t,a){this.colorRange=e,this.conf=t,this.childTextConf=a,this.compositionsByCategory={}}getName(){return"LegendBody"}getType(){return"legend"}addCompositions(e,t){this.compositionsByCategory[t]=e}getSpaceTaken(e){return"bottom"===this.conf.legendPosition?e.height:e.width}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,d=this._lSpace,g=this.conf.padding,h=this.compositionsByCategory,p=0;if(d&&!a)return d.isImpure=!0,d;for(d=this._lSpace={bound:{height:0,width:0},node:{logicArea:po}},(r=Oo(e,{})).height-=2*g.v,r.width-=2*g.h,r.x+=g.h,r.y+=g.v,l=this.getCompositionPlotAreaFor(r),t.colorRange=this.colorRange,s=0,c=this.SC_STACK.length;s<c;s++)(i=h[this.SC_STACK[s]])&&(n=l(o,i.conf.spreadFactor),o=i.getLogicalSpace(Oo(n,{}),t,a),p+=this.getSpaceTaken(o));return this.updateEffectivePlotArea(e,r,p),d.node.logicArea=r,d.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,d=this.childTextConf,g=this.conf.bound.style||{},h=this.compositionsByCategory;for(3<=arguments.length?(o=arguments[1],l=arguments[2]):2<=arguments.length&&(l=arguments[1]),t=l.parentLayer,e=l.animationManager,this.getLogicalSpace(o,l),r=this._lSpace,this.group=n=e.setAnimation({el:this.group||"group",attr:{name:"legend-body",transform:"t0,0"},css:d.style,container:t,component:bo}),this.bound=a=e.setAnimation({el:this.bound||"rect",attr:r.bound,css:g,container:n,component:bo}),l.colorRange=this.colorRange,l.parentLayer=n,s=0,c=this.DARW_STACK.length;s<c;s++)(i=h[this.DARW_STACK[s]])&&i.draw(l);return l.moveInstructions&&n.attr({transform:l.moveInstructions}),{bound:a,group:n}}getCompositionPlotAreaFor(e){var t,a="bottom"===this.conf.legendPosition;return t=Oo(e,{}),function(i,n){return i=i||{},a?(t.y+=i.height||0,t.height=e.height*n):(t.x+=i.width||0,t.width=e.width*n),t}}updateEffectivePlotArea(e,t,a){var i=this.conf.padding;"bottom"===this.conf.legendPosition?(t.height=a,e.height=a+2*i.v):(t.width=a,e.width=a+2*i.h)}},this.components.LegendAxis=new class{constructor(e){this.conf=e,this._id="FL_AXIS",this.node=po,this.group=po,this.shadow=po,this.markerLine=po,this.compositionsByCategory={}}configure(e){this.conf=e}getName(){return"LegendAxis"}getType(){return"axis"}addCompositions(e,t){this.compositionsByCategory[t]=e}getLogicalSpace(){var e,t,a,i,n,o="bottom"===this.conf.legendPosition,r=arguments[0],l=this._lSpace,s=this.conf,c=s.padding,d=s.legendAxisHeight,g=this.compositionsByCategory,h=0;return l&&!arguments[2]?(l.isImpure=!0,l):(l=this._lSpace={bound:{height:0,width:0},node:{logicArea:po}},(n=Oo(r,{})).height-=2*c.v,n.width-=2*c.h,n.x+=c.h,n.y+=c.v,e=d/2+s.line.offset,t=d/2,(i=g[fo.RANGE])&&(t+=h=Math.max(i.sliders.false.conf.outerCircle.rFactor*d/2-d/2,0)),o?(n.y+=h,n.height=a=t+e+h,r.height=a+2*c.v):(n.x+=h,n.width=a=t+e+h,r.width=a+2*c.v),l.node.logicArea=n,l.bound=r,r)}getDrawableAxisArea(e){var t=this.conf,a="bottom"===this.conf.legendPosition;return{x:e.x,y:e.y,width:a?e.width:t.legendAxisHeight,height:a?t.legendAxisHeight:e.height,r:t.legendAxisHeight/2}}preDrawingRangeParamV(e){return{x:e.x+e.width/2,calculationBase:e.width,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}}preDrawingRangeParamH(e){return{y:e.y+e.height/2,calculationBase:e.height,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}}preDrawingRangeParam(e){return"bottom"===this.conf.legendPosition?this.preDrawingRangeParamH(e):this.preDrawingRangeParamV(e)}getScaleMarkerPathStrH(e,t){var a,i,n,o,r=Oo(e,{}),l=this.conf.line,s="";for(r.x+=r.r,r.width-=2*r.r,o=r.y+r.height,a=0,i=t.length;a<i;a++)s+="M"+(n=r.x+t[a]*r.width/100)+","+(o-l.grooveLength)+"L"+n+","+(o+l.offset);return s+"M"+r.x+","+(o+l.offset)+"L"+(r.x+r.width)+","+(o+l.offset)}getColorGradientH(e){return{axis:e.getBoxFill(),shadow:Object(r.db)({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}}draw(){var e,t,a,i,n,o,r,l,s,c,d,g,h,p,u=this.conf,m=u.line,b=(u.bound||{}).style||{},f=this.compositionsByCategory;for(a in 2<=arguments.length?(t=arguments[0],g=arguments[1]):1<=arguments.length&&(g=arguments[0]),h=g.animationManager,e=g.parentLayer,n=(i=g.colorRange).getCumulativeValueRatio(),this.getLogicalSpace(t,g),d=this._lSpace,this.group=r=h.setAnimation({el:this.group||"group",attr:{name:"legend-axis"},container:e,component:bo}),this.bound=h.setAnimation({el:this.bound||"rect",attr:d.bound,css:b,component:bo,container:r}),c=this.getDrawableAxisArea(d.node.logicArea),s=this.getColorGradient(i),u.style.fill=s.axis,u.shadow.style.fill=s.shadow,this.node=h.setAnimation({el:this.node||"rect",attr:c,css:u.style,container:r,component:bo}),this.shadow=h.setAnimation({el:this.shadow||"rect",attr:c,css:u.shadow.style,container:r,component:bo}),p=this.getScaleMarkerPathStr(c,n),this.path=h.setAnimation({el:this.path||"path",attr:{path:p},css:m.style,container:r,component:bo}),f)o=f[a],a===fo.RANGE&&(g[(l=this.preDrawingRangeParam(c)).prop]=l[l.prop],g.key=l.prop,g.rCalcBase=l.calculationBase,g.parentLayer=r,o.draw(l.rangeStart,l.rangeEnd,g))}getScaleMarkerPathStr(e,t){return"bottom"===this.conf.legendPosition?this.getScaleMarkerPathStrH(e,t):this.getScaleMarkerPathStrV(e,t)}getColorGradient(e){return"bottom"===this.conf.legendPosition?this.getColorGradientH(e):this.getColorGradientV(e)}getScaleMarkerPathStrV(e,t){var a,i,n,o,r=Oo(e,{}),l=this.conf.line,s="";for(r.y+=r.r,r.height-=2*r.r,n=r.x+r.width,a=0,i=t.length;a<i;a++)s+="M"+(n-l.grooveLength)+","+(o=r.y+t[a]*r.height/100)+"L"+(n+l.offset)+","+o;return s+"M"+(n+l.offset)+","+r.y+"L"+(n+l.offset)+","+(r.y+r.height)}getColorGradientV(e){return{axis:e.getBoxFill(!0),shadow:Object(r.db)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}}},this.components.LegendValues=new class extends jo{constructor(){super(arguments[0]),this._id="GL_VALUES",this.node=[]}configure(e){this.conf=e}getName(){return"LegendValues"}getType(){return"legend"}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,d,g,h,p,u,m,b,f,v,x,C,O,y,S,w,L,F,j=Math.min,k=Math.max,A="bottom"===this.conf.legendPosition,E=this._lSpace,T=this.conf,I=T.padding,P=t.gLegend.getFromEnv("chartConfig"),_=[],D=[];if(E&&!a)return E.isImpure=!0,E;for(n=t.smartLabel,o=(i=t.colorRange).colorRange,c=i.getCumulativeValueRatio(),F=(E=this._lSpace={bound:{height:0,width:0},node:{logicArea:po,smartTexts:[]}}).node.smartTexts,(O=Oo(e,{})).height-=2*I.v,O.width-=2*I.h,O.x+=I.h,O.y+=I.v,n.useEllipsesOnOverflow(P.useEllipsesWhenOverflow),L=Oo(T.style,{}),So(this._metaStyle=L),n.setStyle(L),w=n.getSmartText("W"),s=o.length,A?(h=d=(c[s-1]-c[0])/2*O.width/100,(r=n.getSmartText("string"!=typeof(S=o[0].displayValue)&&S!==po&&S.toString()||S,h,O.height)).x=c[0]*O.width/100,p=r.x+r.width,_.push(r.height)):(h=d=(c[s-1]-c[0])/2*O.height/100,(r=n.getSmartText(o[0].displayValue,O.width,h)).y=c[0]*O.height/100,b=r.y+r.width,D.push(r.width)),F[0]=r,A?((r=n.getSmartText(o[s-1].displayValue,h,O.height)).x=c[s-1]*O.width/100,m=r.x-r.width,_.push(r.height),u=p):((r=n.getSmartText(o[s-1].displayValue,O.width,h)).y=c[s-1]*O.height/100,v=r.y-r.height,D.push(r.width),f=b),F[s-1]=r,l=1;l<s-1;l++)r=po,y=o[l].displayValue,A?(d=j((g=c[l]*O.width/100)-u,(l+1===s-1?m:c[l+1]*O.width/100)-g))>1.5*w.width&&((r=n.getSmartText(y,2*d,O.height)).x=c[l]*O.width/100,u=d,_.push(r.height)):(d=j((g=c[l]*O.height/100)-f,(l+1===s-1?v:c[l+1]*O.height/100)-g))>2*w.height&&((r=n.getSmartText(y,O.width,2*d)).y=c[l]*O.height/100,f=d,D.push(r.width)),F[l]=r;return A?(x=k.apply(Math,_),O.height=x,e.height=x+2*I.v):(C=k.apply(Math,D),O.width=C,e.width=C+2*I.h),E.node.logicArea=O,E.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,d,g,h,p=this.conf,u="bottom"===p.legendPosition,m=p.bound&&p.bound.style||{stroke:"none"},b={};2<=arguments.length&&arguments[1]?(i=arguments[0],r=arguments[1]):1<=arguments.length&&(r=arguments[0]),h=r.animationManager,e=r.parentLayer,l=r.colorRange.getCumulativeValueRatio(),this.getLogicalSpace(i,r),o=(n=this._lSpace).node.logicArea,d=n.node.smartTexts,this.group=a=h.setAnimation({el:this.group||"group",attr:{name:"legend-values"},container:e,component:bo}),this.bound=t=h.setAnimation({el:this.bound||"rect",attr:n.bound,css:m,container:a,component:bo});for(let f=0;f<this.node.length;f++)this.node[f].remove();for(this.node=[],s=0,c=l.length;s<c;s++)(g=d[s])&&(u?(b.y=o.y+g.height/2,b.x=s===c-1?o.x+g.x-g.width/2:s?o.x+g.x:o.x+g.x+g.width/2):(b.x=o.x+g.width/2,b.y=s===c-1?o.y+g.y-g.height/2:s?o.y+g.y:o.y+g.y+g.height/2),this.node.push(h.setAnimation({el:"text",attr:{text:g.text,x:b.x,y:b.y,lineHeight:this._metaStyle.lineHeight,fill:p.style.fill},container:a,component:bo})));return{group:a,bound:t}}},p.showLegendLabels&&(this.components.LegendLabels=new jo)),t=this.components.LegendAxis,s=this.components.LegendValues,e=this.components.LegendCarpet,o=this.components.LegendBody,p.showLegendLabels&&(l=this.components.LegendLabels),this.components.LegendCarpet.configure(i),this.components.LegendValues.configure(n),this.components.LegendAxis.configure(d),this.components.LegendBody.configure(h.drawOptions.colorRange,g,n),p.showLegendLabels&&l.configure(n),p.caption?(c=Oo(uo.getDefaultConf("legendCaptionConf"),p.legendCaptionConf),this.componentCaption&&Object.keys(this.componentCaption).length?this.componentCaption.configure(p.caption,c):(this.componentCaption=new class{constructor(e,t){this.rawText=e,this.conf=t,this._id="GL_CAPTION",this.node=po,this.bound=po,this._lSpace=po,this.LegendCaption={},this.LegendCaption.LEFT={x:function(e,t){return t.x+e.width/2+2}},this.LegendCaption.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},this.LegendCaption.CENTER={x:function(){let e=arguments[1];return e.x+e.width/2}}}configure(e,t){this.rawText=e,this.conf=t}getName(){return"LegendCaption"}getType(){return"caption"}getLogicalSpace(e,t,a){var i,n,o,r,l=this.conf.padding,s=this._lSpace,c=this.rawText,d=t.gLegend.getFromEnv("chartConfig");return s&&!a?(s.isImpure=!0,s):(s=this._lSpace={bound:{height:0,width:0},node:{logicArea:po,smartText:po}},i=t.smartLabel,c?((n=Oo(e,{})).height-=2*l.v,n.width-=2*l.h,n.x+=l.h,n.y+=l.v,i.useEllipsesOnOverflow(d.useEllipsesWhenOverflow),So(r=Oo(this.conf.style,{})),i.setStyle(this._metaStyle=r),o=i.getSmartText(c,n.width,n.height),n.height=o.height,n.width=o.width,e.height=o.height+2*l.v,e.width=o.width+2*l.h,s.node.smartText=o,s.node.logicArea=n,s.bound=e,e):s.bound)}draw(){var e,t,a,i,n,o,r,l,s,c=this.conf,d=c.bound||{};return 3<=arguments.length?(n=arguments[0],o=arguments[1],r=arguments[2]):2<=arguments.length&&(n=arguments[0],r=arguments[1]),this.group=e=(s=r.animationManager).setAnimation({el:this.group||"group",attr:{name:"legend-caption"},css:c.style,component:bo,container:r.parentLayer}),this.getLogicalSpace(o,r),l=(a=this._lSpace).node,this.bound=t=s.setAnimation({el:this.bound||"rect",attr:a.bound,css:d.style,container:e,component:bo}),i="string"==typeof n?this.LegendCaption[n.toUpperCase()].x(l.smartText,o||l.logicArea):n,this.node=s.setAnimation({el:this.node||"text",attr:{text:l.smartText.text,x:i,y:l.logicArea.y+l.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:c.style.fill},container:e,component:bo}),{group:e,bound:t,node:this.node}}dispose(){this.group.remove(),this.bound.remove(),this.node.remove()}}).configure(p.caption,c),e.addCompositions(this.componentCaption,fo.CAPTION)):(e.removeCompositions(fo.CAPTION),this.componentCaption&&this.componentCaption.dispose(),delete this.componentCaption),a&&t.addCompositions(a,fo.RANGE),l&&o.addCompositions(l,fo.AXIS_LABEL),o.addCompositions(t,fo.LEGEND_AXIS),o.addCompositions(s,fo.AXIS_VALUE),e.addCompositions(o,fo.LEGEND_BODY),h.elem.gl=new class{constructor(e){this.carpet=e}draw(e){return this.carpet.draw(e)}getLogicalSpace(e,t){return this.carpet.getLogicalSpace(e,t)}dispose(){this.carpet&&this.carpet.group&&this.carpet.group.remove()}}(e)}getValueRange(){var e,t=this.elem&&this.elem.sGroup,a=t.sliders,i=t.extremes;return e=i[1]-i[0]+a.true.currPos,[{min:t.getValueFormPixel(a.false.currPos),max:t.getValueFormPixel(e)}]}_dispose(){var e=this;e.elem&&e.elem.gl&&e.elem.gl.dispose(),e.elem={},super._dispose()}getCalculatedLogicalSpace(){return this._logicalArea}setCalculatedLogicalSpace(e){this._logicalArea=e}getLogicalSpace(e){var t,a,i=this,n=i.conf,o={height:0,width:0},r=i.drawOptions,l=i.getFromEnv("chartConfig");return i._recalculateLogicalSpace?i._dontPlot?o:(i._recalculateLogicalSpace=!1,i.postConfigureInit(),n.showLegend?(a=r.refOffsetKey,i.drawOptions.refSide=l[r.refSideKey],i.drawOptions.refOffset=l[a],i.drawOptions.maxOtherSide=e||i.drawOptions.maxOtherSide,i.elem.gl&&(t=i.elem.gl.getLogicalSpace(i.drawOptions,!0),i.elem.gl&&i.setCalculatedLogicalSpace(t)),i.getCalculatedLogicalSpace()):o):(a=r.refOffsetKey,i.drawOptions.refSide=l[r.refSideKey],i.drawOptions.refOffset=l[a],i.drawOptions.maxOtherSide=e||i.drawOptions.maxOtherSide,t=i.elem.gl.getLogicalSpace(i.drawOptions,!0),i.setCalculatedLogicalSpace(t),i.getCalculatedLogicalSpace()||o)}resetLegend(){var e;(e=this.elem&&this.elem.sGroup)&&e.reset()}allocatePosition(){var e,t,a,i,n,o,r=this.getFromEnv("chart"),l=r.config,s=this.conf||{},c=s.legendPosition,d=l.canvasLeft,g=l.canvasTop,h=l.canvasWidth,p=l.canvasHeight,u=l.marginBottom,m=l.marginRight;r.config.gLegendEnabled&&(e=this.getCalculatedLogicalSpace(),a=s.width=e.width,i=s.height=e.height,"bottom"===c?(n=d+(0>(t=h-a)?0:t/2),o=l.height-e.height-u-(l.actionBarHeight||0)):(o=g+(0>(t=p-i)?0:t/2),n=l.width-e.width-m),s.xPos=n,s.yPos=o)}draw(){var e=this.getFromEnv("chart"),t=e.getFromEnv("dataSource").colorrange,a=this.conf||{};!e.config.gLegendEnabled||t&&e.hasGradientLegend&&this.drawLegendComponent(a.xPos,a.yPos,{parentGroup:e.getContainer("parentgroup"),animationManager:e.getFromEnv("animationManager")})}drawLegendComponent(e,t,a){var i,n=this,o=n.conf;return n._dontPlot?void 0:o.showLegend?(n.drawOptions.animationManager=a.animationManager,n.drawOptions.parentGroup=a.parentGroup,n.drawOptions.x=e,n.drawOptions.y=t,n.drawOptions.maxOtherSide=n.drawOptions.maxOtherSide||a.maxOtherSide,i=n.elem.gl.draw(n.drawOptions).getBBox(),o.xPos=i.x,o.yPos=i.y,o.height=i.height,o.width=i.width,void(n.enabled=!0)):void(n.enabled=!1)}},"gLegend",1),(d=e.getChildren("gLegend")[0]).configure(),e.addToEnv("gLegend",d)):"icon"===t?(e.deleteFromEnv("gLegend"),d&&d.remove(),Object(r.G)(e,Ii,"legend",1,{showLegend:!0}),(c=e.getChildren("legend")[0]).configure(),e.addToEnv("legend",c)):"none"===t&&(e.deleteFromEnv("gLegend"),e.deleteFromEnv("legend"),d&&d.remove(),c&&c.remove())}(e)};let Eo,To=Object(Bi.c)({foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1},i),Io="0,100",Po={basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},_o={getMapName:function(){return this.jsVars.instanceAPI.getName().toLowerCase()},getEntityList:function(){let e,t,a,i,n,o,r,l=this.jsVars.instanceAPI.getDatasets()||[],s=l.length,c=[];for(e=0;e<s;e++)if("entities"===(r=(a=l[e]||[]).getName())){t=a;break}for(e in s=(i=t.components.data).length,i)i.hasOwnProperty(e)&&c.push({id:(o=(n=i[e]||{}).config||{}).id,originalId:o.originalId||o.id,label:o.label,shortlabel:o.shortLabel,value:o.value,formattedValue:o.formattedValue,toolText:o.toolText});return c},getMapAttribute:function(){return Object(Je.f)(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".'),this.getChartAttribute.apply(this,arguments)},exportMap:function(){let e=this;return Object(Je.f)(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".'),e.exportChart&&e.exportChart.apply(e,arguments)},addMarker:function(e){let t,a,i,n,o=this.jsVars.instanceAPI.getDatasets()||[],r=o.length;for(t=0;t<r;t++)if("markers"===(n=(a=o[t]||[]).getName())){i=a;break}i&&!i.addMarkerItem(e)&&Object(Je.f)(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){let a,i,n,o,r=this.jsVars.instanceAPI.getDatasets()||[],l=r.length;for(a=0;a<l;a++)if("markers"===(o=(i=r[a]||[]).getName())){n=i;break}n&&e&&(e=(e+Mo).toLowerCase(),n.updateMarkerItem(e,t))},removeMarker:function(e){let t,a,i,n,o=this.jsVars.instanceAPI.getDatasets()||[],r=o.length;for(t=0;t<r;t++)if("markers"===(n=(a=o[t]||[]).getName())){i=a;break}e&&(e=(e+Mo).toLowerCase(),i._removeMarkerItem(e))}},Do="none",Bo=", ",Mo="",Ro="bottom",Vo="circle",Go=window.Math,No=Go.min,zo=Go.max,Wo=function(e,t){let a=Object(r.W)(t.getFromEnv("chart-container"),e),i=a.chartX,n=a.chartY,o=t.config,l=o.canvasLeft,s=o.canvasTop,c=o.canvasLeft+o.canvasWidth,d=o.canvasHeight+o.canvasTop;return a.insideCanvas=!1,a.originalEvent=e,i>l&&i<c&&n>s&&n<d&&(a.insideCanvas=!0),a};class Ho extends o.a{constructor(e,t){for(var a in super(),this.subpalette="",this.key="",this.index=t,e)this.subpalette=To[e[a]],this[a]=this.subpalette instanceof Array?this.subpalette[t]:this.subpalette,this.key=a}}class Qo extends _i{constructor(){super(),this.friendlyName="Map",this.revision=1,this.hasCanvas=!0,this.standaloneInit=!1,this.defaultDatasetType="maps",this.defaultSeriesType="geo",this.fireGroupEvent=!0,this.legendposition="right",this.hasGradientLegend=!0,this.isMap=!0,this.defaultPaletteOptions={paletteColors:[["A6A6A6","CCCCCC","E1E1E1","F0F0F0"],["A7AA95","C4C6B7","DEDFD7","F2F2EE"],["04C2E3","66E7FD","9CEFFE","CEF8FF"],["FA9101","FEB654","FED7A0","FFEDD5"],["FF2B60","FF6C92","FFB9CB","FFE8EE"]],bgColor:["FFFFFF","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:[Io,Io,Io,Io,Io],bgAlpha:["100","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendColor:["545454","60634E","415D6F","845001","68001B"],plotFillColor:["545454","60634E","415D6F","845001","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50]},this.colorPaletteMap=Po,this.eiMethods=_o,this.registerFactory("legend",Ao,["canvas"]),this.registerFactory("axis",()=>{},["canvas"]),this.registerFactory("colormanager-decider",ho,["legend"]),this.registerFactory("dataset",oo,["colormanager-decider"]),this.registerFactory("canvas",m)}_checkInvalidSpecificData(){return this.config.invalid=!1,!1}__setDefaultConfig(){var e=this.config;e.baseWidth||(e.baseWidth=400),e.baseHeight||(e.baseHeight=300),e.baseScaleFactor||(e.baseScaleFactor=1)}static getName(){return"maps"}static getType(){return"chartAPI"}getName(){return this.config.name||"GEO"}getType(){return"chartAPI"}configureAttributes(e){let t,a=this,i=a.getChildren("colorPalette")&&a.getChildren("colorPalette")[0];t=e.chart=e.chart||e.graph||e.map||{},a.jsonData=e,Object(r.G)(a,Di.a,"mapAnnotations"),i||(i=new Ho(this.colorPaletteMap,(0<t.palette&&6>t.palette?t.palette:Object(r.Sa)(a.paletteIndex,1))-1),a.attachChild(i,"colorPalette")),a.config.skipCanvasDrawing=!0,super.configureAttributes(e),a._parseBackgroundCosmetics()}parseChartAttr(e){let t,a,i,n,o,l=this,s=l.jsonData,c=s.chart||s.map,d=s.markers,g=new Ho(this.colorPaletteMap,(0<c.palette&&6>c.palette?c.palette:Object(r.Sa)(l.paletteIndex,1))-1),h=Object(r.Qa)(c.entitybordercolor,c.bordercolor,g.plotbordercolor),p=Object(r.Qa)(c.entityfillcolor,c.fillcolor,g.plotfillcolor),u=Object(r.Qa)(c.entityfillalpha,c.fillalpha,g.plotfillalpha),m=Object(r.Qa)(c.entityfillratio,c.fillratio,g.plotfillratio),b=Object(r.Qa)(c.entityfillangle,c.fillangle,g.plotfillangle),f=Object(r.Qa)(c.nullentityfillcolor,c.nullentitycolor,p),v=Object(r.Sa)(c.usevaluesformarkers,s.markers&&s.markers.items&&s.markers.items.length,!(s.markers&&s.markers.application&&s.markers.application.length&&s.markers.definition&&s.markers.definition.length));super.parseChartAttr(e),(t=l.config).origMarginTop=Object(r.Sa)(c.charttopmargin,c.maptopmargin,11),t.origMarginLeft=Object(r.Sa)(c.chartleftmargin,c.mapleftmargin,11),t.origMarginBottom=Object(r.Sa)(c.chartbottommargin,c.mapbottommargin,11),t.origMarginRight=Object(r.Sa)(c.chartrightmargin,c.maprightmargin,11),t.labelsOnTop=Object(r.Sa)(c.entitylabelsontop,1),a=(o=t.style).inCancolor,t.entityOpts={baseScaleFactor:t.baseScaleFactor,dataLabels:{style:{fontFamily:i=o.inCanfontFamily,fontSize:n=o.inCanfontSize,lineHeight:o.inCanLineHeight,color:o.inCancolor}},fillColor:p,fillAlpha:u,fillRatio:m,fillAngle:b,borderColor:h,borderAlpha:Object(r.Qa)(c.entityborderalpha,c.borderalpha,l.borderAlpha,"100"),borderThickness:Object(r.Sa)(c.showentityborder,c.showborder,1)?Object(r.Sa)(c.entityborderthickness,c.borderthickness,1):0,scaleBorder:Object(r.Sa)(c.scaleentityborder,c.scaleborder,0),hoverFillColor:Object(r.Qa)(c.entityfillhovercolor,c.hoverfillcolor,c.hovercolor,g.plothoverfillcolor),hoverFillAlpha:Object(r.Qa)(c.entityfillhoveralpha,c.hoverfillalpha,c.hoveralpha,g.plothoverfillalpha),hoverFillRatio:Object(r.Qa)(c.entityfillhoverratio,c.hoverfillratio,c.hoverratio,g.plothoverfillratio),hoverFillAngle:Object(r.Qa)(c.entityfillhoverangle,c.hoverfillangle,c.hoverangle,g.plothoverfillangle),hoverBorderThickness:Object(r.Qa)(c.entityborderhoverthickness,c.hoverborderthickness),hoverBorderColor:Object(r.Qa)(c.entityborderhovercolor,h,g.plotbordercolor),hoverBorderAlpha:Object(r.Qa)(c.entityborderhoveralpha,g.plotborderalpha),nullEntityColor:f,nullEntityAlpha:Object(r.Qa)(c.nullentityfillalpha,c.nullentityalpha,u),nullEntityRatio:Object(r.Qa)(c.nullentityfillratio,c.nullentityratio,m),nullEntityAngle:Object(r.Qa)(c.nullentityfillangle,c.nullentityangle,b),connectorColor:Object(r.Qa)(c.labelconnectorcolor,c.connectorcolor,a),connectorAlpha:Object(r.Qa)(c.labelconnectoralpha,c.connectoralpha,"100"),connectorThickness:Object(r.Sa)(c.labelconnectorthickness,c.borderthickness,1),showHoverEffect:Object(r.Sa)(c.showentityhovereffect,c.usehovercolor,c.showhovereffect,1),hoverOnNull:Object(r.Sa)(c.hoveronnull,c.entityhoveronnull,1),labelPadding:Object(r.Sa)(c.labelpadding,5),showLabels:Object(r.Sa)(c.showlabels,1),labelsOnTop:Object(r.Sa)(c.entitylabelsontop,1),includeNameInLabels:Object(r.Sa)(c.includenameinlabels,1),includeValueInLabels:Object(r.Sa)(c.includevalueinlabels,0),useSNameInTooltip:Object(r.Sa)(c.usesnameintooltip,0),useShortName:Object(r.Sa)(c.usesnameinlabels,1),labelSepChar:Object(r.Qa)(c.labelsepchar,Bo),showTooltip:Object(r.Sa)(c.showentitytooltip,c.showtooltip,1),tooltipSepChar:Object(r.Qa)(c.tooltipsepchar,", "),tooltext:c.entitytooltext,hideNullEntities:Object(r.Sa)(c.hidenullentities,0),showHiddenEntityBorder:Object(r.Sa)(c.showhiddenentityborder,1),showNullEntityBorder:Object(r.Sa)(c.shownullentityborder,1),hiddenEntityColor:Object(r.Qa)(c.hiddenentitycolor,c.hiddenentityfillcolor,c.hiddenentityalpha||c.hiddenentityfillalpha?f:"ffffff"),hiddenEntityAlpha:Object(r.Qa)(c.hiddenentityalpha,c.hiddenentityfillalpha,.001),shadow:Object(r.Sa)(c.showshadow,l.defaultPlotShadow,g.shadow)},t.markerOpts={dataLabels:{style:{fontFamily:Object(r.Qa)(c.markerfont,i),fontSize:Object(r.Sa)(c.markerfontsize,parseInt(n,10)),fontColor:Object(r.Qa)(c.markerfontcolor,a)}},showTooltip:Object(r.Sa)(c.showmarkertooltip,c.showtooltip,1),showLabels:Object(r.Sa)(c.showmarkerlabels,c.showlabels,1),showHoverEffect:Object(r.Sa)(c.showmarkerhovereffect,1),labelPadding:Object(r.Qa)(c.markerlabelpadding,"5"),labelWrapWidth:Object(r.Sa)(c.markerlabelwrapwidth,0),labelWrapHeight:Object(r.Sa)(c.markerlabelwrapheight,0),fillColor:Object(r.Qa)(c.markerfillcolor,c.markerbgcolor,g.markerfillcolor),fillAlpha:Object(r.Qa)(c.markerfillalpha,g.markerfillalpha),fillAngle:Object(r.Qa)(c.markerfillangle,g.markerfillangle),fillRatio:Object(r.Qa)(c.markerfillratio,g.markerfillratio),fillPattern:Object(r.Qa)(c.markerfillpattern,g.markerbgpattern),hoverFillColor:c.markerfillhovercolor,hoverFillAlpha:c.markerfillhoveralpha,hoverFillRatio:c.markerfillhoverratio,hoverFillAngle:c.markerfillhoverangle,borderThickness:Object(r.Qa)(c.markerborderthickness,1),borderColor:Object(r.Qa)(c.markerbordercolor,g.markerbordercolor),borderAlpha:Object(r.Sa)(c.markerborderalpha,g.markerborderalpha),hoverBorderThickness:c.markerborderhoverthickness,hoverBorderColor:c.markerborderhovercolor,hoverBorderAlpha:c.markerborderhoveralpha,radius:Object(r.Sa)(c.markerradius&&Object(r.fb)(c.markerradius),7),shapeId:Object(r.Qa)(c.defaultmarkershape,Vo),labelSepChar:Object(r.Qa)(c.labelsepchar,Bo),tooltipSepChar:Object(r.Qa)(c.tooltipsepchar,", "),autoScale:Object(r.Sa)(c.autoscalemarkers,0),tooltext:Object(r.Qa)(d&&d.tooltext,c.markertooltext),dataEnabled:v,valueToRadius:Object(r.Sa)(c.markerradiusfromvalue,1),valueMarkerAlpha:Object(r.Qa)(c.valuemarkeralpha,"75"),hideNull:Object(r.Sa)(c.hidenullmarkers,0),nullRadius:Object(r.Sa)(c.nullmarkerradius,c.markerradius,7),adjustViewPort:Object(r.Sa)(c.adjustviewportformarkers,0),startAngle:Object(r.Sa)(c.markerstartangle,90),maxRadius:Object(r.Sa)(c.maxmarkerradius,0),minRadius:Object(r.Sa)(c.minmarkerradius,0),applyAll:Object(r.Sa)(c.applyallmarkers,0),shadow:Object(r.Sa)(c.showmarkershadow,c.showshadow,0)},t.connectorOpts={showHoverEffect:Object(r.Sa)(c.showconnectorhovereffect,1),thickness:Object(r.Sa)(c.connectorthickness,c.markerconnthickness,"2"),color:Object(r.Qa)(c.connectorcolor,c.markerconncolor,g.markerbordercolor),alpha:Object(r.Qa)(c.connectoralpha,c.markerconnalpha,"100"),hoverThickness:Object(r.Sa)(c.connectorhoverthickness,c.connectorthickness,c.markerconnthickness,"2"),hoverColor:Object(r.Qa)(c.connectorhovercolor,c.connectorcolor,c.markerconncolor,g.markerbordercolor),hoverAlpha:Object(r.Qa)(c.connectorhoveralpha,c.connectoralpha,c.markerconnalpha,"100"),dashed:Object(r.Sa)(c.connectordashed,c.markerconndashed,0),dashLen:Object(r.Sa)(c.connectordashlen,c.markerconndashlen,3),dashGap:Object(r.Sa)(c.connectordashgap,c.markerconndashgap,2),font:Object(r.Qa)(c.connectorfont,c.markerconnfont,i),fontColor:Object(r.Qa)(c.connectorfontcolor,c.markerconnfontcolor,a),fontSize:Object(r.Sa)(c.connectorfontsize,c.markerconnfontsize,parseInt(n,10)),showLabels:Object(r.Sa)(c.showconnectorlabels,c.showmarkerlabels,c.showlabels,1),labelBgColor:Object(r.Qa)(c.connectorlabelbgcolor,c.markerconnlabelbgcolor,g.plotfillcolor),labelBorderColor:Object(r.Qa)(c.connectorlabelbordercolor,c.markerconnlabelbordercolor,g.markerbordercolor),shadow:Object(r.Sa)(c.showconnectorshadow,c.showmarkershadow,c.showshadow,0),showTooltip:Object(r.Sa)(c.showconnectortooltip,c.showmarkertooltip,c.showtooltip,1),tooltext:Object(r.Qa)(d&&d.connectortooltext,c.connectortooltext),hideOpen:Object(r.Sa)(c.hideopenconnectors,1)},t.adjustViewPortForMarkers=Object(r.Sa)(c.adjustviewportformarkers,v)}_attachMouseEvents(){let e=this,t=e.getFromEnv("eventListeners"),a=e.getFromEnv("chart-container");Se.a.unlisten(a,r.Ca?"touchstart":"mousemove",Qo.searchMouseMove),t.push(Se.a.listen(a,"touchstart mousemove",Qo.searchMouseMove,e))}static searchMouseMove(e){let t,a=e.data,i=a.config;!a.getFromEnv("chart-container")||(t=Wo(e,a))&&t.insideCanvas&&(i.lastMouseEvent=e,a._searchNearestNeighbour({x:t.chartX,y:t.chartY}))}_searchNearestNeighbour(e){let t,a=this,i=a.getDatasets()[1];if(i){if(!i.components.kDTree)return;(t=i.getElement(e))?a.config.lastHoveredPoint!==t&&i.highlightPoint(t):i.highlightPoint(!1)}}_createLayers(){super._createLayers(),this._attachMouseEvents()}_parseBackgroundCosmetics(){let e,t=this,a=t.getChildren("background")[0].config,i=t.getChildren("colorPalette")[0],n=t.getFromEnv("chart-attrib");e=a.showBorder=Object(r.Sa)(n.showcanvasborder,1),a.borderWidth=e?Object(r.Sa)(n.canvasborderthickness,1):0,a.borderRadius=a.borderRadius=Object(r.Sa)(n.canvasborderradius,0),a.borderDashStyle=a.borderDashStyle=Object(r.Sa)(n.borderdashed,0)?Object(r.S)(Object(r.Sa)(n.borderdashlen,4),Object(r.Sa)(n.borderdashgap,2)):Do,a.borderAlpha=Object(r.Qa)(n.canvasborderalpha,i.borderAlpha),a.borderColor=a.borderColor=Object(l.c)(Object(r.Qa)(n.canvasbordercolor,i&&i.borderColor),a.borderAlpha)}_getBackgroundCosmetics(){let e=this,t=e.getFromEnv("chart-attrib")||e.jsonData.map,a=e.getChildren("colorPalette")[0];return{FCcolor:{color:Object(r.Qa)(t.bgcolor,t.canvasbgcolor,a.bgcolor),alpha:Object(r.Qa)(t.bgalpha,t.canvasbgalpha,a.bgalpha),angle:Object(r.Qa)(t.bgangle,t.canvasbgangle,a.bgangle),ratio:Object(r.Qa)(t.bgratio,t.canvasbgratio,a.bgratio)}}}_parseCanvasCosmetics(){super._parseCanvasCosmetics();let e=this,t=e.config,a=e.getFromEnv("chart-attrib")||e.jsonData.map,i=e.getChildren("canvas")[0].config;t.origMarginTop=Object(r.Sa)(a.maptopmargin,11),t.origMarginLeft=Object(r.Sa)(a.mapleftmargin,11),t.origMarginBottom=Object(r.Sa)(a.mapbottommargin,11),t.origMarginRight=Object(r.Sa)(a.maprightmargin,11),t.origCanvasLeftMargin=Object(r.Sa)(a.canvasleftmargin,0),t.origCanvasRightMargin=Object(r.Sa)(a.canvasrightmargin,0),t.origCanvasTopMargin=Object(r.Sa)(a.canvastopmargin,0),t.origCanvasBottomMargin=Object(r.Sa)(a.canvasbottommargin,0),i.canvasBorderRadius=Object(r.Sa)(a.canvasborderradius,0),i.origCanvasTopPad=Object(r.Sa)(a.canvastoppadding,0),i.origCanvasBottomPad=Object(r.Sa)(a.canvasbottompadding,0),i.origCanvasLeftPad=Object(r.Sa)(a.canvasleftpadding,0),i.origCanvasRightPad=Object(r.Sa)(a.canvasrightpadding,0)}preliminaryScaling(){let e,t,a,i=this.jsonData,n=i.markers&&i.markers.items||[],o=n&&n.length||0,r=1/0,l=1/0,s=-1/0,c=-1/0;for(;o--;)t=+(a=n[o]).y,r=No(r,e=+a.x),l=No(l,t),s=zo(s,e),c=zo(c,t);return{x:r,y:l,x1:s,y1:c}}getScalingParameters(e,t,a,i){let n,o,r=e/t,l=a/(e*this.config.baseScaleFactor),s=i/(t*this.config.baseScaleFactor),c=0,d=0;return l>s?(c+=(a-i*r)/2,o=200/(t*(n=s))):(d+=(i-a/r)/2,o=200/(e*(n=l))),{scaleFactor:n,strokeWidth:o,translateX:c,translateY:d}}calculateMarkerBounds(e,t,a){let i,n,o,r,l,s,c,d,g,h,p,u,m,b,f=this,v=f.config,x=v.markerOpts,C=f.getDatasets(),O=f.getDataLimits(),y=O.dataMin,S=O.dataMax,w=x.hideNull,L=x.nullRadius,F=x.valueToRadius,j=1/0,k=1/0,A=-1/0,E=-1/0;for(s=0,g=C.length;s<g;s++)"markers"===(c=(d=C[s]).getName())&&(i=d);if(i)for(s in i.calculateMarkerRadiusLimits(),o=(n=i.config||{}).minRadius,r=n.maxRadius,l=i.components&&i.components.markerObjs||{})m=(v=(b=l[s]).config).definition||{},null!==v.cleanValue?(F&&m.radius===Eo&&(v.radius=o+(r-o)*(v.cleanValue-y)/(S-y)),p=(+m.y+a)*e,j=No(j,(h=(+m.x+t)*e)-(u=+v.radius)),k=No(k,p-u),A=zo(A,h+u),E=zo(E,p+u)):w?v.__hideMarker=!0:null===v.radius&&(v.radius=L);return{x:j,y:k,x1:A,y1:E}}_spaceManager(){let e,t,a,i,n,o,l,s,c,d=this,g=d.config,h=d.getChildren("legend")&&d.getChildren("legend")[0],p=h&&h.config.legendPos,u=d.getFromEnv("chart-attrib"),m=g.origMarginLeft,b=g.origMarginTop,f=d.config.baseWidth,v=d.config.baseHeight,x={},C=0,O=0,y=g.markerOpts,S=g.borderWidth=g.showBorder?Object(r.Sa)(u.borderthickness,1):0;d._allocateSpace({top:S,bottom:S,left:S,right:S}),d._allocateSpace(d._manageActionBarSpace&&d._manageActionBarSpace(.225*g.availableHeight)||{}),g.showLegend&&d._manageLegendSpace(s="right"===p?.3*g.canvasWidth:.3*g.canvasHeight),c=d._manageChartMenuBar(e=p===Ro?.225*g.canvasHeight:.225*g.canvasWidth),a=g.canvasWidth,i=g.canvasHeight,y.dataEnabled?(g.adjustViewPortForMarkers?((x=d.preliminaryScaling()).x1>f&&(f=x.x1),0>x.x&&(f+=-x.x,C=-x.x),x.y1>v&&(v=x.y1),0>x.y&&(v+=-x.y,O=-x.y),t=d.getScalingParameters(f,v,a,i),o=i,l=a,0>(x=d.calculateMarkerBounds(t.scaleFactor*d.config.baseScaleFactor,C,O)).x&&(m+=-x.x,a+=x.x),0>x.y&&(b+=-x.y,i+=x.y),x.x1>l&&(a-=x.x1-l),x.y1>o&&(i-=x.y1-o)):(t=d.getScalingParameters(f,v,a,i),d.calculateMarkerBounds(t.scaleFactor*d.config.baseScaleFactor,C,O)),m+=C*(t=d.getScalingParameters(f,v,a,i)).scaleFactor*d.config.baseScaleFactor,b+=O*t.scaleFactor*d.config.baseScaleFactor):t=d.getScalingParameters(f,v,a,i),d.config.scalingParams=t,n=t.scaleFactor,t.translateX+=m,t.translateY=t.translateY+b+c.top||0,t.sFactor=n*d.config.baseScaleFactor*100/100,t.transformStr=["t",t.translateX,",",t.translateY,"s",n,",",n,",0,0"].join(""),d.config.annotationConfig={id:"Geo",showbelow:0,autoscale:0,grpxshift:t.translateX?t.translateX:0,grpyshift:t.translateY?t.translateY:0,xscale:100*(n?n*d.config.baseScaleFactor:1),yscale:100*(n?n*d.config.baseScaleFactor:1),scaletext:1,options:{useTracker:!0}},d.getChildren("mapAnnotations")[0].clear(),d.getChildren("mapAnnotations")[0].configureAttributes()}getDataLimits(){let e,t,a,i=this.getDatasets(),n=i.length,o=1/0,r=-1/0;for(a=0;a<n;a++)t=(e=i[a]).getDataLimits(),o=No(o,t.min),r=zo(r,t.max);return{dataMin:o,dataMax:r}}getEntityPaths(e){let t,a={},i=this.config.entities;if(e){for(t in i)a[t]=i[t];return a}return i}checkComplete(){let e=this;e.config.entityFlag&&e.config.entitiesReady&&(e.config.entityFlag=!1,e.config.markersDrawn=!0,e.fireChartInstanceEvent("internal.mapdrawingcomplete",{renderer:e}))}}var Yo=Qo;a.d(t,"Maps",function(){return Yo}),t.default={name:"maps",type:"package",requiresFusionCharts:!0,extension:e=>e.addDep(Yo)}},y4jF:function(e,t,a){var i=a("NBrB");e.exports=a("DjAY")(function(e,t,a){for(var n=[],o=0,r=t.length;o<r;)i(e,t[o],a)||i(e,t[o],n)||n.push(t[o]),o+=1;return n})},zgIM:function(e,t,a){var i=a("zm7I"),n=a("NBrB"),o=a("+gcA"),r=a("Av+g"),l=a("iJhd"),s=a("7e6P"),c=a("P9nH");function d(e,t,a,o){var r=i(e),l=i(t);function s(e,t){return g(e,t,a.slice(),o.slice())}return!n(function(e,t){return!n(s,t,e)},l,r)}function g(e,t,a,i){if(l(e,t))return!0;var n=c(e);if(n!==c(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(n){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===o(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!l(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!l(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var h=a.length-1;h>=0;){if(a[h]===e)return i[h]===t;h-=1}switch(n){case"Map":return e.size===t.size&&d(e.entries(),t.entries(),a.concat([e]),i.concat([t]));case"Set":return e.size===t.size&&d(e.values(),t.values(),a.concat([e]),i.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=s(e);if(p.length!==s(t).length)return!1;var u=a.concat([e]),m=i.concat([t]);for(h=p.length-1;h>=0;){var b=p[h];if(!r(b,t)||!g(t[b],e[b],u,m))return!1;h-=1}return!0}e.exports=g},zm7I:function(e,t){e.exports=function(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}}}]);