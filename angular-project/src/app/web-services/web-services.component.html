<div class="animated fadeIn row">
  <div class="col-lg-12 mx-auto">
    <div>
      <mat-tab-group>
        <mat-tab label="Webservices with Url Builder">
          <div class="mt-lg-5 p-3">
            <div class="card">
              <div class="card-header bg-blue">
                <h3 class="card-title"><i class="fa fa-floppy-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;New
                  Url Building Webservice</h3>
              </div>
              <div class="card-body well">
                <form class="form-horizontal">
                  <fieldset>
                    <legend>Enter a WSDL url from <a href="http://www.webservicex.net/New/"
                                                     target="_blank">
                      http://www.webservicex.net/New/</a> and give the service a name.
                    </legend>
                    <div class="form-group">
                      <label for="ws-name-input" class="col-lg-2 control-label">Name</label>

                      <div class="col-lg-10">
                        <input type="text" [(ngModel)]="name" class="form-control"
                               id="ws-name-input" name="ws-name-input"
                               placeholder="Choose a name">
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="ws-uri-input" class="col-lg-2 control-label">URL</label>

                      <div class="col-lg-10">
                        <input type="text" [(ngModel)]="uri" class="form-control" id="ws-uri-input"
                               placeholder="WSDL/WADL Url" name="ws-uri-input">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-lg-10 mx-auto">
                        <!--<action-message ng-show="vm.serviceBuilderAction.message" action-info="vm.serviceBuilderAction"></action-message>-->
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-lg-10 mx-auto">
                        <button type="reset" class="btn btn-default"><i class="fa fa-undo"
                                                                        aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Reset
                        </button>
                        <button type="submit" (click)="saveServiceBuilder()"
                                class="btn btn-primary"><i
                          class="fa fa-plus-square" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Save
                        </button>
                      </div>
                    </div>
                  </fieldset>
                </form>
              </div>
            </div>
            <div *ngIf="dataFetched">
              <div [hidden]="serviceBuilders.length === 0"
                   class="ng-hide animated fadeIn row sub-cont">
                <div class="card mt-lg-3">
                  <div class="card-header bg-blue">
                    <h3 class="card-title"><i class="fa fa-folder-open-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;
                      Url Builders</h3>
                  </div>
                  <div class="card-body">
                    <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover">
                      <thead>
                      <tr class="success">
                        <th>Name</th>
                        <th>Base Uri</th>
                        <th>Method</th>
                        <th>Parameters</th>
                        <th>Actions</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr *ngFor="let service of serviceBuilders">
                        <td class="">{{service.name}}</td>
                        <td class="serviceUrl"><a href="{{service.baseUri}}" target="_blank">{{service.baseUri}}</a></td>
                        <td class="serviceUrl">{{service.method}}</td>
                        <td *ngIf="service.parameters !== ''" class="serviceUrl">
                          {{service.parameters}}
                        </td>
                        <td *ngIf="service.parameters === ''" class="serviceUrl">No parameters
                          required.
                        </td>
                        <td>
                          <div layout layout-xs="column">
                            <button flex class="btn-spacer btn btn-info btn-sm"
                                    (click)="test(service)">
                              <i class="fa fa-repeat"></i>&nbsp;&nbsp;&nbsp;Test
                            </button>
                            <button flex class="btn-spacer btn btn-danger btn-sm"
                                    (click)="deleteService(service, true)">
                              <i class="fa fa-times-circle"></i>&nbsp;&nbsp;&nbsp;Delete
                            </button>
                          </div>
                        </td>
                      </tr>
                      </tbody>
                    </table>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-8 mx-auto"
                   [hidden]="serviceBuilders.length !== 0">
                <h1 class="text-danger">Oops! You don't have any saved web services yet.</h1>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Webservices without Url Builder">
          <div class="mt-lg-5 p-3">
            <div class="card">
              <div class="card-header bg-blue">
                <h3 class="card-title"><i class="fa fa-floppy-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Add a Service Test Url</h3>
              </div>
              <div class="card-body well">
                <form class="form-horizontal">
                  <fieldset>
                    <div class="form-group">
                      <label for="ws-uri-input" class="col-lg-2 control-label">URL</label>

                      <div class="col-lg-10">
                        <input type="text" [(ngModel)]="uri" class="form-control" id="wsno-uri-input"
                               placeholder="Test url, e.g. http://localhost:8080/webservice/v1/math/nfibonacci?n=30" name="wsno-uri-input">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-lg-10 mx-auto">
                        <!--<action-message ng-show="vm.serviceNoBuilderAction.message" action-info="vm.serviceNoBuilderAction"></action-message>-->
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-lg-10 mx-auto">
                        <button type="reset" class="btn btn-default"><i class="fa fa-undo"
                                                                        aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Reset
                        </button>
                        <button type="submit" (click)="saveServiceUrl()"
                                class="btn btn-primary"><i
                          class="fa fa-plus-square" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Save
                        </button>
                      </div>
                    </div>
                  </fieldset>
                </form>
              </div>
            </div>
            <div *ngIf="dataFetched">
              <div [hidden]="serviceNoBuilders.length === 0"
                   class="ng-hide animated fadeIn row sub-cont">
                <div class="card mt-lg-3">
                  <div class="card-header bg-blue">
                    <h3 class="card-title"><i class="fa fa-folder-open-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;
                      Url Builders</h3>
                  </div>
                  <div class="card-body">
                    <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover">
                      <thead>
                      <tr class="success">
                        <th>Test Uri</th>
                        <th>Actions</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr *ngFor="let service of serviceNoBuilders">
                        <td><a href="{{service.testUri}}" target="_blank">{{service.testUri}}</a></td>
                        <td>
                          <div layout layout-xs="column">
                            <button flex class="btn-spacer btn btn-info btn-sm"
                                    (click)="test(service)">
                              <i class="fa fa-repeat"></i>&nbsp;&nbsp;&nbsp;Test
                            </button>
                            <button flex class="btn-spacer btn btn-danger btn-sm"
                                    (click)="deleteService(service, false)">
                              <i class="fa fa-times-circle"></i>&nbsp;&nbsp;&nbsp;Delete
                            </button>
                          </div>
                        </td>
                      </tr>
                      </tbody>
                    </table>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-8 mx-auto"
                   [hidden]="serviceNoBuilders.length !== 0">
                <h1 class="text-danger">Oops! You don't have any saved service urls.</h1>
              </div>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
